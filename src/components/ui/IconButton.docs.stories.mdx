import { Meta, Title, Subtitle, Description, ArgsTable, Source, Canvas, Controls } from '@storybook/blocks';
import { IconButton } from './IconButton';
import * as IconButtonStories from './IconButton.stories';
import { Search, Settings, Trash2, Check, Info, AlertTriangle } from 'lucide-react';

<Meta of={IconButton} title="UI/IconButton/Docs" tags={['docs']} />

<Title>IconButton</Title>

<Subtitle>Interactive icon-only button with variants, sizes, tooltip, and loading state</Subtitle>

<Description>
Use IconButton for compact actions that can be represented by an icon. Provide an accessible label via
<code>aria-label</code> or a nearby text label. Supports variants, sizes, tooltips, and a loading state.
</Description>

## Live examples

<Canvas of={IconButtonStories.Primary} />
<Controls of={IconButtonStories.Primary} />
<Source of={IconButtonStories.Primary} />
<Canvas of={IconButtonStories.Sizes} />
<Source of={IconButtonStories.Sizes} />
<Canvas of={IconButtonStories.WithTooltip} />
<Source of={IconButtonStories.WithTooltip} />
<Canvas of={IconButtonStories.Loading} />
<Source of={IconButtonStories.Loading} />

## Usage

<Source
  code={`import { IconButton } from '@/components/ui/IconButton';
import { Search, Settings } from 'lucide-react';

export function Toolbar() {
  return (
    <div className="flex gap-2">
      <IconButton icon={Search} aria-label="Search" variant="ghost" />
      <IconButton icon={Settings} aria-label="Settings" variant="secondary" />
    </div>
  );
}`} language="tsx" />

## Variants and sizes

Variants: primary, secondary, ghost, danger, success

Sizes: sm, md, lg

<Source
  code={`<div className="flex flex-wrap gap-3">
  <IconButton icon={Check} aria-label="Confirm" variant="primary" />
  <IconButton icon={Info} aria-label="Info" variant="secondary" />
  <IconButton icon={AlertTriangle} aria-label="Warn" variant="danger" />
  <IconButton icon={Search} aria-label="Search" size="sm" />
  <IconButton icon={Search} aria-label="Search" size="md" />
  <IconButton icon={Search} aria-label="Search" size="lg" />
</div>`}
  language="tsx"
/>

## Tooltip and loading

<Source
  code={`<div className="flex items-center gap-3">
  <IconButton icon={Trash2} aria-label="Delete" variant="danger" tooltip="Delete item" />
  <IconButton icon={Settings} aria-label="Saving" isLoading tooltip="Saving..." />
</div>`}
  language="tsx"
/>

## Accessibility guidelines

- Always pass an informative aria-label when using icon-only buttons.
- Ensure tooltip content is supplemental; do not rely on hover-only for critical info.
- Use disabled or isLoading to prevent duplicate submissions.

## Props

<ArgsTable of={IconButton} />


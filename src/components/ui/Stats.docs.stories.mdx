import { Meta, Title, Subtitle, Description, ArgsTable, Source, Canvas, Controls } from '@storybook/blocks';
import { StatCard, StatsGrid, PercentageRing } from './Stats';
import * as StatsStories from './Stats.stories';
import { Users, Activity, DollarSign } from 'lucide-react';

<Meta of={StatCard} title="UI/Stats/Docs" tags={['docs']} />

<Title>Stats</Title>

<Subtitle>Animated KPI cards, grids, and percentage rings</Subtitle>

<Description>
The Stats primitives help compose dashboards: use `StatsGrid` to layout `StatCard` components and `PercentageRing` to visualize completion or usage. Animations are enabled when elements enter the viewport.
</Description>

## Live examples

<Canvas of={StatsStories.CardsInGrid} />
<Source of={StatsStories.CardsInGrid} />
<Canvas of={StatsStories.ProgressRing} />
<Source of={StatsStories.ProgressRing} />

## Usage

<Source
  code={`import { StatsGrid, StatCard, PercentageRing } from '@/components/ui/Stats';
import { Users, Activity } from 'lucide-react';

export function Dashboard() {
  return (
    <>
      <StatsGrid columns={4}>
        <StatCard value={12847} label="Active Users" icon={Users} />
        <StatCard value={99.97} label="Uptime" suffix="%" icon={Activity} />
      </StatsGrid>
      <div className="mt-6 flex gap-6">
        <PercentageRing percentage={72} label="Coverage" />
        <PercentageRing percentage={45} label="CPU" color="#f59e0b" />
      </div>
    </>
  );
}`}
  language="tsx"
/>

## Grid composition
- Choose `columns`: 2, 3, or 4.
- Children are animated with small delays for a cascade effect.

## StatCard props
- `value`: number to animate to.
- `label`: descriptor text.
- Optional `icon`, `prefix`, `suffix`, `decimals`, and `trend` (value, isPositive).

<Source
  code={`<StatCard value={24580} label="Revenue" prefix="$" icon={DollarSign} />`}
  language="tsx"
/>

## PercentageRing
- Animated circular progress with a label.
- Customize `size`, `strokeWidth`, and `color`.

## Props
<ArgsTable of={StatCard} />


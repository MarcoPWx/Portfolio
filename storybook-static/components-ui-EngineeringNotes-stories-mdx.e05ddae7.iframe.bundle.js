(self.webpackChunk_naturequest_portfolio=self.webpackChunk_naturequest_portfolio||[]).push([[353],{"./node_modules/@storybook/addon-docs/dist sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/@storybook/addon-docs/dist sync recursive",module.exports=webpackEmptyContext},"./src/components/ui/EngineeringNotes.stories.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>MDXContent});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_mdx_js_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@mdx-js/react/lib/index.js"),_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/blocks.js");function _createMdxContent(props){const _components={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_2__.R)(),...props.components};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.Meta,{title:"Guides/Engineering Notes",tags:["docs"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.Title,{children:"Engineering Notes: Storybook Webpack & Docs"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.Subtitle,{children:"Polyfills, environment flags, module fallbacks, and bundle analysis"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_blocks__WEBPACK_IMPORTED_MODULE_3__.Description,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"This page summarizes key configuration that makes MDX docs and components run smoothly in the browser, plus how to analyze bundles to guide SplitChunks tuning."})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{children:"Runtime globals via ProvidePlugin"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Some dependencies reference Node globals (e.g., ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("code",{children:"process"}),", ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("code",{children:"Buffer"}),") which donâ€™t exist in the browser. We use ProvidePlugin so those names resolve to browser-friendly shims at runtime."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-js",children:"const webpack = require('webpack');\n\n(config.plugins || (config.plugins = [])).push(\n  new webpack.ProvidePlugin({\n    process: 'process/browser',\n    Buffer: ['buffer', 'Buffer'],\n  })\n);\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{children:"Compile-time constants via DefinePlugin"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Libraries (React, others) gate dev/prod code on ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("code",{children:"process.env.NODE_ENV"}),". DefinePlugin replaces it at build time, unlocking tree-shaking and predictable behavior."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-js",children:"const webpack = require('webpack');\n\n(config.plugins || (config.plugins = [])).push(\n  new webpack.DefinePlugin({\n    'process.env.NODE_ENV': JSON.stringify(process.env.NODE_ENV || 'development'),\n  })\n);\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{children:"Node core fallbacks (browser shims)"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["If a package imports Node core modules (e.g., ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("code",{children:"tty"}),", ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("code",{children:"buffer"}),"), map them to browser shims. Only add fallbacks that you need."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-js",children:"config.resolve = config.resolve || {};\nconfig.resolve.fallback = {\n  ...(config.resolve.fallback || {}),\n  buffer: require.resolve('buffer'),\n  tty: require.resolve('tty-browserify'),\n  // Add only if an error requires it:\n  // path: require.resolve('path-browserify'),\n  // stream: require.resolve('stream-browserify'),\n};\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{children:"SplitChunks: safer defaults + optional vendor groups"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"SplitChunks reduces entrypoint size and improves caching. Start broad, then add targeted cache groups as needed."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-js",children:"config.optimization = {\n  ...(config.optimization || {}),\n  splitChunks: {\n    ...(config.optimization?.splitChunks || {}),\n    chunks: 'all',\n    cacheGroups: {\n      ...(config.optimization?.splitChunks?.cacheGroups || {}),\n      vendor: {\n        test: /[\\\\/]node_modules[\\\\/]/,\n        name: 'vendors',\n        chunks: 'all',\n      },\n    },\n  },\n};\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Optional, app-specific groups:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-js",children:"config.optimization.splitChunks.cacheGroups = {\n  ...config.optimization.splitChunks.cacheGroups,\n  reactVendor: {\n    test: /[\\\\/]node_modules[\\\\/](react|react-dom|scheduler)[\\\\/]/,\n    name: 'react-vendor',\n    chunks: 'all',\n    priority: 20,\n  },\n  uiVendor: {\n    test: /[\\\\/]node_modules[\\\\/](framer-motion|lucide-react)[\\\\/]/,\n    name: 'ui-vendor',\n    chunks: 'all',\n    priority: 10,\n  },\n};\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{children:"MDX docs: Live stories with Canvas, Source, Controls"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Reference CSF stories directly in MDX so docs always match behavior. Example pattern:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-mdx",children:"import { Meta, Canvas, Source, Controls } from '@storybook/blocks';\nimport * as ButtonStories from './Button.stories';\n\n<Meta title=\"UI/Button/Docs\" />\n\n<Canvas of={ButtonStories.Playground} />\n<Controls of={ButtonStories.Playground} />\n<Source of={ButtonStories.Playground} />\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{children:"Bundle analysis"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["We integrate ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("code",{children:"webpack-bundle-analyzer"})," into the Storybook preview build. Generate a static report to visualize module and chunk sizes."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Commands:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-bash",children:"npm run analyze-storybook\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"This writes a static HTML report at:"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.ul,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.li,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("code",{children:"storybook-static/storybook-bundle-report.html"}),"\n"]}),"\n"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"Open it in your browser to inspect chunk composition and guide SplitChunks tuning."})]})}function MDXContent(props={}){const{wrapper:MDXLayout}={...(0,_mdx_js_react__WEBPACK_IMPORTED_MODULE_2__.R)(),...props.components};return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MDXLayout,{...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_createMdxContent,{...props})}):_createMdxContent(props)}}}]);
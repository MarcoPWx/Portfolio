---
layout: product
title: ai-gateway-architecture
product: DevMentor
source: infrastructure/services/ai-gateway/ai-gateway-architecture.md
---

{% raw %}
# AI Gateway Service System Design

```
                    DevMentor AI Gateway Architecture
                                                                    DesignGurus.io
                              Client
                                ğŸ–¥ï¸
                          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                                â”‚
                                â–¼
                         â—‡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡
                        â•±  Load         â•²
                       â•±   Balancer      â•²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â•±                   â•²                          â”‚
                     â—‡â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‡                         â”‚
                                â”‚                                    â”‚
                                â–¼                                    â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   API Gateway 1      â”‚              â”‚  API Gateway 2  â”‚
                    â”‚      (Port 3001)     â”‚              â”‚   (Port 3001)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          Control â”‚ Data                         â”‚
                                  â–¼                              â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                                                           â”‚            â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
     â”‚  â”‚                    AI GATEWAY SERVICE CORE                      â”‚  â”‚
     â”‚  â”‚                                                                 â”‚  â”‚
     â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
     â”‚  â”‚  â”‚Notification â”‚        â”‚ Rate Limiterâ”‚       â”‚   CORS      â”‚ â”‚  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  Service    â”‚        â”‚  (10 req/s) â”‚       â”‚   Handler   â”‚ â”‚  â”‚
â”‚Search  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚Index   â”‚                                                                â”‚  â”‚
â”‚(Vector â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  DB)   â”‚ â”‚ LLM Router  â”‚        â”‚Model Managerâ”‚       â”‚   Caching   â”‚ â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚             â”‚        â”‚             â”‚       â”‚   Layer     â”‚ â”‚  â”‚
     â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                                                                â”‚  â”‚
â”‚ Cache  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚(Redis) â”‚ â”‚  Monitoring â”‚        â”‚   Logging   â”‚       â”‚   Tracing   â”‚ â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚             â”‚        â”‚  (Winston)  â”‚       â”‚(OpenTelemetryâ”‚ â”‚  â”‚
     â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                                                                â”‚  â”‚
â”‚Prompt  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚Templateâ”‚ â”‚  Serverless â”‚        â”‚   Context   â”‚       â”‚  Streaming  â”‚ â”‚  â”‚
â”‚Storage â”‚ â”‚  Functions  â”‚        â”‚  Management â”‚       â”‚   Handler   â”‚ â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
     â–²     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
     â”‚                                                                       â”‚
     â”‚                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
     â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚              â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
     â”‚     â”‚              â”‚â—„â”€â”€â”€â”€â”€â”€â”‚  LLM         â”‚â”€â”€â”€â”€â”€â–ºâ”‚              â”‚    â”‚
     â”‚     â”‚   OpenAI     â”‚       â”‚  Orchestratorâ”‚      â”‚   Claude     â”‚    â”‚
     â”‚     â”‚   GPT-4      â”‚       â”‚              â”‚      â”‚   API        â”‚    â”‚
     â”‚     â”‚              â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚              â”‚    â”‚
     â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â–²              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
     â”‚            â”‚                      â”‚                      â”‚           â”‚
     â”‚            â”‚              Model Selection               â”‚           â”‚
     â”‚            â”‚                      â”‚                      â”‚           â”‚
     â”‚            â–¼                      â–¼                      â–¼           â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
     â”‚  â”‚                                                             â”‚    â”‚
     â”‚  â”‚                     ğŸ¤– AI Model Pool ğŸ¤–                    â”‚    â”‚
     â”‚  â”‚                  (GPT-4, Claude, Gemini)                   â”‚    â”‚
     â”‚  â”‚                                                             â”‚    â”‚
     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
     â”‚            â”‚                                              â”‚           â”‚
     â”‚            â”‚                                              â”‚           â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                                              â”‚
                  â–¼                                              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                            â”‚                â”‚                         â”‚
     â”‚    Prompt Engineering      â”‚                â”‚    Response Processing  â”‚
     â”‚        Pipeline            â”‚                â”‚        Pipeline         â”‚
     â”‚                            â”‚                â”‚                         â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                                              â”‚
                  â”‚                                              â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚            â”‚            â”‚                   â”‚            â”‚            â”‚
     â–¼            â–¼            â–¼                   â–¼            â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          â”‚ â”‚          â”‚ â”‚          â”‚      â”‚  Context â”‚ â”‚  Token   â”‚ â”‚  Cost    â”‚
â”‚ Template â”‚ â”‚  Context â”‚ â”‚  Chain   â”‚      â”‚  Window  â”‚ â”‚  Usage   â”‚ â”‚ Tracking â”‚
â”‚  Store   â”‚ â”‚  Builder â”‚ â”‚   Store  â”‚      â”‚  Manager â”‚ â”‚  Tracker â”‚ â”‚          â”‚
â”‚          â”‚ â”‚          â”‚ â”‚          â”‚      â”‚          â”‚ â”‚          â”‚ â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚            â”‚            â”‚                   â”‚            â”‚            â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                                              â”‚
                  â–¼                                              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   ğŸ—„ï¸ Vector Database       â”‚                â”‚  ğŸ“Š Analytics Storage   â”‚
     â”‚       (Qdrant)             â”‚                â”‚                         â”‚
     â”‚                            â”‚                â”‚  â€¢ Request Analytics    â”‚
     â”‚  â€¢ Embeddings Storage      â”‚                â”‚  â€¢ Model Performance    â”‚
     â”‚  â€¢ Semantic Search         â”‚                â”‚  â€¢ Cost Metrics         â”‚
     â”‚  â€¢ Context Retrieval       â”‚                â”‚  â€¢ Usage Statistics     â”‚
     â”‚  â€¢ RAG Implementation      â”‚                â”‚  â€¢ Error Tracking       â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                                              â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚                                      â”‚
                  â”‚     Stream Processing Pipeline       â”‚
                  â”‚                                      â”‚
                  â”‚  (WebSockets, Server-Sent Events)    â”‚
                  â”‚                                      â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚                    â”‚
                           â–¼                    â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚              â”‚     â”‚              â”‚
                  â”‚   Response   â”‚     â”‚   Response   â”‚
                  â”‚   Chunking   â”‚     â”‚  Formatting  â”‚
                  â”‚              â”‚     â”‚              â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚                    â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚              â”‚
                           â”‚  WebSocket   â”‚
                           â”‚   Handler    â”‚
                           â”‚              â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ Output
                                    â–¼
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚              â”‚
                           â”‚   Client     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚   Response   â”‚                 â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
                                    â”‚                       â–¼
                                    â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚              â”‚  Feedback    â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Collection  â”‚
                                                   â”‚  & Analysis  â”‚
                                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Service Components                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  ğŸ¤– AI Model Management                                             â”‚
â”‚  â”œâ”€â”€ Multi-Model Support (GPT-4, Claude, Gemini)                    â”‚
â”‚  â”œâ”€â”€ Model Router & Load Balancing                                  â”‚
â”‚  â”œâ”€â”€ Fallback & Retry Logic                                         â”‚
â”‚  â”œâ”€â”€ Context Window Management                                      â”‚
â”‚  â””â”€â”€ Token Usage Optimization                                       â”‚
â”‚                                                                      â”‚
â”‚  ğŸ“Š Monitoring & Observability                                      â”‚
â”‚  â”œâ”€â”€ OpenTelemetry Tracing                                         â”‚
â”‚  â”œâ”€â”€ Prometheus Metrics                                            â”‚
â”‚  â”œâ”€â”€ Winston Logging                                               â”‚
â”‚  â””â”€â”€ Cost & Usage Analytics                                        â”‚
â”‚                                                                      â”‚
â”‚  ğŸ›¡ï¸ Security & Rate Limiting                                       â”‚
â”‚  â”œâ”€â”€ API Key Management                                            â”‚
â”‚  â”œâ”€â”€ Rate Limiting (10 req/s per user)                            â”‚
â”‚  â”œâ”€â”€ Request Validation                                            â”‚
â”‚  â”œâ”€â”€ Content Filtering                                             â”‚
â”‚  â””â”€â”€ Audit Logging                                                 â”‚
â”‚                                                                      â”‚
â”‚  âš¡ Performance Optimization                                        â”‚
â”‚  â”œâ”€â”€ Response Streaming (SSE/WebSockets)                           â”‚
â”‚  â”œâ”€â”€ Redis Response Caching                                        â”‚
â”‚  â”œâ”€â”€ Prompt Template Optimization                                  â”‚
â”‚  â””â”€â”€ Parallel Model Requests                                       â”‚
â”‚                                                                      â”‚
â”‚  ğŸ”„ Integration Points                                              â”‚
â”‚  â”œâ”€â”€ Auth Service (Port 3002)                                      â”‚
â”‚  â”œâ”€â”€ Memory Service (Port 3003)                                    â”‚
â”‚  â”œâ”€â”€ Project Service (Port 3004)                                   â”‚
â”‚  â””â”€â”€ Learning Engine (Port 3005)                                   â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Data Flow Patterns                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  Chat Completion Flow:                                              â”‚
â”‚  Client â†’ Load Balancer â†’ API Gateway â†’ AI Service                  â”‚
â”‚     â†“                                                               â”‚
â”‚  Context Building â†’ Model Selection â†’ Prompt Engineering            â”‚
â”‚     â†“                                                               â”‚
â”‚  LLM Request â†’ Response Streaming â†’ Client                          â”‚
â”‚                                                                      â”‚
â”‚  Code Generation Flow:                                              â”‚
â”‚  Client â†’ Parse Request â†’ Fetch Context â†’ Select Model              â”‚
â”‚     â†“                                                               â”‚
â”‚  Generate Prompt â†’ Stream Response â†’ Format Code â†’ Return           â”‚
â”‚                                                                      â”‚
â”‚  RAG (Retrieval-Augmented Generation) Flow:                         â”‚
â”‚  Query â†’ Embedding Generation â†’ Vector Search                       â”‚
â”‚     â†“                                                               â”‚
â”‚  Context Retrieval â†’ Prompt Augmentation â†’ LLM â†’ Response           â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## System Components Legend

| Component | Description | Technology |
|-----------|-------------|------------|
| ğŸ–¥ï¸ Client | Web/Mobile/CLI Applications | React, Mobile Apps |
| â—‡ Load Balancer | Traffic Distribution | NGINX/HAProxy |
| ğŸ¤– AI Models | Language Model APIs | GPT-4, Claude, Gemini |
| ğŸ—„ï¸ Vector DB | Embedding Storage | Pinecone/Weaviate |
| ğŸ“Š Analytics | Metrics & Cost Tracking | Prometheus/Grafana |
| ğŸ›¡ï¸ Security | Rate Limiting & Validation | Express middleware |
| âš¡ Streaming | Real-time Response | WebSockets/SSE |
| ğŸ”„ Cache | Response Caching | Redis |

## Service Ports & Endpoints

- **AI Gateway Service**: Port 3001
- **Health Check**: `/health`
- **Chat Completion**: `/ai/chat/completions`
- **Code Generation**: `/ai/code/generate`
- **Embeddings**: `/ai/embeddings`
- **Model Info**: `/ai/models`
- **Metrics**: `/metrics`
{% endraw %}

<!DOCTYPE html>
<html lang="en" data-theme="auto">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEVMENTOR OPERATIONS GUIDE</title>
    
    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    
    <style>
    /* Light mode variables */
    :root {
      --primary: #007AFF;
      --primary-hover: #0051D5;
      --success: #34C759;
      --warning: #FF9500;
      --danger: #FF3B30;
      --text-primary: #000000;
      --text-secondary: #3C3C43;
      --text-tertiary: #8E8E93;
      --bg-primary: #FFFFFF;
      --bg-secondary: #F2F2F7;
      --bg-tertiary: #FFFFFF;
      --bg-elevated: #FFFFFF;
      --border: rgba(0, 0, 0, 0.1);
      --border-subtle: rgba(0, 0, 0, 0.04);
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.12);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07), 0 2px 4px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.1), 0 4px 10px rgba(0, 0, 0, 0.08);
      --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.15);
      --backdrop: rgba(255, 255, 255, 0.8);
      --code-bg: #F7F7FA;
      --code-border: rgba(0, 0, 0, 0.06);
      --nav-bg: rgba(255, 255, 255, 0.72);
      --card-bg: #FFFFFF;
      --hover-bg: rgba(0, 122, 255, 0.08);
    }
    
    /* Dark mode variables */
    [data-theme="dark"] {
      --primary: #0A84FF;
      --primary-hover: #409CFF;
      --success: #32D74B;
      --warning: #FF9F0A;
      --danger: #FF453A;
      --text-primary: #FFFFFF;
      --text-secondary: #EBEBF5;
      --text-tertiary: #8E8E93;
      --bg-primary: #000000;
      --bg-secondary: #1C1C1E;
      --bg-tertiary: #2C2C2E;
      --bg-elevated: #1C1C1E;
      --border: rgba(255, 255, 255, 0.15);
      --border-subtle: rgba(255, 255, 255, 0.06);
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.4);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
      --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.5), 0 4px 10px rgba(0, 0, 0, 0.4);
      --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.6);
      --backdrop: rgba(28, 28, 30, 0.8);
      --code-bg: #1C1C1E;
      --code-border: rgba(255, 255, 255, 0.08);
      --nav-bg: rgba(28, 28, 30, 0.72);
      --card-bg: #1C1C1E;
      --hover-bg: rgba(10, 132, 255, 0.15);
    }
    
    /* Auto theme based on system preference */
    @media (prefers-color-scheme: dark) {
      :root:not([data-theme="light"]) {
        --primary: #0A84FF;
        --primary-hover: #409CFF;
        --success: #32D74B;
        --warning: #FF9F0A;
        --danger: #FF453A;
        --text-primary: #FFFFFF;
        --text-secondary: #EBEBF5;
        --text-tertiary: #8E8E93;
        --bg-primary: #000000;
        --bg-secondary: #1C1C1E;
        --bg-tertiary: #2C2C2E;
        --bg-elevated: #1C1C1E;
        --border: rgba(255, 255, 255, 0.15);
        --border-subtle: rgba(255, 255, 255, 0.06);
        --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.4);
        --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
        --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.5), 0 4px 10px rgba(0, 0, 0, 0.4);
        --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.6);
        --backdrop: rgba(28, 28, 30, 0.8);
        --code-bg: #1C1C1E;
        --code-border: rgba(255, 255, 255, 0.08);
        --nav-bg: rgba(28, 28, 30, 0.72);
        --card-bg: #1C1C1E;
        --hover-bg: rgba(10, 132, 255, 0.15);
      }
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html {
      scroll-behavior: smooth;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
      font-size: 17px;
      line-height: 1.6;
      color: var(--text-primary);
      background: var(--bg-primary);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 24px;
    }
    
    /* Typography */
    p {
      margin: 1.2rem 0;
      color: var(--text-secondary);
      letter-spacing: -0.011em;
    }
    
    a {
      color: var(--primary);
      text-decoration: none;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      border-radius: 2px;
    }
    
    a:hover {
      color: var(--primary-hover);
      text-decoration: none;
    }
    
    a:focus {
      outline: 2px solid var(--primary);
      outline-offset: 2px;
    }
    
    /* Headings */
    h1, h2, h3, h4, h5, h6 {
      font-weight: 600;
      line-height: 1.2;
      margin-top: 2.5rem;
      margin-bottom: 1rem;
      letter-spacing: -0.02em;
      color: var(--text-primary);
    }
    
    h1 {
      font-size: 3rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-hover) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-top: 0;
      margin-bottom: 1.5rem;
    }
    
    h2 {
      font-size: 2rem;
      font-weight: 600;
      color: var(--text-primary);
      border-bottom: 1px solid var(--border-subtle);
      padding-bottom: 0.75rem;
      margin-top: 3rem;
    }
    
    h3 {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--text-primary);
    }
    
    h4 {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--text-secondary);
    }
    
    /* Lists */
    ul, ol {
      padding-left: 2rem;
      margin: 1.5rem 0;
      color: var(--text-secondary);
    }
    
    li {
      margin: 0.75rem 0;
      line-height: 1.6;
    }
    
    /* Strong text */
    strong, b {
      font-weight: 600;
      color: var(--text-primary);
    }
    
    /* Navigation */
    .nav-wrapper {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--nav-bg);
      backdrop-filter: saturate(180%) blur(20px);
      -webkit-backdrop-filter: saturate(180%) blur(20px);
      border-bottom: 1px solid var(--border);
      margin-bottom: 2rem;
    }
    
    nav {
      padding: 1rem 0;
    }
    
    .nav-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      gap: 0.5rem;
      align-items: center;
    }
    
    nav li {
      margin: 0;
    }
    
    nav a {
      color: var(--text-secondary);
      text-decoration: none;
      font-weight: 500;
      font-size: 0.95rem;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    nav a:hover {
      background: var(--hover-bg);
      color: var(--primary);
    }
    
    nav a:focus {
      outline: none;
    }
    
    /* Theme Switcher */
    .theme-switcher {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.375rem;
      background: var(--bg-secondary);
      border-radius: 10px;
      border: 1px solid var(--border-subtle);
    }
    
    .theme-btn {
      padding: 0.375rem 0.625rem;
      background: transparent;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      color: var(--text-tertiary);
      font-size: 0.875rem;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 0.25rem;
    }
    
    .theme-btn:hover {
      color: var(--text-secondary);
    }
    
    .theme-btn.active {
      background: var(--card-bg);
      color: var(--text-primary);
      box-shadow: var(--shadow-sm);
    }
    
    /* Code blocks */
    pre {
      background: var(--code-bg);
      padding: 1.5rem;
      border-radius: 12px;
      overflow-x: auto;
      border: 1px solid var(--code-border);
      margin: 2rem 0;
      font-size: 0.875rem;
      box-shadow: var(--shadow-sm);
    }
    
    code {
      font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', monospace;
      background: var(--code-bg);
      padding: 0.125rem 0.375rem;
      border-radius: 4px;
      font-size: 0.875em;
      border: 1px solid var(--code-border);
    }
    
    pre code {
      background: none;
      padding: 0;
      border: none;
      font-size: 0.875rem;
    }
    
    /* Tables */
    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      margin: 2rem 0;
      font-size: 0.95rem;
      background: var(--card-bg);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: var(--shadow-md);
    }
    
    th, td {
      padding: 1rem;
      text-align: left;
      border-bottom: 1px solid var(--border-subtle);
    }
    
    th {
      background: var(--bg-secondary);
      font-weight: 600;
      font-size: 0.875rem;
      color: var(--text-secondary);
    }
    
    td {
      color: var(--text-secondary);
    }
    
    tr:last-child td {
      border-bottom: none;
    }
    
    tr:hover {
      background: var(--hover-bg);
    }
    
    /* Blockquotes */
    blockquote {
      margin: 2rem 0;
      padding: 1.25rem;
      border-left: 4px solid var(--primary);
      background: var(--bg-secondary);
      border-radius: 0 12px 12px 0;
      color: var(--text-secondary);
      font-style: normal;
    }
    
    blockquote p {
      margin: 0.5rem 0;
    }
    
    /* Horizontal rules */
    hr {
      border: none;
      height: 1px;
      background: var(--border);
      margin: 3rem 0;
    }
    
    /* Cards */
    .card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      margin: 1rem 0;
      box-shadow: var(--shadow-sm);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .card:hover {
      box-shadow: var(--shadow-lg);
      transform: translateY(-2px);
    }
    
    /* Main content */
    main {
      min-height: calc(100vh - 200px);
      padding: 2rem 0;
    }
    
    /* Footer */
    footer {
      margin-top: 4rem;
      padding: 2rem 0;
      border-top: 1px solid var(--border);
      color: var(--text-tertiary);
      font-size: 0.875rem;
      text-align: center;
    }
    
    /* Grid for cards */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 1.5rem;
      margin: 2rem 0;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      h1 { font-size: 2.5rem; }
      h2 { font-size: 1.75rem; }
      h3 { font-size: 1.375rem; }
      
      .nav-content {
        flex-direction: column;
        gap: 1rem;
      }
      
      nav ul {
        flex-wrap: wrap;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <div class="nav-wrapper">
    <div class="container">
      <nav class="nav-content">
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/architecture/">Architecture</a></li>
          <li><a href="/all-docs/">All Docs</a></li>
          <li><a href="/learning-roadmap/">Learning Roadmaps</a></li>
          <li><a href="/devmentor/">DevMentor</a></li>
          <li><a href="/quizmentor/">QuizMentor</a></li>
          <li><a href="/harvest/">Harvest.ai</a></li>
          <li><a href="/naturequest-auth/">Auth</a></li>
          <li><a href="/infrastructure/">Infrastructure</a></li>
        </ul>
        <div class="theme-switcher" aria-label="Theme Switcher">
          <button class="theme-btn" data-theme="light" aria-pressed="false" title="Light mode">ğŸŒ Light</button>
          <button class="theme-btn active" data-theme="auto" aria-pressed="true" title="Auto mode">ğŸ§­ Auto</button>
          <button class="theme-btn" data-theme="dark" aria-pressed="false" title="Dark mode">ğŸŒ™ Dark</button>
        </div>
      </nav>
    </div>
  </div>

  <main class="container">
    <div class="product-header" style="background: #f6f8fa; padding: 1rem; border-radius: 5px; margin-bottom: 2rem;">
  <span style="color: #666;">DevMentor</span> / 
  <span style="color: #999;">infrastructure/operations/DEVMENTOR_OPERATIONS_GUIDE.md</span>
</div>

<h1>DEVMENTOR OPERATIONS GUIDE</h1>


<p>CURRENT ARCHITECTURE</p>

<hr />

<h1 id="devmentor-operations--debugging-guide">DevMentor Operations &amp; Debugging Guide</h1>

<blockquote>
  <p>A comprehensive, teaching-focused guide for operating and debugging the DevMentor platform
Learn not just the â€œhowâ€ but the â€œwhyâ€ behind every command and decision</p>
</blockquote>

<h2 id="table-of-contents">Table of Contents</h2>
<ul>
  <li><a href="#quick-start">Quick Start</a></li>
  <li><a href="#understanding-the-system">Understanding the System</a></li>
  <li><a href="#cluster-operations-deep-dive">Cluster Operations Deep Dive</a></li>
  <li><a href="#essential-commands">Essential Commands</a></li>
  <li><a href="#redis-mastery">Redis Mastery</a></li>
  <li><a href="#debugging-flows">Debugging Flows</a></li>
  <li><a href="#common-issues--solutions">Common Issues &amp; Solutions</a></li>
  <li><a href="#advanced-operations">Advanced Operations</a></li>
  <li><a href="#learning-exercises">Learning Exercises</a></li>
  <li><a href="#troubleshooting-playbook">Troubleshooting Playbook</a></li>
</ul>

<hr />

<h2 id="quick-start">Quick Start</h2>

<h3 id="-one-minute-setup">ğŸš€ One-Minute Setup</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># From repo root (devmentor/)</span>
<span class="nb">export </span><span class="nv">NS</span><span class="o">=</span>devmentor-app
<span class="nb">export </span><span class="nv">GATEWAY</span><span class="o">=</span>http://localhost:8080
<span class="nb">export </span><span class="nv">UI</span><span class="o">=</span>http://localhost:3000
<span class="nb">export </span><span class="nv">REDIS_URL</span><span class="o">=</span>redis://localhost:6379

<span class="c"># Start the UI</span>
<span class="nb">cd </span>devmentor-ui <span class="o">&amp;&amp;</span> npm run dev+watch

<span class="c"># Port-forward the gateway (if using K8s)</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> port-forward svc/api-gateway 8080:8080 <span class="o">&gt;</span>/dev/null 2&gt;&amp;1 &amp;

<span class="c"># Quick health check</span>
curl <span class="nt">-s</span> <span class="nv">$GATEWAY</span>/health | jq <span class="s1">'.'</span>
</code></pre></div></div>

<h3 id="-pre-flight-checklist">ğŸ“‹ Pre-flight Checklist</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. Check cluster context</span>
kubectl config current-context | <span class="nb">cat</span>

<span class="c"># 2. Verify services are up</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get pods | <span class="nb">cat</span>

<span class="c"># 3. Check Redis connectivity</span>
redis-cli <span class="nt">-u</span> <span class="nv">$REDIS_URL</span> PING | <span class="nb">cat</span>

<span class="c"># 4. UI reachability</span>
curl <span class="nt">-sI</span> <span class="nv">$UI</span> | <span class="nb">head</span> <span class="nt">-n</span> 1 | <span class="nb">cat</span>
</code></pre></div></div>

<hr />

<h2 id="understanding-the-system">Understanding the System</h2>

<h3 id="why-microservices-architecture">Why Microservices Architecture?</h3>

<p><strong>The Problem Weâ€™re Solving:</strong>
Imagine building a monolithic application where every feature (auth, AI, projects) is in one codebase. A bug in the AI module could crash authentication. Scaling means duplicating everything. DevMentor uses microservices to:</p>

<ol>
  <li><strong>Isolation</strong>: Each service fails independently</li>
  <li><strong>Scalability</strong>: Scale only what needs scaling (e.g., AI Gateway during heavy load)</li>
  <li><strong>Technology Freedom</strong>: Auth in TypeScript, AI in Python, each optimized</li>
  <li><strong>Team Independence</strong>: Teams work on services without conflicts</li>
</ol>

<h3 id="architecture-overview">Architecture Overview</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Internet/Browser                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ HTTP/HTTPS
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Istio Ingress Gateway (NodePort/LoadBalancer)         â”‚
â”‚   Why: Single entry point, TLS termination, routing     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ Internal routing
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         API Gateway (8080) - Express.js                  â”‚
â”‚   Why: Request aggregation, auth checks, rate limiting  â”‚
â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚          â”‚          â”‚          â”‚          â”‚
   â†“          â†“          â†“          â†“          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚ UI   â”‚  â”‚ AI   â”‚  â”‚Auth  â”‚  â”‚Memoryâ”‚  â”‚Projectâ”‚
â”‚(3000)â”‚  â”‚(3001)â”‚  â”‚(3002)â”‚  â”‚(3003)â”‚  â”‚(3004)â”‚
â””â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”€â”˜
   â”‚         â”‚         â”‚         â”‚         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â†“            â†“            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Redis  â”‚  â”‚PostgreSQLâ”‚  â”‚ Qdrant  â”‚
â”‚ Cache &amp; â”‚  â”‚   RDBMS  â”‚  â”‚ Vector  â”‚
â”‚ Streams â”‚  â”‚          â”‚  â”‚   DB    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div></div>

<h3 id="key-components-explained">Key Components Explained</h3>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Port</th>
      <th>Purpose</th>
      <th>Why It Exists</th>
      <th>Health Check</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>API Gateway</strong></td>
      <td>8080</td>
      <td>Single entry point, routing</td>
      <td>Acts as a reverse proxy, hiding internal complexity from clients</td>
      <td><code class="language-plaintext highlighter-rouge">curl $GATEWAY/health</code></td>
    </tr>
    <tr>
      <td><strong>UI Dashboard</strong></td>
      <td>3000</td>
      <td>Frontend, LADS endpoints</td>
      <td>Serves React app, handles SSR, provides architecture analysis APIs</td>
      <td><code class="language-plaintext highlighter-rouge">curl $UI/api/architecture/manifest</code></td>
    </tr>
    <tr>
      <td><strong>AI Gateway</strong></td>
      <td>3001</td>
      <td>LLM integration, tooltips</td>
      <td>Abstracts multiple AI providers (OpenAI, Ollama), handles retries</td>
      <td><code class="language-plaintext highlighter-rouge">curl localhost:3001/health</code></td>
    </tr>
    <tr>
      <td><strong>Auth Service</strong></td>
      <td>3002</td>
      <td>OAuth, JWT, sessions</td>
      <td>Centralizes authentication, issues tokens, manages sessions</td>
      <td><code class="language-plaintext highlighter-rouge">curl localhost:3002/health</code></td>
    </tr>
    <tr>
      <td><strong>Memory Service</strong></td>
      <td>3003</td>
      <td>Vector search, RAG</td>
      <td>Stores embeddings, enables semantic search, powers context retrieval</td>
      <td><code class="language-plaintext highlighter-rouge">curl localhost:3003/health</code></td>
    </tr>
    <tr>
      <td><strong>Project Service</strong></td>
      <td>3004</td>
      <td>Tasks, epics, roadmaps</td>
      <td>Manages project state, integrates with Linear/Jira</td>
      <td><code class="language-plaintext highlighter-rouge">curl localhost:3004/health</code></td>
    </tr>
    <tr>
      <td><strong>Learning Engine</strong></td>
      <td>3005</td>
      <td>Quizzes, recommendations</td>
      <td>Tracks learning progress, suggests content, generates assessments</td>
      <td><code class="language-plaintext highlighter-rouge">curl localhost:3005/health</code></td>
    </tr>
  </tbody>
</table>

<h3 id="data-flow-example-user-login">Data Flow Example: User Login</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. Browser â†’ POST /api/auth/login â†’ API Gateway
2. API Gateway â†’ Validates request â†’ Auth Service
3. Auth Service â†’ Checks credentials â†’ PostgreSQL
4. Auth Service â†’ Creates session â†’ Redis
5. Auth Service â†’ Returns JWT â†’ API Gateway
6. API Gateway â†’ Returns token â†’ Browser
7. Browser â†’ Stores token â†’ Local Storage
</code></pre></div></div>

<h3 id="why-each-database">Why Each Database?</h3>

<ul>
  <li><strong>Redis</strong>: Fast (in-memory), perfect for caching, pub/sub for real-time updates</li>
  <li><strong>PostgreSQL</strong>: ACID compliance for critical data (users, projects)</li>
  <li><strong>Qdrant</strong>: Optimized for vector similarity search (AI context retrieval)</li>
</ul>

<hr />

<h2 id="cluster-operations-deep-dive">Cluster Operations Deep Dive</h2>

<h3 id="-understanding-kubernetes--kind">ğŸ“ Understanding Kubernetes &amp; KIND</h3>

<p><strong>What is Kubernetes?</strong>
Kubernetes (K8s) is like a smart building manager for your applications. Instead of manually starting services on servers, K8s:</p>
<ul>
  <li><strong>Schedules</strong>: Decides which server runs which service</li>
  <li><strong>Heals</strong>: Restarts crashed services automatically</li>
  <li><strong>Scales</strong>: Adds more instances when load increases</li>
  <li><strong>Networks</strong>: Creates internal DNS and load balancing</li>
</ul>

<p><strong>What is KIND?</strong>
KIND (Kubernetes IN Docker) runs a full K8s cluster using Docker containers. Perfect for local development because:</p>
<ul>
  <li>No VMs needed (lightweight)</li>
  <li>Fast to create/destroy</li>
  <li>Mimics production behavior</li>
</ul>

<h3 id="-starting-the-cluster-from-scratch">ğŸš€ Starting the Cluster from Scratch</h3>

<h4 id="step-1-create-kind-cluster">Step 1: Create KIND Cluster</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Why: Creates a control plane + worker node as Docker containers</span>
kind create cluster <span class="nt">--name</span> devmentor <span class="nt">--config</span><span class="o">=</span>- <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
kind: Cluster
apiVersion: kind.x-k8s.io/v1alpha4
name: devmentor
nodes:
- role: control-plane
  kubeadmConfigPatches:
  - |
    kind: InitConfiguration
    nodeRegistration:
      kubeletExtraArgs:
        node-labels: "ingress-ready=true"
  extraPortMappings:
  - containerPort: 80
    hostPort: 80
    protocol: TCP
  - containerPort: 443
    hostPort: 443
    protocol: TCP
</span><span class="no">EOF

</span><span class="c"># Verify cluster is running</span>
<span class="c"># Why: Ensures kubectl can communicate with the cluster</span>
kubectl cluster-info <span class="nt">--context</span> kind-devmentor

<span class="c"># What just happened:</span>
<span class="c"># 1. Docker created containers acting as K8s nodes</span>
<span class="c"># 2. KIND installed K8s components (API server, etcd, scheduler)</span>
<span class="c"># 3. kubectl config was updated to point to this cluster</span>
</code></pre></div></div>

<h4 id="step-2-install-istio-service-mesh">Step 2: Install Istio Service Mesh</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Why Istio? It provides:</span>
<span class="c"># - Automatic mTLS between services (security)</span>
<span class="c"># - Traffic management (canary deployments)</span>
<span class="c"># - Observability (distributed tracing)</span>
<span class="c"># - Resilience (retries, circuit breakers)</span>

<span class="c"># Download Istio</span>
curl <span class="nt">-L</span> https://istio.io/downloadIstio | <span class="nv">ISTIO_VERSION</span><span class="o">=</span>1.26.3 sh -
<span class="nb">cd </span>istio-1.26.3
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PWD</span>/bin:<span class="nv">$PATH</span>

<span class="c"># Install Istio</span>
istioctl <span class="nb">install</span> <span class="nt">--set</span> <span class="nv">profile</span><span class="o">=</span>demo <span class="nt">-y</span>
<span class="c"># What this does:</span>
<span class="c"># - Deploys Istio control plane (istiod)</span>
<span class="c"># - Deploys Ingress/Egress gateways</span>
<span class="c"># - Configures automatic sidecar injection</span>

<span class="c"># Enable sidecar injection for our namespace</span>
kubectl create namespace devmentor-app
kubectl label namespace devmentor-app istio-injection<span class="o">=</span>enabled
<span class="c"># Why: Every pod in this namespace will get an Envoy proxy sidecar</span>
<span class="c"># The sidecar intercepts all network traffic for security/observability</span>
</code></pre></div></div>

<h4 id="step-3-deploy-core-infrastructure">Step 3: Deploy Core Infrastructure</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Deploy Redis</span>
<span class="c"># Why: Needed for caching, session storage, pub/sub</span>
kubectl apply <span class="nt">-f</span> - <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
apiVersion: apps/v1
kind: Deployment
metadata:
  name: redis
  namespace: devmentor-app
spec:
  replicas: 1
  selector:
    matchLabels:
      app: redis
  template:
    metadata:
      labels:
        app: redis
    spec:
      containers:
      - name: redis
        image: redis:7-alpine
        ports:
        - containerPort: 6379
        volumeMounts:
        - name: redis-storage
          mountPath: /data
      volumes:
      - name: redis-storage
        emptyDir: {}  # Why emptyDir: Data persists for pod lifetime
---
apiVersion: v1
kind: Service
metadata:
  name: redis
  namespace: devmentor-app
spec:
  selector:
    app: redis
  ports:
  - port: 6379
    targetPort: 6379
</span><span class="no">EOF

</span><span class="c"># Why Service object? </span>
<span class="c"># - Provides stable DNS name (redis.devmentor-app.svc.cluster.local)</span>
<span class="c"># - Load balances if multiple Redis pods exist</span>
<span class="c"># - Decouples service discovery from pod IPs</span>
</code></pre></div></div>

<h4 id="step-4-understanding-what-we-built">Step 4: Understanding What We Built</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># View the cluster architecture</span>
kubectl get nodes <span class="nt">-o</span> wide
<span class="c"># Shows: Node IPs, OS, container runtime</span>

<span class="c"># View all resources in our namespace</span>
kubectl <span class="nt">-n</span> devmentor-app get all
<span class="c"># Shows: Deployments (desired state), ReplicaSets (maintains replicas), Pods (actual containers)</span>

<span class="c"># Understand pod networking</span>
kubectl <span class="nt">-n</span> devmentor-app get pods <span class="nt">-o</span> wide
<span class="c"># Shows: Pod IPs (internal), Node placement</span>

<span class="c"># Check Istio injection</span>
kubectl <span class="nt">-n</span> devmentor-app get pods <span class="nt">-o</span> <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{range .items[*]}{.metadata.name}{"\t"}{.spec.containers[*].name}{"\n"}{end}'</span>
<span class="c"># Why check: Ensures each pod has both app container AND istio-proxy sidecar</span>
</code></pre></div></div>

<h3 id="-cluster-debugging-techniques">ğŸ” Cluster Debugging Techniques</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Technique 1: Events tell you what K8s is doing</span>
kubectl <span class="nt">-n</span> devmentor-app get events <span class="nt">--sort-by</span><span class="o">=</span><span class="s1">'.lastTimestamp'</span>
<span class="c"># Why: Shows pod scheduling, image pulls, crashes, resource issues</span>

<span class="c"># Technique 2: Describe for detailed troubleshooting</span>
kubectl <span class="nt">-n</span> devmentor-app describe pod &lt;pod-name&gt;
<span class="c"># Why: Shows init containers, volume mounts, environment variables, events</span>

<span class="c"># Technique 3: Logs from crashed pods</span>
kubectl <span class="nt">-n</span> devmentor-app logs &lt;pod-name&gt; <span class="nt">--previous</span>
<span class="c"># Why: --previous flag shows logs from before the crash</span>

<span class="c"># Technique 4: Shell into pod for investigation</span>
kubectl <span class="nt">-n</span> devmentor-app <span class="nb">exec</span> <span class="nt">-it</span> &lt;pod-name&gt; <span class="nt">--</span> /bin/sh
<span class="c"># Why: Inspect files, test connectivity, check environment</span>

<span class="c"># Technique 5: Resource usage analysis</span>
kubectl <span class="nt">-n</span> devmentor-app top pods
<span class="c"># Why: Identify memory leaks, CPU bottlenecks</span>
</code></pre></div></div>

<hr />

<h2 id="redis-mastery">Redis Mastery</h2>

<h3 id="-why-redis-understanding-the-use-cases">ğŸ“ Why Redis? Understanding the Use Cases</h3>

<p><strong>Redis in DevMentor serves 5 critical functions:</strong></p>

<ol>
  <li><strong>Session Storage</strong>: User sessions (faster than database)</li>
  <li><strong>Caching Layer</strong>: API responses, computed diagrams</li>
  <li><strong>Pub/Sub Messaging</strong>: Real-time updates to UI</li>
  <li><strong>Streams</strong>: Event sourcing for audit logs</li>
  <li><strong>Rate Limiting</strong>: API throttling counters</li>
</ol>

<h3 id="-connecting-to-redis">ğŸ”‘ Connecting to Redis</h3>

<h4 id="method-1-port-forwarding-development">Method 1: Port Forwarding (Development)</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Why port-forward? Makes cluster Redis accessible locally</span>
kubectl <span class="nt">-n</span> devmentor-app port-forward svc/redis 6379:6379 &amp;

<span class="c"># How it works:</span>
<span class="c"># 1. kubectl proxies TCP connection</span>
<span class="c"># 2. localhost:6379 â†’ kubectl â†’ API server â†’ Pod:6379</span>
<span class="c"># 3. Secure tunnel without exposing Redis publicly</span>

<span class="c"># Connect with redis-cli</span>
redis-cli <span class="nt">-h</span> localhost <span class="nt">-p</span> 6379
<span class="c"># OR with environment variable</span>
<span class="nb">export </span><span class="nv">REDIS_URL</span><span class="o">=</span>redis://localhost:6379
redis-cli <span class="nt">-u</span> <span class="nv">$REDIS_URL</span>
</code></pre></div></div>

<h4 id="method-2-in-cluster-access-debugging">Method 2: In-Cluster Access (Debugging)</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Why: Test Redis from within the cluster network</span>
kubectl <span class="nt">-n</span> devmentor-app run redis-client <span class="nt">--rm</span> <span class="nt">-it</span> <span class="nt">--image</span> redis:alpine <span class="nt">--</span> redis-cli <span class="nt">-h</span> redis

<span class="c"># What's happening:</span>
<span class="c"># 1. Creates temporary pod with redis-cli</span>
<span class="c"># 2. Uses cluster DNS (redis = redis.devmentor-app.svc.cluster.local)</span>
<span class="c"># 3. Auto-deletes pod when you exit (--rm flag)</span>
</code></pre></div></div>

<h4 id="method-3-through-a-jump-pod-advanced">Method 3: Through a Jump Pod (Advanced)</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Deploy a tools pod for persistent debugging</span>
kubectl apply <span class="nt">-f</span> - <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
apiVersion: v1
kind: Pod
metadata:
  name: tools
  namespace: devmentor-app
spec:
  containers:
  - name: tools
    image: nicolaka/netshoot
    command: ["sleep", "infinity"]
</span><span class="no">EOF

</span><span class="c"># Connect to Redis through tools pod</span>
kubectl <span class="nt">-n</span> devmentor-app <span class="nb">exec</span> <span class="nt">-it</span> tools <span class="nt">--</span> redis-cli <span class="nt">-h</span> redis
<span class="c"># Why: Persistent pod for multiple debugging sessions</span>
</code></pre></div></div>

<h3 id="-redis-data-patterns-in-devmentor">ğŸ“Š Redis Data Patterns in DevMentor</h3>

<h4 id="pattern-1-session-storage">Pattern 1: Session Storage</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># How sessions are stored</span>
redis-cli&gt; SET session:user123 <span class="s1">'{"userId":"123","email":"user@example.com","roles":["admin"]}'</span>
redis-cli&gt; EXPIRE session:user123 3600  <span class="c"># Why: Auto-cleanup after 1 hour</span>
redis-cli&gt; TTL session:user123  <span class="c"># Check time-to-live</span>

<span class="c"># Why Redis for sessions?</span>
<span class="c"># - Faster than PostgreSQL (memory vs disk)</span>
<span class="c"># - Automatic expiration (no cleanup jobs needed)</span>
<span class="c"># - Shared across service instances</span>
</code></pre></div></div>

<h4 id="pattern-2-caching-api-responses">Pattern 2: Caching API Responses</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Cache LADS diagram for 5 minutes</span>
redis-cli&gt; SET cache:lads:diagram:services <span class="s1">'{"svg":"&lt;svg&gt;...&lt;/svg&gt;"}'</span> EX 300

<span class="c"># Why this pattern?</span>
<span class="c"># - Expensive computations cached (diagram generation)</span>
<span class="c"># - EX flag sets expiry atomically</span>
<span class="c"># - Key naming convention prevents collisions</span>

<span class="c"># Check all cached diagrams</span>
redis-cli&gt; KEYS cache:lads:diagram:<span class="k">*</span>
</code></pre></div></div>

<h4 id="pattern-3-pubsub-for-real-time-updates">Pattern 3: Pub/Sub for Real-time Updates</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Terminal 1: Subscribe to project updates</span>
redis-cli&gt; SUBSCRIBE projects:updates

<span class="c"># Terminal 2: Publish an update</span>
redis-cli&gt; PUBLISH projects:updates <span class="s1">'{"id":"proj1","status":"completed"}'</span>

<span class="c"># Why Pub/Sub?</span>
<span class="c"># - WebSocket connections subscribe to channels</span>
<span class="c"># - Zero polling, instant updates</span>
<span class="c"># - Decoupled publishers and subscribers</span>
</code></pre></div></div>

<h4 id="pattern-4-streams-for-event-sourcing">Pattern 4: Streams for Event Sourcing</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Add event to stream</span>
redis-cli&gt; XADD events:projects <span class="k">*</span> action <span class="s2">"created"</span> projectId <span class="s2">"123"</span> userId <span class="s2">"456"</span>

<span class="c"># Read events</span>
redis-cli&gt; XRANGE events:projects - +  <span class="c"># All events</span>
redis-cli&gt; XREAD COUNT 10 STREAMS events:projects 0  <span class="c"># First 10 events</span>

<span class="c"># Why Streams?</span>
<span class="c"># - Ordered, immutable event log</span>
<span class="c"># - Multiple consumers can read independently</span>
<span class="c"># - Perfect for audit trails and event replay</span>
</code></pre></div></div>

<h4 id="pattern-5-rate-limiting">Pattern 5: Rate Limiting</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Implement sliding window rate limit</span>
redis-cli&gt; INCR rate:api:user123:<span class="si">$(</span><span class="nb">date</span> +%s<span class="si">)</span>
redis-cli&gt; EXPIRE rate:api:user123:<span class="si">$(</span><span class="nb">date</span> +%s<span class="si">)</span> 60

<span class="c"># Check rate in last minute</span>
<span class="k">for </span>i <span class="k">in</span> <span class="o">{</span>0..59<span class="o">}</span><span class="p">;</span> <span class="k">do
  </span>redis-cli GET rate:api:user123:<span class="k">$((</span><span class="si">$(</span><span class="nb">date</span> +%s<span class="si">)</span> <span class="o">-</span> i<span class="k">))</span>
<span class="k">done</span> | <span class="nb">paste</span> <span class="nt">-sd</span>+ | bc

<span class="c"># Why this works:</span>
<span class="c"># - One key per second, auto-expires</span>
<span class="c"># - Sum keys for sliding window count</span>
<span class="c"># - No complex data structures needed</span>
</code></pre></div></div>

<h3 id="-redis-debugging-commands">ğŸ” Redis Debugging Commands</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Memory analysis</span>
redis-cli&gt; INFO memory
<span class="c"># Why: Check memory usage, fragmentation, RSS</span>

<span class="c"># Slow query log</span>
redis-cli&gt; SLOWLOG GET 10
<span class="c"># Why: Identify performance bottlenecks</span>

<span class="c"># Monitor real-time commands</span>
redis-cli&gt; MONITOR
<span class="c"># Why: See all commands being executed (careful in production!)</span>

<span class="c"># Check persistence</span>
redis-cli&gt; LASTSAVE
<span class="c"># Why: Verify backups are happening</span>

<span class="c"># Key distribution</span>
redis-cli <span class="nt">--bigkeys</span>
<span class="c"># Why: Find memory hogs</span>

<span class="c"># Pattern analysis</span>
redis-cli <span class="nt">--scan</span> <span class="nt">--pattern</span> <span class="s1">'session:*'</span> | <span class="nb">head</span> <span class="nt">-20</span>
<span class="c"># Why: Sample keys without blocking</span>
</code></pre></div></div>

<hr />

<h2 id="essential-commands">Essential Commands</h2>

<h3 id="-environment-setup">ğŸ”§ Environment Setup</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Complete environment setup</span>
<span class="nb">cat</span> <span class="o">&lt;&lt;</span> <span class="sh">'</span><span class="no">EOF</span><span class="sh">' &gt; ~/.devmentor-env
export NS=devmentor-app
export GATEWAY=http://localhost:8080
export UI=http://localhost:3000
export REDIS_URL=redis://localhost:6379
export PATH="</span><span class="nv">$PATH</span><span class="sh">:</span><span class="si">$(</span><span class="nb">pwd</span><span class="si">)</span><span class="sh">/istio-1.26.3/bin"
</span><span class="no">EOF

</span><span class="c"># Source it</span>
<span class="nb">source</span> ~/.devmentor-env
</code></pre></div></div>

<h3 id="ï¸-build--deploy">ğŸ—ï¸ Build &amp; Deploy</h3>

<h4 id="local-development">Local Development</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Start UI with live reload</span>
<span class="nb">cd </span>devmentor-ui
npm run dev+watch  <span class="c"># Runs on port 3001 with architecture watcher</span>

<span class="c"># Start services individually</span>
<span class="nb">cd </span>services/api-gateway <span class="o">&amp;&amp;</span> npm start
<span class="nb">cd </span>services/ai-gateway <span class="o">&amp;&amp;</span> npm start
<span class="nb">cd </span>services/auth-service <span class="o">&amp;&amp;</span> npm start
</code></pre></div></div>

<h4 id="kubernetes-deployment">Kubernetes Deployment</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Deploy everything (KIND + Istio + services)</span>
./scripts/deploy-k8s-istio.sh deploy | <span class="nb">cat</span>

<span class="c"># Build and reload a specific service</span>
<span class="nv">svc</span><span class="o">=</span>api-gateway
<span class="nv">img</span><span class="o">=</span>devmentor/<span class="nv">$svc</span>:latest
<span class="nv">path</span><span class="o">=</span>services/<span class="nv">$svc</span>

docker build <span class="nt">-t</span> <span class="nv">$img</span> <span class="nv">$path</span> | <span class="nb">cat</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
kind load docker-image <span class="nv">$img</span> <span class="nt">--name</span> devmentor | <span class="nb">cat</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> rollout restart deploy/<span class="nv">$svc</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> rollout status deploy/<span class="nv">$svc</span> | <span class="nb">cat</span>
</code></pre></div></div>

<h3 id="-monitoring--logs">ğŸ“Š Monitoring &amp; Logs</h3>

<h4 id="real-time-logs">Real-time Logs</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Follow gateway logs with prefix</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> logs deploy/api-gateway <span class="nt">-f</span> | <span class="nb">sed</span> <span class="nt">-u</span> <span class="s1">'s/^/[gateway] /'</span>

<span class="c"># Tail multiple services</span>
<span class="k">for </span>svc <span class="k">in </span>api-gateway ai-gateway auth-service<span class="p">;</span> <span class="k">do
  </span>kubectl <span class="nt">-n</span> <span class="nv">$NS</span> logs deploy/<span class="nv">$svc</span> <span class="nt">--tail</span><span class="o">=</span>50 | <span class="nb">sed</span> <span class="s2">"s/^/[</span><span class="nv">$svc</span><span class="s2">] /"</span>
<span class="k">done</span>
</code></pre></div></div>

<h4 id="health-monitoring">Health Monitoring</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Comprehensive health check</span>
<span class="nb">echo</span> <span class="s2">"=== Service Health Status ==="</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
<span class="k">for </span>svc <span class="k">in </span>api-gateway ai-gateway auth-service memory-service project-service<span class="p">;</span> <span class="k">do
  </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$svc</span><span class="s2">: "</span>
  kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get pods <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span><span class="nv">$svc</span> <span class="nt">-o</span> <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{.items[0].status.phase}'</span> 2&gt;/dev/null <span class="o">||</span> <span class="nb">echo</span> <span class="s2">"Not found"</span>
<span class="k">done</span>
</code></pre></div></div>

<hr />

<h2 id="debugging-flows">Debugging Flows</h2>

<h3 id="-the-debugging-mindset">ğŸ“ The Debugging Mindset</h3>

<p>Before diving into specific flows, understand the debugging philosophy:</p>

<ol>
  <li><strong>Observe, Donâ€™t Assume</strong>: Gather data before forming hypotheses</li>
  <li><strong>Start Wide, Narrow Down</strong>: Check system health â†’ service health â†’ specific endpoints</li>
  <li><strong>Follow the Request</strong>: Trace the path from client to database</li>
  <li><strong>Check the Basics First</strong>: Network, DNS, resources before complex issues</li>
  <li><strong>Document Everything</strong>: Your future self will thank you</li>
</ol>

<h3 id="-flow-1-lads-pipeline-issues">ğŸ” Flow 1: LADS Pipeline Issues</h3>

<p><strong>Symptom</strong>: <code class="language-plaintext highlighter-rouge">/lads/manifest</code> returns 504 Gateway Timeout</p>

<p><strong>Debugging Steps</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. Check if UI is running</span>
ps aux | <span class="nb">grep</span> <span class="s2">"next dev -p 3001"</span> | <span class="nb">grep</span> <span class="nt">-v</span> <span class="nb">grep</span> <span class="o">||</span> <span class="nb">echo</span> <span class="s2">"UI not running!"</span>

<span class="c"># 2. Test UI endpoint directly</span>
curl <span class="nt">-s</span> <span class="nv">$UI</span>/api/architecture/manifest | jq <span class="s1">'.'</span> <span class="o">||</span> <span class="nb">echo</span> <span class="s2">"UI endpoint failed"</span>

<span class="c"># 3. Check gateway proxy configuration</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> describe configmap api-gateway-config | <span class="nb">grep </span>DASHBOARD_URL

<span class="c"># 4. Verify network path</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> run debug <span class="nt">--image</span><span class="o">=</span>nicolaka/netshoot <span class="nt">--rm</span> <span class="nt">-it</span> <span class="nt">--</span> <span class="se">\</span>
  curl <span class="nt">-s</span> http://devmentor-ui:3001/api/architecture/manifest

<span class="c"># 5. Check logs for errors</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> logs deploy/api-gateway <span class="nt">--tail</span><span class="o">=</span>100 | <span class="nb">grep</span> <span class="nt">-E</span> <span class="s2">"ERROR|504|timeout"</span>
</code></pre></div></div>

<p><strong>Resolution</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Restart UI with proper port</span>
<span class="nb">cd </span>devmentor-ui
pkill <span class="nt">-f</span> <span class="s2">"next dev"</span> <span class="o">||</span> <span class="nb">true
</span>npm run dev+watch  <span class="c"># Should start on 3001</span>

<span class="c"># Update gateway environment if needed</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> <span class="nb">set env </span>deploy/api-gateway <span class="nv">DASHBOARD_URL</span><span class="o">=</span>http://devmentor-ui:3001
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> rollout restart deploy/api-gateway
</code></pre></div></div>

<h3 id="-flow-2-redis-connection-issues">ğŸ” Flow 2: Redis Connection Issues</h3>

<p><strong>Symptom</strong>: Services show <code class="language-plaintext highlighter-rouge">ECONNREFUSED 127.0.0.1:6379</code></p>

<p><strong>Debugging Steps</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. Check Redis deployment</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get pods <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>redis

<span class="c"># 2. Test Redis connectivity from cluster</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> run redis-test <span class="nt">--image</span><span class="o">=</span>redis:alpine <span class="nt">--rm</span> <span class="nt">-it</span> <span class="nt">--</span> <span class="se">\</span>
  redis-cli <span class="nt">-h</span> redis <span class="nt">-p</span> 6379 PING

<span class="c"># 3. Check service DNS</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> run dns-test <span class="nt">--image</span><span class="o">=</span>busybox <span class="nt">--rm</span> <span class="nt">-it</span> <span class="nt">--</span> <span class="se">\</span>
  nslookup redis.devmentor-app.svc.cluster.local

<span class="c"># 4. Verify Redis data</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> port-forward svc/redis 6379:6379 &amp;
redis-cli <span class="nt">-u</span> <span class="nv">$REDIS_URL</span> INFO keyspace | <span class="nb">cat
</span>redis-cli <span class="nt">-u</span> <span class="nv">$REDIS_URL</span> <span class="nt">--raw</span> KEYS <span class="s1">'*'</span> | <span class="nb">head</span> <span class="nt">-20</span>
</code></pre></div></div>

<p><strong>Resolution</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Option 1: Use cluster Redis with port-forward</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> port-forward svc/redis 6379:6379 <span class="o">&gt;</span>/dev/null 2&gt;&amp;1 &amp;

<span class="c"># Option 2: Start local Redis for dev</span>
docker run <span class="nt">-d</span> <span class="nt">--name</span> devmentor-redis <span class="nt">-p</span> 6379:6379 redis:alpine

<span class="c"># Option 3: Update service to use cluster Redis</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> <span class="nb">set env </span>deploy/ai-gateway <span class="nv">REDIS_URL</span><span class="o">=</span>redis://redis:6379
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> rollout restart deploy/ai-gateway
</code></pre></div></div>

<h3 id="-flow-3-service-discovery-problems">ğŸ” Flow 3: Service Discovery Problems</h3>

<p><strong>Symptom</strong>: Services canâ€™t reach each other (connection refused)</p>

<p><strong>Debugging Steps</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. Test service-to-service connectivity</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> run netshoot <span class="nt">--image</span><span class="o">=</span>nicolaka/netshoot <span class="nt">--rm</span> <span class="nt">-it</span> <span class="nt">--</span> sh <span class="nt">-c</span> <span class="s2">"
  echo '=== Testing Service Connectivity ==='
  for svc in auth-service:3002 ai-gateway:3001 memory-service:3003; do
    echo -n </span><span class="se">\"</span><span class="s2">Testing </span><span class="se">\$</span><span class="s2">svc: </span><span class="se">\"</span><span class="s2">
    wget -q -O- http://</span><span class="se">\$</span><span class="s2">svc/health &gt;/dev/null 2&gt;&amp;1 &amp;&amp; echo 'OK' || echo 'FAILED'
  done
"</span>

<span class="c"># 2. Check service endpoints</span>
<span class="k">for </span>svc <span class="k">in </span>auth-service ai-gateway memory-service<span class="p">;</span> <span class="k">do
  </span><span class="nb">echo</span> <span class="s2">"=== </span><span class="nv">$svc</span><span class="s2"> endpoints ==="</span>
  kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get endpoints <span class="nv">$svc</span>
<span class="k">done</span>

<span class="c"># 3. Verify Istio sidecar injection</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get pods <span class="nt">-o</span> <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{range .items[*]}{.metadata.name}{"\t"}{.spec.containers[*].name}{"\n"}{end}'</span> | column <span class="nt">-t</span>
</code></pre></div></div>

<p><strong>Resolution</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Restart services with proper labels</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> label namespace devmentor-app istio-injection<span class="o">=</span>enabled <span class="nt">--overwrite</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> rollout restart deploy <span class="nt">--all</span>

<span class="c"># Verify sidecars are injected</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get pods <span class="nt">-o</span> <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{.items[*].spec.containers[*].name}'</span> | <span class="nb">tr</span> <span class="s1">' '</span> <span class="s1">'\n'</span> | <span class="nb">grep </span>istio-proxy
</code></pre></div></div>

<h3 id="-flow-4-authentication-failures">ğŸ” Flow 4: Authentication Failures</h3>

<p><strong>Symptom</strong>: 401 Unauthorized on protected endpoints</p>

<p><strong>Understanding the Auth Flow</strong>:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. Client â†’ Login request â†’ Auth Service
2. Auth Service â†’ Validate credentials â†’ Database
3. Auth Service â†’ Generate JWT â†’ Sign with secret
4. Client â†’ Store JWT â†’ Send in headers
5. API Gateway â†’ Validate JWT â†’ Forward request
</code></pre></div></div>

<p><strong>Debugging Steps</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. Test auth service directly</span>
curl <span class="nt">-s</span> <span class="nt">-X</span> POST <span class="nv">$GATEWAY</span>/api/auth/login <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"username":"test","password":"test"}'</span> | jq <span class="s1">'.'</span>

<span class="c"># 2. Check JWT secret configuration</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get secret auth-jwt-secret <span class="nt">-o</span> <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{.data.JWT_SECRET}'</span> | <span class="nb">base64</span> <span class="nt">-d</span>

<span class="c"># 3. Verify GitHub OAuth setup</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> describe configmap auth-service-config | <span class="nb">grep</span> <span class="nt">-E</span> <span class="s2">"GITHUB_CLIENT|GITHUB_CALLBACK"</span>

<span class="c"># 4. Test token validation</span>
<span class="nv">TOKEN</span><span class="o">=</span><span class="s2">"your-jwt-token-here"</span>
curl <span class="nt">-s</span> <span class="nv">$GATEWAY</span>/api/auth/profile <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer </span><span class="nv">$TOKEN</span><span class="s2">"</span> | jq <span class="s1">'.'</span>

<span class="c"># 5. Decode JWT to check claims</span>
<span class="nb">echo</span> <span class="nv">$TOKEN</span> | <span class="nb">cut</span> <span class="nt">-d</span><span class="nb">.</span> <span class="nt">-f2</span> | <span class="nb">base64</span> <span class="nt">-d</span> | jq <span class="s1">'.'</span>
<span class="c"># Why: Check expiration, issuer, audience claims</span>
</code></pre></div></div>

<p><strong>Resolution</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Create/update JWT secret</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> create secret generic auth-jwt-secret <span class="se">\</span>
  <span class="nt">--from-literal</span><span class="o">=</span><span class="nv">JWT_SECRET</span><span class="o">=</span><span class="si">$(</span>openssl rand <span class="nt">-base64</span> 32<span class="si">)</span> <span class="se">\</span>
  <span class="nt">--dry-run</span><span class="o">=</span>client <span class="nt">-o</span> yaml | kubectl apply <span class="nt">-f</span> -

<span class="c"># Restart auth service</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> rollout restart deploy/auth-service

<span class="c"># Test GitHub OAuth flow</span>
curl <span class="nt">-s</span> <span class="nt">-X</span> POST <span class="nv">$GATEWAY</span>/api/auth/github/login | jq <span class="s1">'.redirectUrl'</span>
</code></pre></div></div>

<h3 id="-flow-5-memory-leak-detection">ğŸ” Flow 5: Memory Leak Detection</h3>

<p><strong>Symptom</strong>: 401 Unauthorized on protected endpoints</p>

<p><strong>Debugging Steps</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. Test auth service directly</span>
curl <span class="nt">-s</span> <span class="nt">-X</span> POST <span class="nv">$GATEWAY</span>/api/auth/login <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"username":"test","password":"test"}'</span> | jq <span class="s1">'.'</span>

<span class="c"># 2. Check JWT secret configuration</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get secret auth-jwt-secret <span class="nt">-o</span> <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{.data.JWT_SECRET}'</span> | <span class="nb">base64</span> <span class="nt">-d</span>

<span class="c"># 3. Verify GitHub OAuth setup</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> describe configmap auth-service-config | <span class="nb">grep</span> <span class="nt">-E</span> <span class="s2">"GITHUB_CLIENT|GITHUB_CALLBACK"</span>

<span class="c"># 4. Test token validation</span>
<span class="nv">TOKEN</span><span class="o">=</span><span class="s2">"your-jwt-token-here"</span>
curl <span class="nt">-s</span> <span class="nv">$GATEWAY</span>/api/auth/profile <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer </span><span class="nv">$TOKEN</span><span class="s2">"</span> | jq <span class="s1">'.'</span>
</code></pre></div></div>

<p><strong>Resolution</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Create/update JWT secret</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> create secret generic auth-jwt-secret <span class="se">\</span>
  <span class="nt">--from-literal</span><span class="o">=</span><span class="nv">JWT_SECRET</span><span class="o">=</span><span class="si">$(</span>openssl rand <span class="nt">-base64</span> 32<span class="si">)</span> <span class="se">\</span>
  <span class="nt">--dry-run</span><span class="o">=</span>client <span class="nt">-o</span> yaml | kubectl apply <span class="nt">-f</span> -

<span class="c"># Restart auth service</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> rollout restart deploy/auth-service

<span class="c"># Test GitHub OAuth flow</span>
curl <span class="nt">-s</span> <span class="nt">-X</span> POST <span class="nv">$GATEWAY</span>/api/auth/github/login | jq <span class="s1">'.redirectUrl'</span>
</code></pre></div></div>

<p><strong>Symptom</strong>: Service pods restarting frequently, OOMKilled status</p>

<p><strong>Debugging Steps</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. Check pod restart history</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get pods <span class="nt">-o</span> custom-columns<span class="o">=</span>NAME:.metadata.name,RESTARTS:.status.containerStatuses[0].restartCount,LAST_RESTART:.status.containerStatuses[0].lastState.terminated.finishedAt

<span class="c"># 2. Analyze memory usage over time</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> top pods <span class="nt">--containers</span> | <span class="nb">grep</span> <span class="nt">-E</span> <span class="s2">"NAME|api-gateway"</span>

<span class="c"># 3. Check OOM events</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get events <span class="nt">--field-selector</span> <span class="nv">reason</span><span class="o">=</span>OOMKilled

<span class="c"># 4. Inspect Node.js heap (if service is running)</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> <span class="nb">exec</span> <span class="nt">-it</span> deploy/api-gateway <span class="nt">--</span> node <span class="nt">-e</span> <span class="s2">"console.log(process.memoryUsage())"</span>

<span class="c"># 5. Get heap snapshot for analysis</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> <span class="nb">exec</span> <span class="nt">-it</span> deploy/api-gateway <span class="nt">--</span> <span class="nb">kill</span> <span class="nt">-USR2</span> 1
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> <span class="nb">cp </span>api-gateway-xxx:/tmp/heapdump.xxx.heapsnapshot ./heapdump.heapsnapshot
<span class="c"># Why: USR2 signal triggers V8 heap dump</span>
</code></pre></div></div>

<p><strong>Resolution</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Increase memory limits</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> patch deployment api-gateway <span class="nt">-p</span> <span class="s1">'
{
  "spec": {
    "template": {
      "spec": {
        "containers": [{
          "name": "api-gateway",
          "resources": {
            "limits": {"memory": "1Gi"},
            "requests": {"memory": "512Mi"}
          }
        }]
      }
    }
  }
}'</span>

<span class="c"># Enable Node.js memory monitoring</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> <span class="nb">set env </span>deploy/api-gateway <span class="nv">NODE_OPTIONS</span><span class="o">=</span><span class="s2">"--max-old-space-size=768 --expose-gc"</span>
</code></pre></div></div>

<h3 id="-flow-6-distributed-tracing-deep-dive">ğŸ” Flow 6: Distributed Tracing Deep Dive</h3>

<p><strong>Symptom</strong>: Slow API responses, unclear bottlenecks</p>

<p><strong>Understanding Distributed Tracing</strong>:</p>
<ul>
  <li>Each request gets a unique trace ID</li>
  <li>Services create spans (timed operations)</li>
  <li>Spans form a tree showing the request path</li>
  <li>Bottlenecks become visually obvious</li>
</ul>

<p><strong>Setup &amp; Analysis</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. Deploy Jaeger (if not installed)</span>
kubectl apply <span class="nt">-n</span> istio-system <span class="nt">-f</span> https://raw.githubusercontent.com/istio/istio/release-1.26/samples/addons/jaeger.yaml

<span class="c"># 2. Generate traced traffic</span>
<span class="nv">TRACE_ID</span><span class="o">=</span><span class="si">$(</span>uuidgen | <span class="nb">tr</span> <span class="s1">'[:upper:]'</span> <span class="s1">'[:lower:]'</span> | <span class="nb">tr</span> <span class="nt">-d</span> <span class="s1">'-'</span><span class="si">)</span>
curl <span class="nt">-v</span> <span class="nv">$GATEWAY</span>/api/projects <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"x-b3-traceid: </span><span class="nv">$TRACE_ID</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"x-b3-spanid: </span><span class="si">$(</span>openssl rand <span class="nt">-hex</span> 8<span class="si">)</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"x-b3-sampled: 1"</span>

<span class="nb">echo</span> <span class="s2">"Trace ID: </span><span class="nv">$TRACE_ID</span><span class="s2">"</span>

<span class="c"># 3. Port-forward Jaeger</span>
kubectl <span class="nt">-n</span> istio-system port-forward svc/tracing 16686:80 &amp;

<span class="c"># 4. Query trace via API</span>
curl <span class="nt">-s</span> <span class="s2">"http://localhost:16686/api/traces/</span><span class="nv">$TRACE_ID</span><span class="s2">"</span> | jq <span class="s1">'.data[0].spans[] | {service: .process.serviceName, operation: .operationName, duration: .duration}'</span>

<span class="c"># 5. Find slow spans</span>
curl <span class="nt">-s</span> <span class="s2">"http://localhost:16686/api/traces/</span><span class="nv">$TRACE_ID</span><span class="s2">"</span> | jq <span class="s1">'.data[0].spans | sort_by(.duration) | reverse | .[0:3]'</span>
</code></pre></div></div>

<h3 id="-flow-7-websocket-connection-issues">ğŸ” Flow 7: WebSocket Connection Issues</h3>

<p><strong>Symptom</strong>: Real-time updates not working, WebSocket disconnections</p>

<p><strong>Debugging Steps</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. Test WebSocket endpoint</span>
wscat <span class="nt">-c</span> ws://localhost:8080/ws
<span class="c"># Why: wscat is like curl for WebSockets</span>

<span class="c"># 2. Check Istio WebSocket configuration</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get virtualservice <span class="nt">-o</span> yaml | <span class="nb">grep</span> <span class="nt">-A5</span> websocket

<span class="c"># 3. Monitor WebSocket connections</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> <span class="nb">exec</span> <span class="nt">-it</span> deploy/api-gateway <span class="nt">--</span> netstat <span class="nt">-an</span> | <span class="nb">grep</span> :8080 | <span class="nb">grep </span>ESTABLISHED

<span class="c"># 4. Check timeout settings</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get destinationrule <span class="nt">-o</span> yaml | <span class="nb">grep</span> <span class="nt">-E</span> <span class="s2">"timeout|keepalive"</span>

<span class="c"># 5. Test with custom client</span>
<span class="nb">cat</span> <span class="o">&gt;</span> test-ws.js <span class="o">&lt;&lt;</span> <span class="sh">'</span><span class="no">EOF</span><span class="sh">'
const WebSocket = require('ws');
const ws = new WebSocket('ws://localhost:8080/ws');

ws.on('open', () =&gt; {
  console.log('Connected');
  ws.send(JSON.stringify({type: 'ping'}));
});

ws.on('message', (data) =&gt; {
  console.log('Received:', data.toString());
});

ws.on('error', (err) =&gt; {
  console.error('Error:', err);
});

ws.on('close', (code, reason) =&gt; {
  console.log(`Closed: </span><span class="k">${</span><span class="nv">code</span><span class="k">}</span><span class="sh"> - </span><span class="k">${</span><span class="nv">reason</span><span class="k">}</span><span class="sh">`);
});
</span><span class="no">EOF

</span>node test-ws.js
</code></pre></div></div>

<p><strong>Resolution</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Configure Istio for WebSocket</span>
kubectl apply <span class="nt">-f</span> - <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
apiVersion: networking.istio.io/v1beta1
kind: DestinationRule
metadata:
  name: api-gateway-websocket
  namespace: devmentor-app
spec:
  host: api-gateway
  trafficPolicy:
    connectionPool:
      http:
        http2MaxRequests: 10000
        h2UpgradePolicy: UPGRADE  # Allow WebSocket upgrade
</span><span class="no">EOF
</span></code></pre></div></div>

<h3 id="-flow-8-database-connection-pool-exhaustion">ğŸ” Flow 8: Database Connection Pool Exhaustion</h3>

<p><strong>Symptom</strong>: Intermittent database errors, â€œtoo many connectionsâ€</p>

<p><strong>Debugging Steps</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. Check PostgreSQL connections</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> <span class="nb">exec</span> <span class="nt">-it</span> deploy/postgres <span class="nt">--</span> psql <span class="nt">-U</span> postgres <span class="nt">-c</span> <span class="s2">"SELECT count(*) FROM pg_stat_activity;"</span>

<span class="c"># 2. View active queries</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> <span class="nb">exec</span> <span class="nt">-it</span> deploy/postgres <span class="nt">--</span> psql <span class="nt">-U</span> postgres <span class="nt">-c</span> <span class="s2">"SELECT pid, state, query FROM pg_stat_activity WHERE state != 'idle';"</span>

<span class="c"># 3. Check service connection pool settings</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> describe configmap project-service-config | <span class="nb">grep</span> <span class="nt">-E</span> <span class="s2">"DB_POOL|DATABASE"</span>

<span class="c"># 4. Monitor connection metrics</span>
watch <span class="nt">-n</span> 2 <span class="s1">'kubectl -n $NS exec deploy/postgres -- psql -U postgres -c "SELECT state, count(*) FROM pg_stat_activity GROUP BY state;"'</span>

<span class="c"># 5. Identify connection leaks</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> <span class="nb">exec </span>deploy/postgres <span class="nt">--</span> psql <span class="nt">-U</span> postgres <span class="nt">-c</span> <span class="s2">"
SELECT 
  pid,
  usename,
  application_name,
  client_addr,
  state,
  state_change,
  NOW() - state_change as duration
FROM pg_stat_activity 
WHERE state != 'idle' 
ORDER BY duration DESC;"</span>
</code></pre></div></div>

<p><strong>Resolution</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Kill long-running queries</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> <span class="nb">exec </span>deploy/postgres <span class="nt">--</span> psql <span class="nt">-U</span> postgres <span class="nt">-c</span> <span class="s2">"SELECT pg_terminate_backend(pid) FROM pg_stat_activity WHERE state != 'idle' AND NOW() - state_change &gt; interval '5 minutes';"</span>

<span class="c"># Update pool configuration</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> <span class="nb">set env </span>deploy/project-service <span class="se">\</span>
  <span class="nv">DB_POOL_MIN</span><span class="o">=</span>2 <span class="se">\</span>
  <span class="nv">DB_POOL_MAX</span><span class="o">=</span>10 <span class="se">\</span>
  <span class="nv">DB_POOL_IDLE_TIMEOUT</span><span class="o">=</span>30000 <span class="se">\</span>
  <span class="nv">DB_POOL_CONNECTION_TIMEOUT</span><span class="o">=</span>5000

<span class="c"># Restart service</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> rollout restart deploy/project-service
</code></pre></div></div>

<h3 id="-flow-9-istio-sidecar-issues">ğŸ” Flow 9: Istio Sidecar Issues</h3>

<p><strong>Symptom</strong>: Service mesh not working, no telemetry data</p>

<p><strong>Debugging Steps</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. Check sidecar injection</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get pods <span class="nt">-o</span> <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{range .items[*]}{.metadata.name}{"\t"}{.metadata.annotations.sidecar\.istio\.io/status}{"\n"}{end}'</span>

<span class="c"># 2. Verify Envoy proxy is running</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get pods <span class="nt">-o</span> <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{range .items[*]}{.metadata.name}{"\t"}{range .spec.containers[*]}{.name}{" "}{end}{"\n"}{end}'</span> | <span class="nb">grep </span>istio-proxy

<span class="c"># 3. Check Envoy configuration</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> <span class="nb">exec </span>deploy/api-gateway <span class="nt">-c</span> istio-proxy <span class="nt">--</span> curl <span class="nt">-s</span> localhost:15000/config_dump | jq <span class="s1">'.configs[0].dynamic_listeners'</span>

<span class="c"># 4. View Envoy stats</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> <span class="nb">exec </span>deploy/api-gateway <span class="nt">-c</span> istio-proxy <span class="nt">--</span> curl <span class="nt">-s</span> localhost:15000/stats/prometheus | <span class="nb">grep</span> <span class="nt">-E</span> <span class="s2">"http.*success"</span>

<span class="c"># 5. Check mTLS status</span>
istioctl authn tls-check api-gateway.devmentor-app.svc.cluster.local
</code></pre></div></div>

<p><strong>Resolution</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Force sidecar injection</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> label namespace devmentor-app istio-injection<span class="o">=</span>enabled <span class="nt">--overwrite</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> rollout restart deploy <span class="nt">--all</span>

<span class="c"># Debug specific pod</span>
istioctl proxy-config listeners deploy/api-gateway <span class="nt">-n</span> devmentor-app
istioctl proxy-config routes deploy/api-gateway <span class="nt">-n</span> devmentor-app
</code></pre></div></div>

<hr />

<h2 id="common-issues--solutions">Common Issues &amp; Solutions</h2>

<h3 id="issue-cannot-find-module-errors">Issue: â€œCannot find moduleâ€ errors</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Check node_modules</span>
<span class="nb">cd </span>services/api-gateway
<span class="nb">rm</span> <span class="nt">-rf</span> node_modules package-lock.json
npm <span class="nb">install</span>

<span class="c"># For TypeScript services</span>
npm run build
</code></pre></div></div>

<h3 id="issue-port-already-in-use">Issue: Port already in use</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Find and kill process</span>
lsof <span class="nt">-ti</span>:3000 | xargs <span class="nb">kill</span> <span class="nt">-9</span>

<span class="c"># Or use different port</span>
<span class="nv">PORT</span><span class="o">=</span>3001 npm start
</code></pre></div></div>

<h3 id="issue-docker-build-failures">Issue: Docker build failures</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Clean Docker cache</span>
docker system prune <span class="nt">-af</span>
docker volume prune <span class="nt">-f</span>

<span class="c"># Rebuild with no cache</span>
docker build <span class="nt">--no-cache</span> <span class="nt">-t</span> devmentor/api-gateway:latest services/api-gateway
</code></pre></div></div>

<h3 id="issue-kubernetes-pods-stuck-in-pending">Issue: Kubernetes pods stuck in â€œPendingâ€</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Check events</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> describe pod &lt;pod-name&gt; | <span class="nb">tail</span> <span class="nt">-20</span>

<span class="c"># Check resource constraints</span>
kubectl top nodes
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> top pods

<span class="c"># Check PVC if using storage</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get pvc
</code></pre></div></div>

<hr />

<h2 id="advanced-operations">Advanced Operations</h2>

<h3 id="-distributed-tracing-with-jaeger">ğŸ¯ Distributed Tracing with Jaeger</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. Enable tracing</span>
kubectl <span class="nt">-n</span> istio-system port-forward svc/tracing 16686:80 &amp;

<span class="c"># 2. Send traced request</span>
curl <span class="nt">-s</span> <span class="nt">-H</span> <span class="s1">'x-b3-sampled: 1'</span> <span class="se">\</span>
     <span class="nt">-H</span> <span class="s1">'traceparent: 00-$(openssl rand -hex 16)-$(openssl rand -hex 8)-01'</span> <span class="se">\</span>
     <span class="nv">$GATEWAY</span>/lads/manifest <span class="o">&gt;</span>/dev/null

<span class="c"># 3. View trace</span>
open http://localhost:16686
<span class="c"># Search for: service=api-gateway operation=GET /lads/manifest</span>
</code></pre></div></div>

<h3 id="-performance-testing">ğŸ“ˆ Performance Testing</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Simple load test</span>
ab <span class="nt">-n</span> 1000 <span class="nt">-c</span> 10 <span class="nv">$GATEWAY</span>/health

<span class="c"># Test LADS generation under load</span>
<span class="k">for </span>i <span class="k">in</span> <span class="o">{</span>1..10<span class="o">}</span><span class="p">;</span> <span class="k">do
  </span>curl <span class="nt">-s</span> <span class="nt">-X</span> POST <span class="nv">$GATEWAY</span>/lads/generate <span class="se">\</span>
    <span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    <span class="nt">-d</span> <span class="s1">'{"repoPath":"/path/to/repo"}'</span> &amp;
<span class="k">done
</span><span class="nb">wait</span>

<span class="c"># Monitor during test</span>
watch <span class="nt">-n</span> 1 <span class="s1">'kubectl -n $NS top pods'</span>
</code></pre></div></div>

<h3 id="-blue-green-deployment">ğŸ”„ Blue-Green Deployment</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. Deploy green version</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> create deployment api-gateway-green <span class="se">\</span>
  <span class="nt">--image</span><span class="o">=</span>devmentor/api-gateway:v2

<span class="c"># 2. Test green version</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> port-forward deploy/api-gateway-green 8081:8080 &amp;
curl http://localhost:8081/health

<span class="c"># 3. Switch traffic</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> patch service api-gateway <span class="se">\</span>
  <span class="nt">-p</span> <span class="s1">'{"spec":{"selector":{"app":"api-gateway","version":"green"}}}'</span>

<span class="c"># 4. Verify and cleanup</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> delete deployment api-gateway-blue
</code></pre></div></div>

<h3 id="-chaos-engineering">ğŸ§ª Chaos Engineering</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Simulate network latency</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> run chaos <span class="nt">--image</span><span class="o">=</span>nicolaka/netshoot <span class="nt">--rm</span> <span class="nt">-it</span> <span class="nt">--</span> <span class="se">\</span>
  tc qdisc add dev eth0 root netem delay 500ms

<span class="c"># Simulate pod failure</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> delete pod <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>ai-gateway

<span class="c"># Simulate high CPU</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> run stress <span class="nt">--image</span><span class="o">=</span>progrium/stress <span class="nt">--rm</span> <span class="nt">-it</span> <span class="nt">--</span> <span class="se">\</span>
  <span class="nt">--cpu</span> 2 <span class="nt">--timeout</span> 60s
</code></pre></div></div>

<hr />

<h2 id="learning-exercises">Learning Exercises</h2>

<h3 id="-exercise-0-understanding-the-basics">ğŸ¯ Exercise 0: Understanding the Basics</h3>

<p><strong>Goal</strong>: Master fundamental concepts before complex operations</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Question 1: What's the difference between a Service and a Deployment?</span>
<span class="c"># Let's explore:</span>

<span class="c"># Create a deployment (manages pods)</span>
kubectl create deployment nginx <span class="nt">--image</span><span class="o">=</span>nginx <span class="nt">--replicas</span><span class="o">=</span>3

<span class="c"># See what was created</span>
kubectl get all <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>nginx
<span class="c"># Notice: Deployment â†’ ReplicaSet â†’ 3 Pods</span>

<span class="c"># Now expose it as a service</span>
kubectl expose deployment nginx <span class="nt">--port</span><span class="o">=</span>80 <span class="nt">--type</span><span class="o">=</span>ClusterIP

<span class="c"># Compare the resources</span>
kubectl get deploy,rs,pod,svc <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>nginx

<span class="c"># Key Learning:</span>
<span class="c"># - Deployment: Desired state ("I want 3 nginx pods")</span>
<span class="c"># - ReplicaSet: Maintains the replicas</span>
<span class="c"># - Pods: Actual running containers</span>
<span class="c"># - Service: Stable network endpoint for the pods</span>

<span class="c"># Clean up</span>
kubectl delete deploy,svc nginx
</code></pre></div></div>

<h3 id="exercise-1-complete-lads-flow">Exercise 1: Complete LADS Flow</h3>
<p><strong>Goal</strong>: Generate and retrieve architecture diagrams</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Step 1: Get manifest (available pages)</span>
curl <span class="nt">-s</span> <span class="nv">$GATEWAY</span>/lads/manifest | jq <span class="s1">'.pages[]'</span>

<span class="c"># Step 2: Generate diagrams</span>
curl <span class="nt">-s</span> <span class="nt">-X</span> POST <span class="nv">$GATEWAY</span>/lads/generate <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"repoPath":"'</span><span class="si">$(</span><span class="nb">pwd</span><span class="si">)</span><span class="s1">'","includeMetrics":true}'</span> | jq <span class="s1">'.'</span>

<span class="c"># Step 3: Fetch specific diagram</span>
<span class="nv">PAGE</span><span class="o">=</span><span class="s2">"Services"</span>
curl <span class="nt">-s</span> <span class="s2">"</span><span class="nv">$GATEWAY</span><span class="s2">/lads/diagram?format=svg&amp;page=</span><span class="nv">$PAGE</span><span class="s2">"</span> <span class="o">&gt;</span> <span class="s2">"/tmp/</span><span class="nv">$PAGE</span><span class="s2">.svg"</span>
open <span class="s2">"/tmp/</span><span class="nv">$PAGE</span><span class="s2">.svg"</span>

<span class="c"># Step 4: Fetch all pages</span>
<span class="k">for </span>page <span class="k">in</span> <span class="si">$(</span>curl <span class="nt">-s</span> <span class="nv">$GATEWAY</span>/lads/manifest | jq <span class="nt">-r</span> <span class="s1">'.pages[]'</span><span class="si">)</span><span class="p">;</span> <span class="k">do
  </span><span class="nv">encoded</span><span class="o">=</span><span class="si">$(</span><span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$page</span><span class="s2">"</span> | python3 <span class="nt">-c</span> <span class="s2">"import sys,urllib.parse; print(urllib.parse.quote(sys.stdin.read()))"</span><span class="si">)</span>
  curl <span class="nt">-s</span> <span class="s2">"</span><span class="nv">$GATEWAY</span><span class="s2">/lads/diagram?format=svg&amp;page=</span><span class="nv">$encoded</span><span class="s2">"</span> <span class="o">&gt;</span> <span class="s2">"/tmp/</span><span class="k">${</span><span class="nv">page</span><span class="p">// /_</span><span class="k">}</span><span class="s2">.svg"</span>
  <span class="nb">echo</span> <span class="s2">"Generated: /tmp/</span><span class="k">${</span><span class="nv">page</span><span class="p">// /_</span><span class="k">}</span><span class="s2">.svg"</span>
<span class="k">done</span>
</code></pre></div></div>

<h3 id="exercise-2-redis-streams-monitoring">Exercise 2: Redis Streams Monitoring</h3>
<p><strong>Goal</strong>: Watch real-time project events</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Terminal 1: Monitor stream</span>
redis-cli <span class="nt">-u</span> <span class="nv">$REDIS_URL</span> <span class="nt">--raw</span> XREAD BLOCK 0 STREAMS stream:devmentor:projects <span class="err">$</span>

<span class="c"># Terminal 2: Create project event</span>
curl <span class="nt">-s</span> <span class="nt">-X</span> POST <span class="nv">$GATEWAY</span>/api/projects <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"name":"Test Project","description":"Learning exercise"}'</span>

<span class="c"># Terminal 3: Check stream info</span>
redis-cli <span class="nt">-u</span> <span class="nv">$REDIS_URL</span> XINFO STREAM stream:devmentor:projects
</code></pre></div></div>

<h3 id="exercise-3-service-mesh-visualization">Exercise 3: Service Mesh Visualization</h3>
<p><strong>Goal</strong>: Understand traffic flow with Kiali</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. Start Kiali</span>
kubectl <span class="nt">-n</span> istio-system port-forward svc/kiali 20001:20001 &amp;

<span class="c"># 2. Generate traffic</span>
<span class="k">for </span>i <span class="k">in</span> <span class="o">{</span>1..100<span class="o">}</span><span class="p">;</span> <span class="k">do
  </span>curl <span class="nt">-s</span> <span class="nv">$GATEWAY</span>/health <span class="o">&gt;</span>/dev/null
  curl <span class="nt">-s</span> <span class="nv">$GATEWAY</span>/api/auth/profile <span class="o">&gt;</span>/dev/null 2&gt;&amp;1
  curl <span class="nt">-s</span> <span class="nv">$GATEWAY</span>/lads/manifest <span class="o">&gt;</span>/dev/null
  <span class="nb">sleep </span>0.1
<span class="k">done</span> &amp;

<span class="c"># 3. View graph</span>
open http://localhost:20001
<span class="c"># Navigate to Graph â†’ Select namespace: devmentor-app â†’ Display: Traffic Animation</span>
</code></pre></div></div>

<h3 id="exercise-4-debugging-with-logs-aggregation">Exercise 4: Debugging with Logs Aggregation</h3>
<p><strong>Goal</strong>: Correlate logs across services</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Create a correlation ID</span>
<span class="nv">CORRELATION_ID</span><span class="o">=</span><span class="si">$(</span>uuidgen<span class="si">)</span>

<span class="c"># Send request with correlation ID</span>
curl <span class="nt">-s</span> <span class="nv">$GATEWAY</span>/lads/generate <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"X-Correlation-ID: </span><span class="nv">$CORRELATION_ID</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  <span class="nt">-d</span> <span class="s1">'{"repoPath":"'</span><span class="si">$(</span><span class="nb">pwd</span><span class="si">)</span><span class="s1">'"}'</span>

<span class="c"># Search logs across all services</span>
<span class="k">for </span>svc <span class="k">in </span>api-gateway ai-gateway auth-service<span class="p">;</span> <span class="k">do
  </span><span class="nb">echo</span> <span class="s2">"=== </span><span class="nv">$svc</span><span class="s2"> logs with correlation </span><span class="nv">$CORRELATION_ID</span><span class="s2"> ==="</span>
  kubectl <span class="nt">-n</span> <span class="nv">$NS</span> logs deploy/<span class="nv">$svc</span> <span class="nt">--tail</span><span class="o">=</span>1000 | <span class="nb">grep</span> <span class="nv">$CORRELATION_ID</span>
<span class="k">done</span>
</code></pre></div></div>

<h3 id="exercise-5-service-mesh-deep-dive">Exercise 5: Service Mesh Deep Dive</h3>

<p><strong>Goal</strong>: Understand Istioâ€™s role in the architecture</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. Deploy a test service with and without Istio</span>
<span class="c"># Without Istio</span>
kubectl create ns no-istio
kubectl <span class="nt">-n</span> no-istio create deployment httpbin <span class="nt">--image</span><span class="o">=</span>kennethreitz/httpbin
kubectl <span class="nt">-n</span> no-istio expose deployment httpbin <span class="nt">--port</span><span class="o">=</span>80

<span class="c"># With Istio</span>
kubectl create ns with-istio
kubectl label ns with-istio istio-injection<span class="o">=</span>enabled
kubectl <span class="nt">-n</span> with-istio create deployment httpbin <span class="nt">--image</span><span class="o">=</span>kennethreitz/httpbin
kubectl <span class="nt">-n</span> with-istio expose deployment httpbin <span class="nt">--port</span><span class="o">=</span>80

<span class="c"># 2. Compare the pods</span>
<span class="nb">echo</span> <span class="s2">"Without Istio:"</span>
kubectl <span class="nt">-n</span> no-istio get pods <span class="nt">-o</span> <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{.items[0].spec.containers[*].name}'</span>
<span class="nb">echo</span> <span class="nt">-e</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">With Istio:"</span>
kubectl <span class="nt">-n</span> with-istio get pods <span class="nt">-o</span> <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{.items[0].spec.containers[*].name}'</span>

<span class="c"># 3. Test mTLS</span>
<span class="c"># From no-istio to with-istio (should work)</span>
kubectl <span class="nt">-n</span> no-istio run curl <span class="nt">--image</span><span class="o">=</span>curlimages/curl <span class="nt">--rm</span> <span class="nt">-it</span> <span class="nt">--</span> curl http://httpbin.with-istio/get

<span class="c"># 4. Enable strict mTLS</span>
kubectl apply <span class="nt">-f</span> - <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
apiVersion: security.istio.io/v1beta1
kind: PeerAuthentication
metadata:
  name: default
  namespace: with-istio
spec:
  mtls:
    mode: STRICT
</span><span class="no">EOF

</span><span class="c"># 5. Test again (should fail - no client cert)</span>
kubectl <span class="nt">-n</span> no-istio run curl <span class="nt">--image</span><span class="o">=</span>curlimages/curl <span class="nt">--rm</span> <span class="nt">-it</span> <span class="nt">--</span> curl http://httpbin.with-istio/get

<span class="c"># Clean up</span>
kubectl delete ns no-istio with-istio
</code></pre></div></div>

<h3 id="exercise-6-chaos-engineering-practice">Exercise 6: Chaos Engineering Practice</h3>

<p><strong>Goal</strong>: Build confidence by breaking things safely</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. Setup: Deploy a resilient service</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> apply <span class="nt">-f</span> - <span class="o">&lt;&lt;</span><span class="no">EOF</span><span class="sh">
apiVersion: apps/v1
kind: Deployment
metadata:
  name: resilient-app
spec:
  replicas: 3
  selector:
    matchLabels:
      app: resilient-app
  template:
    metadata:
      labels:
        app: resilient-app
    spec:
      containers:
      - name: app
        image: kennethreitz/httpbin
        ports:
        - containerPort: 80
        livenessProbe:
          httpGet:
            path: /status/200
            port: 80
          initialDelaySeconds: 10
          periodSeconds: 5
        readinessProbe:
          httpGet:
            path: /status/200
            port: 80
          initialDelaySeconds: 5
          periodSeconds: 3
</span><span class="no">EOF

</span><span class="c"># 2. Chaos Test 1: Kill random pod</span>
<span class="nb">echo</span> <span class="s2">"Pods before chaos:"</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get pods <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>resilient-app

<span class="c"># Kill one pod</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> delete pod <span class="si">$(</span>kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get pods <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>resilient-app <span class="nt">-o</span> <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{.items[0].metadata.name}'</span><span class="si">)</span>

<span class="c"># Watch recovery</span>
watch <span class="nt">-n</span> 1 <span class="s1">'kubectl -n $NS get pods -l app=resilient-app'</span>

<span class="c"># 3. Chaos Test 2: Network partition</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> <span class="nb">exec</span> <span class="nt">-it</span> <span class="si">$(</span>kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get pods <span class="nt">-l</span> <span class="nv">app</span><span class="o">=</span>resilient-app <span class="nt">-o</span> <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{.items[0].metadata.name}'</span><span class="si">)</span> <span class="nt">--</span> sh <span class="nt">-c</span> <span class="s2">"apk add iproute2 &amp;&amp; tc qdisc add dev eth0 root netem loss 50%"</span>

<span class="c"># 4. Chaos Test 3: Resource starvation</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> run stress <span class="nt">--image</span><span class="o">=</span>progrium/stress <span class="nt">--rm</span> <span class="nt">-it</span> <span class="nt">--</span> <span class="nt">--cpu</span> 8 <span class="nt">--timeout</span> 30s

<span class="c"># Monitor impact</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> top pods

<span class="c"># Clean up</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> delete deployment resilient-app
</code></pre></div></div>

<hr />

<h2 id="troubleshooting-playbook">Troubleshooting Playbook</h2>

<h3 id="-emergency-response-checklist">ğŸš¨ Emergency Response Checklist</h3>

<p>When production is down, follow this order:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 1. ASSESS - What's the scope?</span>
kubectl get nodes  <span class="c"># Cluster healthy?</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get pods | <span class="nb">grep</span> <span class="nt">-v</span> Running  <span class="c"># What's not running?</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get events <span class="nt">--sort-by</span><span class="o">=</span><span class="s1">'.lastTimestamp'</span> | <span class="nb">head</span> <span class="nt">-20</span>  <span class="c"># Recent issues?</span>

<span class="c"># 2. ISOLATE - Find the problem service</span>
<span class="k">for </span>svc <span class="k">in </span>api-gateway ai-gateway auth-service memory-service project-service<span class="p">;</span> <span class="k">do
  </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$svc</span><span class="s2">: "</span>
  kubectl <span class="nt">-n</span> <span class="nv">$NS</span> logs deploy/<span class="nv">$svc</span> <span class="nt">--tail</span><span class="o">=</span>1 2&gt;&amp;1 | <span class="nb">grep</span> <span class="nt">-E</span> <span class="s2">"ERROR|FATAL|panic"</span> | <span class="nb">wc</span> <span class="nt">-l</span>
<span class="k">done</span>

<span class="c"># 3. MITIGATE - Quick fixes</span>
<span class="c"># Option A: Restart crashed services</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get pods | <span class="nb">grep</span> <span class="nt">-E</span> <span class="s2">"CrashLoop|Error"</span> | <span class="nb">awk</span> <span class="s1">'{print $1}'</span> | xargs <span class="nt">-I</span> <span class="o">{}</span> kubectl <span class="nt">-n</span> <span class="nv">$NS</span> delete pod <span class="o">{}</span>

<span class="c"># Option B: Scale down problematic service</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> scale deploy/ai-gateway <span class="nt">--replicas</span><span class="o">=</span>0  <span class="c"># Stop it</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> scale deploy/ai-gateway <span class="nt">--replicas</span><span class="o">=</span>1  <span class="c"># Restart it</span>

<span class="c"># Option C: Rollback to previous version</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> rollout undo deploy/api-gateway

<span class="c"># 4. INVESTIGATE - Root cause</span>
<span class="c"># Collect diagnostic bundle</span>
<span class="nb">mkdir</span> <span class="nt">-p</span> /tmp/incident-<span class="si">$(</span><span class="nb">date</span> +%s<span class="si">)</span>
<span class="nb">cd</span> /tmp/incident-<span class="k">*</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> describe pods <span class="o">&gt;</span> pods.txt
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> logs <span class="nt">-l</span> app <span class="nt">--tail</span><span class="o">=</span>1000 <span class="o">&gt;</span> logs.txt
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get events <span class="o">&gt;</span> events.txt
kubectl top nodes <span class="o">&gt;</span> nodes.txt
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> top pods <span class="o">&gt;</span> pod-resources.txt

<span class="c"># 5. COMMUNICATE</span>
<span class="nb">echo</span> <span class="s2">"Incident Report:"</span>
<span class="nb">echo</span> <span class="s2">"Time: </span><span class="si">$(</span><span class="nb">date</span><span class="si">)</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="s2">"Impact: </span><span class="si">$(</span>kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get pods | <span class="nb">grep</span> <span class="nt">-v</span> Running | <span class="nb">wc</span> <span class="nt">-l</span><span class="si">)</span><span class="s2"> pods affected"</span>
<span class="nb">echo</span> <span class="s2">"Services affected: </span><span class="si">$(</span>kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get pods | <span class="nb">grep</span> <span class="nt">-v</span> Running | <span class="nb">awk</span> <span class="s1">'{print $1}'</span> | <span class="nb">cut</span> <span class="nt">-d-</span> <span class="nt">-f1-2</span> | <span class="nb">sort</span> <span class="nt">-u</span><span class="si">)</span><span class="s2">"</span>
<span class="nb">echo</span> <span class="s2">"Action taken: [Document what you did]"</span>
<span class="nb">echo</span> <span class="s2">"Status: [Resolved/Ongoing]"</span>
</code></pre></div></div>

<h3 id="-performance-troubleshooting-guide">ğŸ” Performance Troubleshooting Guide</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Symptom: Everything is slow</span>

<span class="c"># 1. Check resource pressure</span>
kubectl top nodes
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> top pods <span class="nt">--sort-by</span><span class="o">=</span>cpu
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> top pods <span class="nt">--sort-by</span><span class="o">=</span>memory

<span class="c"># 2. Find bottleneck service</span>
<span class="k">for </span>svc <span class="k">in </span>api-gateway ai-gateway auth-service<span class="p">;</span> <span class="k">do
  </span><span class="nb">echo</span> <span class="s2">"=== </span><span class="nv">$svc</span><span class="s2"> response time ==="</span>
  <span class="nb">time </span>curl <span class="nt">-s</span> <span class="nv">$GATEWAY</span>/health <span class="nt">-H</span> <span class="s2">"X-Target-Service: </span><span class="nv">$svc</span><span class="s2">"</span> <span class="o">&gt;</span> /dev/null
<span class="k">done</span>

<span class="c"># 3. Check database performance</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> <span class="nb">exec </span>deploy/postgres <span class="nt">--</span> psql <span class="nt">-U</span> postgres <span class="nt">-c</span> <span class="s2">"
SELECT 
  query,
  calls,
  mean_exec_time,
  total_exec_time
FROM pg_stat_statements 
ORDER BY mean_exec_time DESC 
LIMIT 5;"</span>

<span class="c"># 4. Analyze Redis performance</span>
redis-cli <span class="nt">-u</span> <span class="nv">$REDIS_URL</span> <span class="nt">--latency</span>
redis-cli <span class="nt">-u</span> <span class="nv">$REDIS_URL</span> <span class="nt">--latency-history</span>
redis-cli <span class="nt">-u</span> <span class="nv">$REDIS_URL</span> INFO commandstats | <span class="nb">grep</span> <span class="nt">-E</span> <span class="s2">"calls|usec_per_call"</span> | <span class="nb">sort</span> <span class="nt">-t</span>: <span class="nt">-k2</span> <span class="nt">-rn</span> | <span class="nb">head</span> <span class="nt">-10</span>

<span class="c"># 5. Check network latency</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> run netperf <span class="nt">--image</span><span class="o">=</span>nicolaka/netshoot <span class="nt">--rm</span> <span class="nt">-it</span> <span class="nt">--</span> sh <span class="nt">-c</span> <span class="s2">"
  for svc in auth-service:3002 ai-gateway:3001 redis:6379; do
    echo </span><span class="se">\"</span><span class="s2">Testing </span><span class="se">\$</span><span class="s2">svc</span><span class="se">\"</span><span class="s2">;
    time nc -zv </span><span class="se">\$</span><span class="s2">svc;
  done
"</span>
</code></pre></div></div>

<hr />

<h2 id="quick-reference-card">Quick Reference Card</h2>

<h3 id="-most-used-commands">ğŸ¯ Most Used Commands</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Health check everything</span>
curl <span class="nt">-s</span> <span class="nv">$GATEWAY</span>/health | jq <span class="s1">'.status'</span>

<span class="c"># Quick LADS test</span>
curl <span class="nt">-s</span> <span class="nv">$GATEWAY</span>/lads/manifest | jq <span class="s1">'.pages | length'</span>

<span class="c"># All service logs</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> logs <span class="nt">-l</span> app <span class="nt">--tail</span><span class="o">=</span>50 <span class="nt">--prefix</span><span class="o">=</span><span class="nb">true</span>

<span class="c"># Redis keys overview</span>
redis-cli <span class="nt">-u</span> <span class="nv">$REDIS_URL</span> <span class="nt">--raw</span> KEYS <span class="s1">'*'</span> | <span class="nb">head</span> <span class="nt">-20</span>

<span class="c"># Port-forward all essentials</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> port-forward svc/api-gateway 8080:8080 &amp;
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> port-forward svc/redis 6379:6379 &amp;
kubectl <span class="nt">-n</span> istio-system port-forward svc/tracing 16686:80 &amp;
kubectl <span class="nt">-n</span> istio-system port-forward svc/kiali 20001:20001 &amp;

<span class="c"># Emergency restart all</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> rollout restart deploy <span class="nt">--all</span>
</code></pre></div></div>

<h3 id="-emergency-commands">ğŸš¨ Emergency Commands</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Stop everything</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> scale deploy <span class="nt">--all</span> <span class="nt">--replicas</span><span class="o">=</span>0

<span class="c"># Clear Redis (DANGEROUS!)</span>
redis-cli <span class="nt">-u</span> <span class="nv">$REDIS_URL</span> FLUSHALL

<span class="c"># Delete and recreate namespace</span>
kubectl delete namespace <span class="nv">$NS</span>
kubectl create namespace <span class="nv">$NS</span>
kubectl label namespace <span class="nv">$NS</span> istio-injection<span class="o">=</span>enabled

<span class="c"># Force delete stuck pod</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> delete pod &lt;pod-name&gt; <span class="nt">--grace-period</span><span class="o">=</span>0 <span class="nt">--force</span>

<span class="c"># Recover from bad config</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> rollout undo deploy/api-gateway
</code></pre></div></div>

<h3 id="-debugging-checklist">ğŸ“ Debugging Checklist</h3>
<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Cluster context correct? (<code class="language-plaintext highlighter-rouge">kubectl config current-context</code>)</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />All pods running? (<code class="language-plaintext highlighter-rouge">kubectl -n $NS get pods</code>)</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Services have endpoints? (<code class="language-plaintext highlighter-rouge">kubectl -n $NS get endpoints</code>)</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />DNS resolution works? (<code class="language-plaintext highlighter-rouge">nslookup &lt;service&gt;.&lt;namespace&gt;.svc.cluster.local</code>)</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Istio sidecars injected? (look for <code class="language-plaintext highlighter-rouge">istio-proxy</code> containers)</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Redis accessible? (<code class="language-plaintext highlighter-rouge">redis-cli -u $REDIS_URL PING</code>)</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />PostgreSQL accessible? (<code class="language-plaintext highlighter-rouge">psql $DATABASE_URL -c "SELECT 1"</code>)</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />UI running? (<code class="language-plaintext highlighter-rouge">curl -sI $UI | head -1</code>)</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Gateway routing correctly? (<code class="language-plaintext highlighter-rouge">curl -s $GATEWAY | jq '.'</code>)</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Logs show errors? (<code class="language-plaintext highlighter-rouge">kubectl -n $NS logs -l app --tail=100 | grep ERROR</code>)</li>
</ul>

<hr />

<h2 id="tips--best-practices">Tips &amp; Best Practices</h2>

<h3 id="-learning-path-recommendations">ğŸ“ Learning Path Recommendations</h3>

<p><strong>Week 1: Foundations</strong></p>
<ul>
  <li>Master kubectl basics (get, describe, logs, exec)</li>
  <li>Understand pod lifecycle</li>
  <li>Learn service discovery</li>
  <li>Practice port-forwarding</li>
</ul>

<p><strong>Week 2: Debugging</strong></p>
<ul>
  <li>Debug a crashed pod</li>
  <li>Trace a slow request</li>
  <li>Fix a connection issue</li>
  <li>Analyze resource usage</li>
</ul>

<p><strong>Week 3: Advanced</strong></p>
<ul>
  <li>Set up monitoring</li>
  <li>Implement blue-green deployment</li>
  <li>Configure auto-scaling</li>
  <li>Practice chaos engineering</li>
</ul>

<p><strong>Week 4: Production</strong></p>
<ul>
  <li>Handle an outage</li>
  <li>Perform a rollback</li>
  <li>Optimize performance</li>
  <li>Document runbooks</li>
</ul>

<h3 id="-pro-tips">ğŸ’¡ Pro Tips</h3>
<ol>
  <li><strong>Always use correlation IDs</strong> for tracing requests across services</li>
  <li><strong>Set up aliases</strong> for common commands:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">alias </span><span class="nv">k</span><span class="o">=</span><span class="s1">'kubectl -n $NS'</span>
<span class="nb">alias </span><span class="nv">klog</span><span class="o">=</span><span class="s1">'kubectl -n $NS logs'</span>
<span class="nb">alias </span><span class="nv">kexec</span><span class="o">=</span><span class="s1">'kubectl -n $NS exec -it'</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Use <code class="language-plaintext highlighter-rouge">watch</code> for monitoring</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>watch <span class="nt">-n</span> 2 <span class="s1">'kubectl -n $NS get pods'</span>
</code></pre></div>    </div>
  </li>
  <li><strong>Keep separate terminal tabs</strong> for:
    <ul>
      <li>Logs streaming</li>
      <li>Redis monitoring</li>
      <li>Command execution</li>
      <li>Port-forwards</li>
    </ul>
  </li>
  <li><strong>Save useful outputs</strong>:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Save current state</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> get all <span class="o">&gt;</span> /tmp/cluster-state-<span class="si">$(</span><span class="nb">date</span> +%s<span class="si">)</span>.txt
   
<span class="c"># Save logs</span>
kubectl <span class="nt">-n</span> <span class="nv">$NS</span> logs <span class="nt">-l</span> app <span class="nt">--tail</span><span class="o">=</span>1000 <span class="o">&gt;</span> /tmp/all-logs-<span class="si">$(</span><span class="nb">date</span> +%s<span class="si">)</span>.txt
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="ï¸-common-pitfalls">âš ï¸ Common Pitfalls</h3>
<ul>
  <li><strong>Wrong namespace</strong>: Always verify with <code class="language-plaintext highlighter-rouge">echo $NS</code></li>
  <li><strong>Stale port-forwards</strong>: Kill and restart if connection issues</li>
  <li><strong>Cache issues</strong>: Clear Redis keys if seeing old data</li>
  <li><strong>DNS caching</strong>: Restart coredns if service discovery fails</li>
  <li><strong>Resource limits</strong>: Check quotas if pods wonâ€™t start</li>
</ul>

<h3 id="-further-learning">ğŸ“š Further Learning</h3>
<ul>
  <li>Study the service mesh patterns in Kiali</li>
  <li>Analyze trace waterfalls in Jaeger</li>
  <li>Create custom Grafana dashboards</li>
  <li>Write chaos engineering scenarios</li>
  <li>Implement custom health checks</li>
</ul>

<hr />

<h2 id="appendix-environment-variables">Appendix: Environment Variables</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Core</span>
<span class="nb">export </span><span class="nv">NS</span><span class="o">=</span>devmentor-app
<span class="nb">export </span><span class="nv">GATEWAY</span><span class="o">=</span>http://localhost:8080
<span class="nb">export </span><span class="nv">UI</span><span class="o">=</span>http://localhost:3000

<span class="c"># Data stores</span>
<span class="nb">export </span><span class="nv">REDIS_URL</span><span class="o">=</span>redis://localhost:6379
<span class="nb">export </span><span class="nv">DATABASE_URL</span><span class="o">=</span>postgres://postgres:postgres@localhost:5432/devmentor
<span class="nb">export </span><span class="nv">QDRANT_URL</span><span class="o">=</span>http://localhost:6333

<span class="c"># Services (internal)</span>
<span class="nb">export </span><span class="nv">AI_GATEWAY</span><span class="o">=</span>http://localhost:3001
<span class="nb">export </span><span class="nv">AUTH_SERVICE</span><span class="o">=</span>http://localhost:3002
<span class="nb">export </span><span class="nv">MEMORY_SERVICE</span><span class="o">=</span>http://localhost:3003
<span class="nb">export </span><span class="nv">PROJECT_SERVICE</span><span class="o">=</span>http://localhost:3004
<span class="nb">export </span><span class="nv">LEARNING_ENGINE</span><span class="o">=</span>http://localhost:3005

<span class="c"># Observability</span>
<span class="nb">export </span><span class="nv">JAEGER_URL</span><span class="o">=</span>http://localhost:16686
<span class="nb">export </span><span class="nv">PROMETHEUS_URL</span><span class="o">=</span>http://localhost:9090
<span class="nb">export </span><span class="nv">GRAFANA_URL</span><span class="o">=</span>http://localhost:3000
<span class="nb">export </span><span class="nv">KIALI_URL</span><span class="o">=</span>http://localhost:20001

<span class="c"># Development</span>
<span class="nb">export </span><span class="nv">LOG_LEVEL</span><span class="o">=</span>debug
<span class="nb">export </span><span class="nv">NODE_ENV</span><span class="o">=</span>development
<span class="nb">export </span><span class="nv">SKIP_OLLAMA_HEALTH</span><span class="o">=</span><span class="nb">true</span>
</code></pre></div></div>

<hr />

<h3 id="-command-patterns-to-master">ğŸ¯ Command Patterns to Master</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Pattern 1: The Investigation Pipeline</span>
kubectl get â†’ kubectl describe â†’ kubectl logs â†’ kubectl <span class="nb">exec</span>

<span class="c"># Pattern 2: The Resource Chain</span>
Deployment â†’ ReplicaSet â†’ Pod â†’ Container

<span class="c"># Pattern 3: The Network Path</span>
Client â†’ Ingress â†’ Service â†’ Pod â†’ Container

<span class="c"># Pattern 4: The Debug Escalation</span>
Health check â†’ Logs â†’ Events â†’ Shell access â†’ Trace

<span class="c"># Pattern 5: The Recovery Sequence</span>
Identify â†’ Isolate â†’ Mitigate â†’ Investigate â†’ Document
</code></pre></div></div>

<h3 id="-recommended-learning-resources">ğŸ“š Recommended Learning Resources</h3>

<ol>
  <li><strong>Kubernetes Fundamentals</strong>
    <ul>
      <li><a href="https://kubernetes.io/docs/">Kubernetes Documentation</a></li>
      <li>Practice with: <code class="language-plaintext highlighter-rouge">kubectl explain &lt;resource&gt;</code></li>
      <li>Interactive: <a href="https://killercoda.com/kubernetes">Killercoda Kubernetes</a></li>
    </ul>
  </li>
  <li><strong>Istio Service Mesh</strong>
    <ul>
      <li><a href="https://istio.io/latest/docs/">Istio Documentation</a></li>
      <li>Key concept: Sidecar proxy pattern</li>
      <li>Practice: Traffic management, security, observability</li>
    </ul>
  </li>
  <li><strong>Redis</strong>
    <ul>
      <li><a href="https://university.redis.com/">Redis University</a></li>
      <li>Key patterns: Caching, pub/sub, streams</li>
      <li>Tool: RedisInsight for visualization</li>
    </ul>
  </li>
  <li><strong>Distributed Systems</strong>
    <ul>
      <li>Book: â€œDesigning Data-Intensive Applicationsâ€</li>
      <li>Concepts: CAP theorem, consensus, eventual consistency</li>
      <li>Practice: Build a distributed counter</li>
    </ul>
  </li>
</ol>

<h3 id="-mastery-milestones">ğŸ† Mastery Milestones</h3>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" /><strong>Level 1</strong>: Can deploy and access services</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" /><strong>Level 2</strong>: Can debug common issues (crashes, connection failures)</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" /><strong>Level 3</strong>: Can trace distributed requests</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" /><strong>Level 4</strong>: Can optimize performance</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" /><strong>Level 5</strong>: Can design and implement resilient systems</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" /><strong>Level 6</strong>: Can handle production incidents calmly</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" /><strong>Level 7</strong>: Can architect microservices platforms</li>
</ul>

<hr />

<p><em>Last updated: 2025-08-17 | Version: 2.0</em>
<em>For the latest version, check: docs/03-operations/DEVMENTOR_OPERATIONS_GUIDE.md</em></p>

<blockquote>
  <p>â€œThe best way to learn is to break thingsâ€¦ in a safe environment.â€ - DevMentor Team</p>
</blockquote>



<div style="margin-top: 3rem; padding: 1rem; background: #f6f8fa; border-radius: 5px;">
  <p style="margin: 0; color: #666; font-size: 0.9em;">
    ğŸ“ Source: DevMentor / infrastructure/operations/DEVMENTOR_OPERATIONS_GUIDE.md
  </p>
</div>

  </main>

  <footer>
    <p>&copy; 2024 NatureQuest. Documentation Hub v1.0.0</p>
  </footer>

  <script>
    (function() {
      const html = document.documentElement;
      const buttons = [];
      function setActive(theme) {
        buttons.forEach(b => {
          const active = b.dataset.theme === theme;
          b.classList.toggle('active', active);
          b.setAttribute('aria-pressed', active ? 'true' : 'false');
        });
      }
      function applyTheme(theme) {
        if (theme === 'auto') {
          html.removeAttribute('data-theme');
          localStorage.removeItem('theme');
        } else {
          html.setAttribute('data-theme', theme);
          localStorage.setItem('theme', theme);
        }
        setActive(theme);
      }
      document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('.theme-btn').forEach(btn => {
          buttons.push(btn);
          btn.addEventListener('click', () => applyTheme(btn.dataset.theme));
        });
        const saved = localStorage.getItem('theme');
        if (saved === 'light' || saved === 'dark') {
          applyTheme(saved);
        } else {
          applyTheme('auto');
        }
      });
    })();
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en" data-theme="auto">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCALING</title>
    
    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    
    <style>
    /* Light mode variables */
    :root {
      --primary: #007AFF;
      --primary-hover: #0051D5;
      --success: #34C759;
      --warning: #FF9500;
      --danger: #FF3B30;
      --text-primary: #000000;
      --text-secondary: #3C3C43;
      --text-tertiary: #8E8E93;
      --bg-primary: #FFFFFF;
      --bg-secondary: #F2F2F7;
      --bg-tertiary: #FFFFFF;
      --bg-elevated: #FFFFFF;
      --border: rgba(0, 0, 0, 0.1);
      --border-subtle: rgba(0, 0, 0, 0.04);
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.12);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07), 0 2px 4px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.1), 0 4px 10px rgba(0, 0, 0, 0.08);
      --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.15);
      --backdrop: rgba(255, 255, 255, 0.8);
      --code-bg: #F7F7FA;
      --code-border: rgba(0, 0, 0, 0.06);
      --nav-bg: rgba(255, 255, 255, 0.72);
      --card-bg: #FFFFFF;
      --hover-bg: rgba(0, 122, 255, 0.08);
    }
    
    /* Dark mode variables */
    [data-theme="dark"] {
      --primary: #0A84FF;
      --primary-hover: #409CFF;
      --success: #32D74B;
      --warning: #FF9F0A;
      --danger: #FF453A;
      --text-primary: #FFFFFF;
      --text-secondary: #EBEBF5;
      --text-tertiary: #8E8E93;
      --bg-primary: #000000;
      --bg-secondary: #1C1C1E;
      --bg-tertiary: #2C2C2E;
      --bg-elevated: #1C1C1E;
      --border: rgba(255, 255, 255, 0.15);
      --border-subtle: rgba(255, 255, 255, 0.06);
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.4);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
      --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.5), 0 4px 10px rgba(0, 0, 0, 0.4);
      --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.6);
      --backdrop: rgba(28, 28, 30, 0.8);
      --code-bg: #1C1C1E;
      --code-border: rgba(255, 255, 255, 0.08);
      --nav-bg: rgba(28, 28, 30, 0.72);
      --card-bg: #1C1C1E;
      --hover-bg: rgba(10, 132, 255, 0.15);
    }
    
    /* Auto theme based on system preference */
    @media (prefers-color-scheme: dark) {
      :root:not([data-theme="light"]) {
        --primary: #0A84FF;
        --primary-hover: #409CFF;
        --success: #32D74B;
        --warning: #FF9F0A;
        --danger: #FF453A;
        --text-primary: #FFFFFF;
        --text-secondary: #EBEBF5;
        --text-tertiary: #8E8E93;
        --bg-primary: #000000;
        --bg-secondary: #1C1C1E;
        --bg-tertiary: #2C2C2E;
        --bg-elevated: #1C1C1E;
        --border: rgba(255, 255, 255, 0.15);
        --border-subtle: rgba(255, 255, 255, 0.06);
        --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.4);
        --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
        --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.5), 0 4px 10px rgba(0, 0, 0, 0.4);
        --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.6);
        --backdrop: rgba(28, 28, 30, 0.8);
        --code-bg: #1C1C1E;
        --code-border: rgba(255, 255, 255, 0.08);
        --nav-bg: rgba(28, 28, 30, 0.72);
        --card-bg: #1C1C1E;
        --hover-bg: rgba(10, 132, 255, 0.15);
      }
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html {
      scroll-behavior: smooth;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
      font-size: 17px;
      line-height: 1.6;
      color: var(--text-primary);
      background: var(--bg-primary);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 24px;
    }
    
    /* Typography */
    p {
      margin: 1.2rem 0;
      color: var(--text-secondary);
      letter-spacing: -0.011em;
    }
    
    a {
      color: var(--primary);
      text-decoration: none;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      border-radius: 2px;
    }
    
    a:hover {
      color: var(--primary-hover);
      text-decoration: none;
    }
    
    a:focus {
      outline: 2px solid var(--primary);
      outline-offset: 2px;
    }
    
    /* Headings */
    h1, h2, h3, h4, h5, h6 {
      font-weight: 600;
      line-height: 1.2;
      margin-top: 2.5rem;
      margin-bottom: 1rem;
      letter-spacing: -0.02em;
      color: var(--text-primary);
    }
    
    h1 {
      font-size: 3rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-hover) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-top: 0;
      margin-bottom: 1.5rem;
    }
    
    h2 {
      font-size: 2rem;
      font-weight: 600;
      color: var(--text-primary);
      border-bottom: 1px solid var(--border-subtle);
      padding-bottom: 0.75rem;
      margin-top: 3rem;
    }
    
    h3 {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--text-primary);
    }
    
    h4 {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--text-secondary);
    }
    
    /* Lists */
    ul, ol {
      padding-left: 2rem;
      margin: 1.5rem 0;
      color: var(--text-secondary);
    }
    
    li {
      margin: 0.75rem 0;
      line-height: 1.6;
    }
    
    /* Strong text */
    strong, b {
      font-weight: 600;
      color: var(--text-primary);
    }
    
    /* Navigation */
    .nav-wrapper {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--nav-bg);
      backdrop-filter: saturate(180%) blur(20px);
      -webkit-backdrop-filter: saturate(180%) blur(20px);
      border-bottom: 1px solid var(--border);
      margin-bottom: 2rem;
    }
    
    nav {
      padding: 1rem 0;
    }
    
    .nav-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      gap: 0.5rem;
      align-items: center;
    }
    
    nav li {
      margin: 0;
    }
    
    nav a {
      color: var(--text-secondary);
      text-decoration: none;
      font-weight: 500;
      font-size: 0.95rem;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    nav a:hover {
      background: var(--hover-bg);
      color: var(--primary);
    }
    
    nav a:focus {
      outline: none;
    }
    
    /* Theme Switcher */
    .theme-switcher {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.375rem;
      background: var(--bg-secondary);
      border-radius: 10px;
      border: 1px solid var(--border-subtle);
    }
    
    .theme-btn {
      padding: 0.375rem 0.625rem;
      background: transparent;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      color: var(--text-tertiary);
      font-size: 0.875rem;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 0.25rem;
    }
    
    .theme-btn:hover {
      color: var(--text-secondary);
    }
    
    .theme-btn.active {
      background: var(--card-bg);
      color: var(--text-primary);
      box-shadow: var(--shadow-sm);
    }
    
    /* Code blocks */
    pre {
      background: var(--code-bg);
      padding: 1.5rem;
      border-radius: 12px;
      overflow-x: auto;
      border: 1px solid var(--code-border);
      margin: 2rem 0;
      font-size: 0.875rem;
      box-shadow: var(--shadow-sm);
    }
    
    code {
      font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', monospace;
      background: var(--code-bg);
      padding: 0.125rem 0.375rem;
      border-radius: 4px;
      font-size: 0.875em;
      border: 1px solid var(--code-border);
    }
    
    pre code {
      background: none;
      padding: 0;
      border: none;
      font-size: 0.875rem;
    }
    
    /* Tables */
    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      margin: 2rem 0;
      font-size: 0.95rem;
      background: var(--card-bg);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: var(--shadow-md);
    }
    
    th, td {
      padding: 1rem;
      text-align: left;
      border-bottom: 1px solid var(--border-subtle);
    }
    
    th {
      background: var(--bg-secondary);
      font-weight: 600;
      font-size: 0.875rem;
      color: var(--text-secondary);
    }
    
    td {
      color: var(--text-secondary);
    }
    
    tr:last-child td {
      border-bottom: none;
    }
    
    tr:hover {
      background: var(--hover-bg);
    }
    
    /* Blockquotes */
    blockquote {
      margin: 2rem 0;
      padding: 1.25rem;
      border-left: 4px solid var(--primary);
      background: var(--bg-secondary);
      border-radius: 0 12px 12px 0;
      color: var(--text-secondary);
      font-style: normal;
    }
    
    blockquote p {
      margin: 0.5rem 0;
    }
    
    /* Horizontal rules */
    hr {
      border: none;
      height: 1px;
      background: var(--border);
      margin: 3rem 0;
    }
    
    /* Cards */
    .card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      margin: 1rem 0;
      box-shadow: var(--shadow-sm);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .card:hover {
      box-shadow: var(--shadow-lg);
      transform: translateY(-2px);
    }
    
    /* Main content */
    main {
      min-height: calc(100vh - 200px);
      padding: 2rem 0;
    }
    
    /* Footer */
    footer {
      margin-top: 4rem;
      padding: 2rem 0;
      border-top: 1px solid var(--border);
      color: var(--text-tertiary);
      font-size: 0.875rem;
      text-align: center;
    }
    
    /* Grid for cards */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 1.5rem;
      margin: 2rem 0;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      h1 { font-size: 2.5rem; }
      h2 { font-size: 1.75rem; }
      h3 { font-size: 1.375rem; }
      
      .nav-content {
        flex-direction: column;
        gap: 1rem;
      }
      
      nav ul {
        flex-wrap: wrap;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <div class="nav-wrapper">
    <div class="container">
      <nav class="nav-content">
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/architecture/">Architecture</a></li>
          <li><a href="/all-docs/">All Docs</a></li>
          <li><a href="/learning-roadmap/">Learning Roadmaps</a></li>
          <li><a href="/devmentor/">DevMentor</a></li>
          <li><a href="/quizmentor/">QuizMentor</a></li>
          <li><a href="/harvest/">Harvest.ai</a></li>
          <li><a href="/naturequest-auth/">Auth</a></li>
          <li><a href="/infrastructure/">Infrastructure</a></li>
        </ul>
        <div class="theme-switcher" aria-label="Theme Switcher">
          <button class="theme-btn" data-theme="light" aria-pressed="false" title="Light mode">üåû Light</button>
          <button class="theme-btn active" data-theme="auto" aria-pressed="true" title="Auto mode">üß≠ Auto</button>
          <button class="theme-btn" data-theme="dark" aria-pressed="false" title="Dark mode">üåô Dark</button>
        </div>
      </nav>
    </div>
  </div>

  <main class="container">
    <div class="product-header" style="background: #f6f8fa; padding: 1rem; border-radius: 5px; margin-bottom: 2rem;">
  <span style="color: #666;">DevMentor</span> / 
  <span style="color: #999;">infrastructure/operations/SCALING.md</span>
</div>

<h1>SCALING</h1>


<p>CURRENT ARCHITECTURE</p>

<h1 id="devmentor-scaling-architecture">DevMentor Scaling Architecture</h1>

<h2 id="overview">Overview</h2>
<p>This document provides a comprehensive guide to the DevMentor scaling architecture, integrating QWEN, PBML, Qdrant, and PostgreSQL.</p>

<h2 id="system-architecture">System Architecture</h2>

<h3 id="high-level-flow">High-Level Flow</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Client ‚Üí API Gateway ‚Üí QWEN ‚Üí PBML ‚Üí (Qdrant/PostgreSQL)
   ‚Üë         ‚Üë          ‚Üë      ‚Üë           ‚Üë
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            Monitoring &amp; Metrics
</code></pre></div></div>

<h2 id="core-components">Core Components</h2>

<h3 id="1-qwen-llm-processing">1. QWEN (LLM Processing)</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Request ‚Üí Load Balancer ‚Üí QWEN Pods (3-10)
                            ‚Üì
                    Redis + Vector Store
</code></pre></div></div>

<p>Configuration:</p>
<ul>
  <li>Resource Limits: 2-4 CPU, 8-16Gi Memory</li>
  <li>Horizontal scaling based on CPU/Memory (70% threshold)</li>
  <li>Connection pooling: 100 connections per instance</li>
  <li>Cache TTL: 1 hour (L1), 24 hours (L2)</li>
</ul>

<h3 id="2-pbml-infinite-context">2. PBML (Infinite Context)</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Input ‚Üí Preprocessor ‚Üí Batch Manager ‚Üí Workers ‚Üí Output
  ‚Üì          ‚Üì             ‚Üì            ‚Üì         ‚Üì
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  Persistent Storage
</code></pre></div></div>

<p>Configuration:</p>
<ul>
  <li>StatefulSet with 3 replicas</li>
  <li>Resource Limits: 2-4 CPU, 8-16Gi Memory</li>
  <li>100Gi persistent storage per pod</li>
  <li>Real-time context updates</li>
</ul>

<h3 id="3-qdrant-vector-store">3. Qdrant (Vector Store)</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Queries ‚Üí Load Balancer ‚Üí Qdrant Nodes
            ‚Üì    ‚Üì    ‚Üì         ‚Üì
         Shard1  S2   S3    Replication
</code></pre></div></div>

<p>Configuration:</p>
<ul>
  <li>3-node cluster with automatic sharding</li>
  <li>Resource Limits: 4-8 CPU, 16-32Gi Memory</li>
  <li>HNSW Index: m=16, ef_construct=100</li>
  <li>Backup schedule: Every 6 hours</li>
</ul>

<h3 id="4-postgresql-data-store">4. PostgreSQL (Data Store)</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Writes ‚Üí Primary DB ‚Üí WAL Shipping
          ‚Üì    ‚Üì    ‚Üì
      Replica1  R2   R3 ‚Üê Reads
</code></pre></div></div>

<p>Configuration:</p>
<ul>
  <li>Primary + 3 replicas</li>
  <li>Resource Limits: 4-8 CPU, 16-32Gi Memory</li>
  <li>PgBouncer: 1000 max connections</li>
  <li>Backup: Continuous archiving to S3</li>
</ul>

<h2 id="data-flows">Data Flows</h2>

<h3 id="1-request-processing">1. Request Processing</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Client Request
     ‚Üì
API Gateway
     ‚Üì
QWEN ‚Üí Redis Cache Check
     ‚Üì
  Cache Miss?
  ‚Üô        ‚Üò
Yes        No ‚Üí Return Cached
‚Üì
PBML Context Fetch
‚Üì    ‚Üì
Qdrant  PostgreSQL
‚Üì    ‚Üì
Combined Response
‚Üì
Cache &amp; Return
</code></pre></div></div>

<h3 id="2-scaling-flow">2. Scaling Flow</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Incoming Load ‚Üí Metrics Check
                    ‚Üì
CPU &gt; 70%? ‚Üí Scale Out ‚Üí New Pod
                    ‚Üì
Memory &gt; 75%? ‚Üí Scale Out ‚Üí New Pod
                    ‚Üì
Error Rate &gt; 0.1%? ‚Üí Circuit Break
</code></pre></div></div>

<h3 id="3-failure-handling">3. Failure Handling</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Error Detected
     ‚Üì
Circuit Open
     ‚Üì
Fallback Strategy
  ‚Üô    ‚Üì    ‚Üò
Cache  Degraded  Secondary
  ‚Üò    ‚Üì    ‚Üô
  Response Return
</code></pre></div></div>

<h2 id="performance-targets">Performance Targets</h2>

<h3 id="resource-allocation">Resource Allocation</h3>
<p>| Component   | CPU Min | CPU Max | Memory Min | Memory Max |
|‚Äî‚Äî‚Äî‚Äî|‚Äî‚Äî‚Äî|‚Äî‚Äî‚Äî|‚Äî‚Äî‚Äî‚Äî|‚Äî‚Äî‚Äî‚Äî|
| QWEN       | 2 CPU   | 4 CPU   | 8Gi       | 16Gi      |
| PBML       | 2 CPU   | 4 CPU   | 8Gi       | 16Gi      |
| Qdrant     | 4 CPU   | 8 CPU   | 16Gi      | 32Gi      |
| PostgreSQL | 4 CPU   | 8 CPU   | 16Gi      | 32Gi      |</p>

<h3 id="performance-slas">Performance SLAs</h3>
<p>| Metric          | Warning | Critical |
|‚Äî‚Äî‚Äî‚Äî‚Äî‚Äì|‚Äî‚Äî‚Äî|‚Äî‚Äî‚Äî-|
| CPU Usage       | 70%     | 85%      |
| Memory Usage    | 75%     | 90%      |
| Error Rate      | 0.1%    | 1%       |
| Response Time   | 500ms   | 1s       |</p>

<h2 id="monitoring">Monitoring</h2>

<h3 id="key-metrics">Key Metrics</h3>
<ol>
  <li>System Health
    <ul>
      <li>Pod status and health</li>
      <li>Resource utilization</li>
      <li>Error rates and types</li>
    </ul>
  </li>
  <li>Performance
    <ul>
      <li>Response latency</li>
      <li>Throughput rates</li>
      <li>Cache hit ratios</li>
    </ul>
  </li>
  <li>Database
    <ul>
      <li>Connection status</li>
      <li>Query performance</li>
      <li>Replication health</li>
    </ul>
  </li>
</ol>

<h3 id="monitoring-flow">Monitoring Flow</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Services ‚Üí Prometheus ‚Üí Grafana
    ‚Üì          ‚Üì         ‚Üì
Metrics ‚Üí Alert Rules ‚Üí Notifications
</code></pre></div></div>

<h2 id="recovery-procedures">Recovery Procedures</h2>

<h3 id="1-qwen-recovery">1. QWEN Recovery</h3>
<ul>
  <li>Circuit breaker activation at 5 consecutive errors</li>
  <li>30s base ejection time</li>
  <li>Fallback to cached responses</li>
  <li>Secondary model support</li>
</ul>

<h3 id="2-pbml-recovery">2. PBML Recovery</h3>
<ul>
  <li>Checkpoint-based recovery</li>
  <li>Incremental state updates</li>
  <li>Active-active replication</li>
  <li>State synchronization</li>
</ul>

<h3 id="3-qdrant-recovery">3. Qdrant Recovery</h3>
<ul>
  <li>Automatic shard rebalancing</li>
  <li>Cross-zone replication</li>
  <li>Snapshot-based recovery</li>
  <li>Consistency checks</li>
</ul>

<h3 id="4-postgresql-recovery">4. PostgreSQL Recovery</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Failure Detected
      ‚Üì
Health Check Failed
      ‚Üì
Promote Replica
      ‚Üì
Update Endpoints
      ‚Üì
Recover Failed Node
</code></pre></div></div>

<h2 id="security-measures">Security Measures</h2>

<h3 id="network-security">Network Security</h3>
<ul>
  <li>Service mesh encryption</li>
  <li>Network policies</li>
  <li>Pod security policies</li>
</ul>

<h3 id="data-security">Data Security</h3>
<ul>
  <li>Encryption at rest</li>
  <li>TLS for transit</li>
  <li>Access control policies</li>
</ul>

<h2 id="deployment-updates">Deployment Updates</h2>

<h3 id="rolling-updates">Rolling Updates</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Deploy ‚Üí Pod 1 ‚Üí Health Check ‚Üí Traffic
   ‚Üì
Pod 2 ‚Üí Health Check ‚Üí Traffic
   ‚Üì
Pod 3 ‚Üí Health Check ‚Üí Traffic
</code></pre></div></div>

<p>Configuration:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">strategy</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">RollingUpdate</span>
  <span class="na">rollingUpdate</span><span class="pi">:</span>
    <span class="na">maxSurge</span><span class="pi">:</span> <span class="m">1</span>
    <span class="na">maxUnavailable</span><span class="pi">:</span> <span class="m">0</span>
</code></pre></div></div>

<h3 id="health-checks">Health Checks</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">livenessProbe</span><span class="pi">:</span>
  <span class="na">httpGet</span><span class="pi">:</span>
    <span class="na">path</span><span class="pi">:</span> <span class="s">/health</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">8080</span>
  <span class="na">initialDelaySeconds</span><span class="pi">:</span> <span class="m">30</span>
  <span class="na">periodSeconds</span><span class="pi">:</span> <span class="m">10</span>

<span class="na">readinessProbe</span><span class="pi">:</span>
  <span class="na">httpGet</span><span class="pi">:</span>
    <span class="na">path</span><span class="pi">:</span> <span class="s">/ready</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">8080</span>
  <span class="na">initialDelaySeconds</span><span class="pi">:</span> <span class="m">5</span>
  <span class="na">periodSeconds</span><span class="pi">:</span> <span class="m">5</span>
</code></pre></div></div>



<div style="margin-top: 3rem; padding: 1rem; background: #f6f8fa; border-radius: 5px;">
  <p style="margin: 0; color: #666; font-size: 0.9em;">
    üìÅ Source: DevMentor / infrastructure/operations/SCALING.md
  </p>
</div>

  </main>

  <footer>
    <p>&copy; 2024 NatureQuest. Documentation Hub v1.0.0</p>
  </footer>

  <script>
    (function() {
      const html = document.documentElement;
      const buttons = [];
      function setActive(theme) {
        buttons.forEach(b => {
          const active = b.dataset.theme === theme;
          b.classList.toggle('active', active);
          b.setAttribute('aria-pressed', active ? 'true' : 'false');
        });
      }
      function applyTheme(theme) {
        if (theme === 'auto') {
          html.removeAttribute('data-theme');
          localStorage.removeItem('theme');
        } else {
          html.setAttribute('data-theme', theme);
          localStorage.setItem('theme', theme);
        }
        setActive(theme);
      }
      document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('.theme-btn').forEach(btn => {
          buttons.push(btn);
          btn.addEventListener('click', () => applyTheme(btn.dataset.theme));
        });
        const saved = localStorage.getItem('theme');
        if (saved === 'light' || saved === 'dark') {
          applyTheme(saved);
        } else {
          applyTheme('auto');
        }
      });
    })();
  </script>
</body>
</html>

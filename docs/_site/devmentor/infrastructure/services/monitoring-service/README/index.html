<!DOCTYPE html>
<html lang="en" data-theme="auto">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>README</title>
    
    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    
    <style>
    /* Light mode variables */
    :root {
      --primary: #007AFF;
      --primary-hover: #0051D5;
      --success: #34C759;
      --warning: #FF9500;
      --danger: #FF3B30;
      --text-primary: #000000;
      --text-secondary: #3C3C43;
      --text-tertiary: #8E8E93;
      --bg-primary: #FFFFFF;
      --bg-secondary: #F2F2F7;
      --bg-tertiary: #FFFFFF;
      --bg-elevated: #FFFFFF;
      --border: rgba(0, 0, 0, 0.1);
      --border-subtle: rgba(0, 0, 0, 0.04);
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.12);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07), 0 2px 4px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.1), 0 4px 10px rgba(0, 0, 0, 0.08);
      --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.15);
      --backdrop: rgba(255, 255, 255, 0.8);
      --code-bg: #F7F7FA;
      --code-border: rgba(0, 0, 0, 0.06);
      --nav-bg: rgba(255, 255, 255, 0.72);
      --card-bg: #FFFFFF;
      --hover-bg: rgba(0, 122, 255, 0.08);
    }
    
    /* Dark mode variables */
    [data-theme="dark"] {
      --primary: #0A84FF;
      --primary-hover: #409CFF;
      --success: #32D74B;
      --warning: #FF9F0A;
      --danger: #FF453A;
      --text-primary: #FFFFFF;
      --text-secondary: #EBEBF5;
      --text-tertiary: #8E8E93;
      --bg-primary: #000000;
      --bg-secondary: #1C1C1E;
      --bg-tertiary: #2C2C2E;
      --bg-elevated: #1C1C1E;
      --border: rgba(255, 255, 255, 0.15);
      --border-subtle: rgba(255, 255, 255, 0.06);
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.4);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
      --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.5), 0 4px 10px rgba(0, 0, 0, 0.4);
      --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.6);
      --backdrop: rgba(28, 28, 30, 0.8);
      --code-bg: #1C1C1E;
      --code-border: rgba(255, 255, 255, 0.08);
      --nav-bg: rgba(28, 28, 30, 0.72);
      --card-bg: #1C1C1E;
      --hover-bg: rgba(10, 132, 255, 0.15);
    }
    
    /* Auto theme based on system preference */
    @media (prefers-color-scheme: dark) {
      :root:not([data-theme="light"]) {
        --primary: #0A84FF;
        --primary-hover: #409CFF;
        --success: #32D74B;
        --warning: #FF9F0A;
        --danger: #FF453A;
        --text-primary: #FFFFFF;
        --text-secondary: #EBEBF5;
        --text-tertiary: #8E8E93;
        --bg-primary: #000000;
        --bg-secondary: #1C1C1E;
        --bg-tertiary: #2C2C2E;
        --bg-elevated: #1C1C1E;
        --border: rgba(255, 255, 255, 0.15);
        --border-subtle: rgba(255, 255, 255, 0.06);
        --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.4);
        --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
        --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.5), 0 4px 10px rgba(0, 0, 0, 0.4);
        --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.6);
        --backdrop: rgba(28, 28, 30, 0.8);
        --code-bg: #1C1C1E;
        --code-border: rgba(255, 255, 255, 0.08);
        --nav-bg: rgba(28, 28, 30, 0.72);
        --card-bg: #1C1C1E;
        --hover-bg: rgba(10, 132, 255, 0.15);
      }
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html {
      scroll-behavior: smooth;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
      font-size: 17px;
      line-height: 1.6;
      color: var(--text-primary);
      background: var(--bg-primary);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 24px;
    }
    
    /* Typography */
    p {
      margin: 1.2rem 0;
      color: var(--text-secondary);
      letter-spacing: -0.011em;
    }
    
    a {
      color: var(--primary);
      text-decoration: none;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      border-radius: 2px;
    }
    
    a:hover {
      color: var(--primary-hover);
      text-decoration: none;
    }
    
    a:focus {
      outline: 2px solid var(--primary);
      outline-offset: 2px;
    }
    
    /* Headings */
    h1, h2, h3, h4, h5, h6 {
      font-weight: 600;
      line-height: 1.2;
      margin-top: 2.5rem;
      margin-bottom: 1rem;
      letter-spacing: -0.02em;
      color: var(--text-primary);
    }
    
    h1 {
      font-size: 3rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-hover) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-top: 0;
      margin-bottom: 1.5rem;
    }
    
    h2 {
      font-size: 2rem;
      font-weight: 600;
      color: var(--text-primary);
      border-bottom: 1px solid var(--border-subtle);
      padding-bottom: 0.75rem;
      margin-top: 3rem;
    }
    
    h3 {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--text-primary);
    }
    
    h4 {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--text-secondary);
    }
    
    /* Lists */
    ul, ol {
      padding-left: 2rem;
      margin: 1.5rem 0;
      color: var(--text-secondary);
    }
    
    li {
      margin: 0.75rem 0;
      line-height: 1.6;
    }
    
    /* Strong text */
    strong, b {
      font-weight: 600;
      color: var(--text-primary);
    }
    
    /* Navigation */
    .nav-wrapper {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--nav-bg);
      backdrop-filter: saturate(180%) blur(20px);
      -webkit-backdrop-filter: saturate(180%) blur(20px);
      border-bottom: 1px solid var(--border);
      margin-bottom: 2rem;
    }
    
    nav {
      padding: 1rem 0;
    }
    
    .nav-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      gap: 0.5rem;
      align-items: center;
    }
    
    nav li {
      margin: 0;
    }
    
    nav a {
      color: var(--text-secondary);
      text-decoration: none;
      font-weight: 500;
      font-size: 0.95rem;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    nav a:hover {
      background: var(--hover-bg);
      color: var(--primary);
    }
    
    nav a:focus {
      outline: none;
    }
    
    /* Theme Switcher */
    .theme-switcher {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.375rem;
      background: var(--bg-secondary);
      border-radius: 10px;
      border: 1px solid var(--border-subtle);
    }
    
    .theme-btn {
      padding: 0.375rem 0.625rem;
      background: transparent;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      color: var(--text-tertiary);
      font-size: 0.875rem;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 0.25rem;
    }
    
    .theme-btn:hover {
      color: var(--text-secondary);
    }
    
    .theme-btn.active {
      background: var(--card-bg);
      color: var(--text-primary);
      box-shadow: var(--shadow-sm);
    }
    
    /* Code blocks */
    pre {
      background: var(--code-bg);
      padding: 1.5rem;
      border-radius: 12px;
      overflow-x: auto;
      border: 1px solid var(--code-border);
      margin: 2rem 0;
      font-size: 0.875rem;
      box-shadow: var(--shadow-sm);
    }
    
    code {
      font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', monospace;
      background: var(--code-bg);
      padding: 0.125rem 0.375rem;
      border-radius: 4px;
      font-size: 0.875em;
      border: 1px solid var(--code-border);
    }
    
    pre code {
      background: none;
      padding: 0;
      border: none;
      font-size: 0.875rem;
    }
    
    /* Tables */
    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      margin: 2rem 0;
      font-size: 0.95rem;
      background: var(--card-bg);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: var(--shadow-md);
    }
    
    th, td {
      padding: 1rem;
      text-align: left;
      border-bottom: 1px solid var(--border-subtle);
    }
    
    th {
      background: var(--bg-secondary);
      font-weight: 600;
      font-size: 0.875rem;
      color: var(--text-secondary);
    }
    
    td {
      color: var(--text-secondary);
    }
    
    tr:last-child td {
      border-bottom: none;
    }
    
    tr:hover {
      background: var(--hover-bg);
    }
    
    /* Blockquotes */
    blockquote {
      margin: 2rem 0;
      padding: 1.25rem;
      border-left: 4px solid var(--primary);
      background: var(--bg-secondary);
      border-radius: 0 12px 12px 0;
      color: var(--text-secondary);
      font-style: normal;
    }
    
    blockquote p {
      margin: 0.5rem 0;
    }
    
    /* Horizontal rules */
    hr {
      border: none;
      height: 1px;
      background: var(--border);
      margin: 3rem 0;
    }
    
    /* Cards */
    .card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      margin: 1rem 0;
      box-shadow: var(--shadow-sm);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .card:hover {
      box-shadow: var(--shadow-lg);
      transform: translateY(-2px);
    }
    
    /* Main content */
    main {
      min-height: calc(100vh - 200px);
      padding: 2rem 0;
    }
    
    /* Footer */
    footer {
      margin-top: 4rem;
      padding: 2rem 0;
      border-top: 1px solid var(--border);
      color: var(--text-tertiary);
      font-size: 0.875rem;
      text-align: center;
    }
    
    /* Grid for cards */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 1.5rem;
      margin: 2rem 0;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      h1 { font-size: 2.5rem; }
      h2 { font-size: 1.75rem; }
      h3 { font-size: 1.375rem; }
      
      .nav-content {
        flex-direction: column;
        gap: 1rem;
      }
      
      nav ul {
        flex-wrap: wrap;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <div class="nav-wrapper">
    <div class="container">
      <nav class="nav-content">
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/architecture/">Architecture</a></li>
          <li><a href="/all-docs/">All Docs</a></li>
          <li><a href="/learning-roadmap/">Learning Roadmaps</a></li>
          <li><a href="/devmentor/">DevMentor</a></li>
          <li><a href="/quizmentor/">QuizMentor</a></li>
          <li><a href="/harvest/">Harvest.ai</a></li>
          <li><a href="/naturequest-auth/">Auth</a></li>
          <li><a href="/infrastructure/">Infrastructure</a></li>
        </ul>
        <div class="theme-switcher" aria-label="Theme Switcher">
          <button class="theme-btn" data-theme="light" aria-pressed="false" title="Light mode">ğŸŒ Light</button>
          <button class="theme-btn active" data-theme="auto" aria-pressed="true" title="Auto mode">ğŸ§­ Auto</button>
          <button class="theme-btn" data-theme="dark" aria-pressed="false" title="Dark mode">ğŸŒ™ Dark</button>
        </div>
      </nav>
    </div>
  </div>

  <main class="container">
    <div class="product-header" style="background: #f6f8fa; padding: 1rem; border-radius: 5px; margin-bottom: 2rem;">
  <span style="color: #666;">DevMentor</span> / 
  <span style="color: #999;">infrastructure/services/monitoring-service/README.md</span>
</div>

<h1>README</h1>


<h1 id="-devmentor-monitoring--observability-service">ğŸ¯ DevMentor Monitoring &amp; Observability Service</h1>

<h2 id="overview">Overview</h2>

<p>The DevMentor Monitoring Service is an AI-powered, comprehensive observability platform that provides real-time monitoring, predictive maintenance, and intelligent incident management for the entire DevMentor ecosystem.</p>

<h2 id="table-of-contents">Table of Contents</h2>

<ol>
  <li><a href="#architecture">Architecture</a></li>
  <li><a href="#features">Features</a></li>
  <li><a href="#components">Components</a></li>
  <li><a href="#event-system">Event System</a></li>
  <li><a href="#observability-stack">Observability Stack</a></li>
  <li><a href="#api-reference">API Reference</a></li>
  <li><a href="#websocket-events">WebSocket Events</a></li>
  <li><a href="#deployment">Deployment</a></li>
  <li><a href="#configuration">Configuration</a></li>
  <li><a href="#troubleshooting">Troubleshooting</a></li>
</ol>

<h2 id="architecture">Architecture</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     MONITORING SERVICE ARCHITECTURE                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        Frontend Dashboard                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚ Services â”‚  â”‚ Metrics  â”‚  â”‚Incidents â”‚  â”‚ AI Insights  â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                            â”‚ WebSocket + REST                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    Monitoring Service (Port 3006)                â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚                     Core Components                        â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Monitoring Engine    â€¢ Event Processor                  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Health Checker       â€¢ Metrics Collector               â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Incident Manager     â€¢ Prediction Engine               â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Alert System         â€¢ Pattern Analyzer                â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                            â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        Data Layer                                â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  Redis   â”‚  â”‚ Postgres â”‚  â”‚  Docker  â”‚  â”‚  Prometheus  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  Cache   â”‚  â”‚ Metrics  â”‚  â”‚   API    â”‚  â”‚   Metrics    â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div></div>

<h2 id="features">Features</h2>

<h3 id="-real-time-monitoring">ğŸ” Real-Time Monitoring</h3>
<ul>
  <li><strong>Service Health Checks</strong>: Continuous monitoring of all microservices</li>
  <li><strong>System Metrics</strong>: CPU, memory, disk, and network usage tracking</li>
  <li><strong>Container Monitoring</strong>: Docker container status and statistics</li>
  <li><strong>Response Time Tracking</strong>: API endpoint performance monitoring</li>
  <li><strong>Error Rate Analysis</strong>: Service error rate calculation and trending</li>
</ul>

<h3 id="-ai-powered-intelligence">ğŸ¤– AI-Powered Intelligence</h3>
<ul>
  <li><strong>Predictive Maintenance</strong>: Anticipate failures before they occur</li>
  <li><strong>Pattern Recognition</strong>: Identify recurring issues and trends</li>
  <li><strong>Smart Suggestions</strong>: AI-generated fix recommendations</li>
  <li><strong>Anomaly Detection</strong>: Automatic detection of unusual behavior</li>
  <li><strong>Root Cause Analysis</strong>: Intelligent problem diagnosis</li>
</ul>

<h3 id="-incident-management">ğŸš¨ Incident Management</h3>
<ul>
  <li><strong>Automatic Detection</strong>: Real-time incident identification</li>
  <li><strong>Severity Classification</strong>: Low, Medium, High, Critical levels</li>
  <li><strong>Auto-Response</strong>: Automated recovery actions for known issues</li>
  <li><strong>Incident Timeline</strong>: Complete history and action tracking</li>
  <li><strong>Escalation Policies</strong>: Configurable alert routing</li>
</ul>

<h3 id="-metrics--analytics">ğŸ“Š Metrics &amp; Analytics</h3>
<ul>
  <li><strong>Prometheus Integration</strong>: Industry-standard metrics collection</li>
  <li><strong>Custom Dashboards</strong>: Configurable visualization panels</li>
  <li><strong>Historical Data</strong>: Long-term trend analysis</li>
  <li><strong>Performance Baselines</strong>: Automatic baseline establishment</li>
  <li><strong>SLA Monitoring</strong>: Service level agreement tracking</li>
</ul>

<h3 id="-event-system">ğŸ”” Event System</h3>
<ul>
  <li><strong>WebSocket Real-time Updates</strong>: Live data streaming</li>
  <li><strong>Event Aggregation</strong>: Intelligent event correlation</li>
  <li><strong>Event Filtering</strong>: Customizable event subscriptions</li>
  <li><strong>Event History</strong>: Complete audit trail</li>
  <li><strong>Event-Driven Actions</strong>: Automated responses to events</li>
</ul>

<h2 id="components">Components</h2>

<h3 id="1-monitoring-engine-monitoringengine">1. Monitoring Engine (<code class="language-plaintext highlighter-rouge">MonitoringEngine</code>)</h3>
<p>The core component responsible for orchestrating all monitoring activities.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">MonitoringEngine</span> <span class="p">{</span>
  <span class="c1">// Main monitoring loop</span>
  <span class="nx">start</span><span class="p">()</span>
  <span class="nx">stop</span><span class="p">()</span>
  
  <span class="c1">// Health checking</span>
  <span class="nx">checkServiceHealth</span><span class="p">(</span><span class="nx">serviceName</span><span class="p">)</span>
  <span class="nx">checkSystemHealth</span><span class="p">()</span>
  
  <span class="c1">// Metrics collection</span>
  <span class="nx">collectMetrics</span><span class="p">()</span>
  <span class="nx">collectSystemMetrics</span><span class="p">()</span>
  
  <span class="c1">// Incident management</span>
  <span class="nx">createIncident</span><span class="p">(</span><span class="nx">service</span><span class="p">,</span> <span class="nx">description</span><span class="p">,</span> <span class="nx">severity</span><span class="p">)</span>
  <span class="nx">respondToIncident</span><span class="p">(</span><span class="nx">incident</span><span class="p">)</span>
  
  <span class="c1">// Predictive maintenance</span>
  <span class="nx">runPredictiveMaintenance</span><span class="p">()</span>
  <span class="nx">analyzePatterns</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="2-event-processor">2. Event Processor</h3>
<p>Handles all event processing and distribution.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Event types</span>
<span class="kd">const</span> <span class="nx">EventTypes</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">SERVICE_UP</span><span class="p">:</span> <span class="dl">'</span><span class="s1">service.up</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">SERVICE_DOWN</span><span class="p">:</span> <span class="dl">'</span><span class="s1">service.down</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">INCIDENT_CREATED</span><span class="p">:</span> <span class="dl">'</span><span class="s1">incident.created</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">INCIDENT_RESOLVED</span><span class="p">:</span> <span class="dl">'</span><span class="s1">incident.resolved</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">PREDICTION_GENERATED</span><span class="p">:</span> <span class="dl">'</span><span class="s1">prediction.generated</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">METRIC_THRESHOLD</span><span class="p">:</span> <span class="dl">'</span><span class="s1">metric.threshold</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">SYSTEM_ALERT</span><span class="p">:</span> <span class="dl">'</span><span class="s1">system.alert</span><span class="dl">'</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="3-metrics-collector">3. Metrics Collector</h3>
<p>Gathers and processes various metrics.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Metric types</span>
<span class="kd">const</span> <span class="nx">MetricTypes</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">GAUGE</span><span class="p">:</span> <span class="dl">'</span><span class="s1">gauge</span><span class="dl">'</span><span class="p">,</span>      <span class="c1">// Current value (e.g., CPU usage)</span>
  <span class="na">COUNTER</span><span class="p">:</span> <span class="dl">'</span><span class="s1">counter</span><span class="dl">'</span><span class="p">,</span>  <span class="c1">// Cumulative value (e.g., request count)</span>
  <span class="na">HISTOGRAM</span><span class="p">:</span> <span class="dl">'</span><span class="s1">histogram</span><span class="dl">'</span><span class="p">,</span> <span class="c1">// Distribution (e.g., response times)</span>
  <span class="na">SUMMARY</span><span class="p">:</span> <span class="dl">'</span><span class="s1">summary</span><span class="dl">'</span>   <span class="c1">// Statistical summary</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="4-prediction-engine">4. Prediction Engine</h3>
<p>AI-powered predictive analytics.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Prediction categories</span>
<span class="kd">const</span> <span class="nx">PredictionCategories</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">MEMORY_LEAK</span><span class="p">:</span> <span class="dl">'</span><span class="s1">memory_leak</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">PERFORMANCE_DEGRADATION</span><span class="p">:</span> <span class="dl">'</span><span class="s1">performance_degradation</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">CAPACITY_PLANNING</span><span class="p">:</span> <span class="dl">'</span><span class="s1">capacity_planning</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">FAILURE_PREDICTION</span><span class="p">:</span> <span class="dl">'</span><span class="s1">failure_prediction</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">ANOMALY_DETECTION</span><span class="p">:</span> <span class="dl">'</span><span class="s1">anomaly_detection</span><span class="dl">'</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="event-system">Event System</h2>

<h3 id="event-flow">Event Flow</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Producer â†’ Event Bus â†’ Event Processor â†’ Consumers
    â†“          â†“            â†“               â†“
Services    Redis      Filtering      WebSocket
Metrics     Queue      Correlation    Database
Alerts      Buffer     Aggregation    Notifications
</code></pre></div></div>

<h3 id="event-schema">Event Schema</h3>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">interface</span> <span class="nx">MonitoringEvent</span> <span class="p">{</span>
  <span class="nl">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">type</span><span class="p">:</span> <span class="nx">EventType</span><span class="p">;</span>
  <span class="nl">source</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">timestamp</span><span class="p">:</span> <span class="nb">Date</span><span class="p">;</span>
  <span class="nl">severity</span><span class="p">:</span> <span class="dl">'</span><span class="s1">info</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">warning</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">error</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">critical</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">data</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
  <span class="nl">metadata</span><span class="p">:</span> <span class="p">{</span>
    <span class="nx">correlationId</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">userId</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">sessionId</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
    <span class="nl">tags</span><span class="p">?:</span> <span class="kr">string</span><span class="p">[];</span>
  <span class="p">};</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="event-subscriptions">Event Subscriptions</h3>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Subscribe to specific events</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">service.down</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Service </span><span class="p">${</span><span class="nx">event</span><span class="p">.</span><span class="nx">source</span><span class="p">}</span><span class="s2"> is down`</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// Subscribe to pattern</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">incident.*</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Incident event: </span><span class="p">${</span><span class="nx">event</span><span class="p">.</span><span class="nx">type</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// Subscribe to all events</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">*</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Event received: </span><span class="p">${</span><span class="nx">event</span><span class="p">.</span><span class="nx">type</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="observability-stack">Observability Stack</h2>

<h3 id="1-metrics-prometheus">1. Metrics (Prometheus)</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Exposed metrics</span>
<span class="s">service_health_status{service="auth"} </span><span class="m">1</span>
<span class="s">http_request_duration_seconds{method="GET",route="/api/users"} </span><span class="m">0.045</span>
<span class="s">service_error_rate{service="memory"} </span><span class="m">0.02</span>
<span class="s">system_cpu_usage_percent </span><span class="m">45.2</span>
<span class="s">system_memory_usage_bytes </span><span class="m">4294967296</span>
</code></pre></div></div>

<h3 id="2-logging-winston">2. Logging (Winston)</h3>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Log levels</span>
<span class="nx">logger</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Service failure</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">service</span><span class="p">:</span> <span class="dl">'</span><span class="s1">auth</span><span class="dl">'</span><span class="p">,</span> <span class="na">error</span><span class="p">:</span> <span class="nx">err</span> <span class="p">});</span>
<span class="nx">logger</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="dl">'</span><span class="s1">High memory usage</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">usage</span><span class="p">:</span> <span class="dl">'</span><span class="s1">85%</span><span class="dl">'</span> <span class="p">});</span>
<span class="nx">logger</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="dl">'</span><span class="s1">Service started</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">service</span><span class="p">:</span> <span class="dl">'</span><span class="s1">monitoring</span><span class="dl">'</span> <span class="p">});</span>
<span class="nx">logger</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="dl">'</span><span class="s1">Health check completed</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="nx">results</span> <span class="p">});</span>
</code></pre></div></div>

<h3 id="3-tracing-opentelemetry---future">3. Tracing (OpenTelemetry - Future)</h3>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Distributed tracing</span>
<span class="kd">const</span> <span class="nx">span</span> <span class="o">=</span> <span class="nx">tracer</span><span class="p">.</span><span class="nx">startSpan</span><span class="p">(</span><span class="dl">'</span><span class="s1">health-check</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">span</span><span class="p">.</span><span class="nx">setAttributes</span><span class="p">({</span>
  <span class="dl">'</span><span class="s1">service.name</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">monitoring</span><span class="dl">'</span><span class="p">,</span>
  <span class="dl">'</span><span class="s1">check.type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">health</span><span class="dl">'</span><span class="p">,</span>
  <span class="dl">'</span><span class="s1">check.target</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">auth-service</span><span class="dl">'</span>
<span class="p">});</span>
<span class="c1">// ... perform check</span>
<span class="nx">span</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
</code></pre></div></div>

<h3 id="4-visualization">4. Visualization</h3>
<ul>
  <li><strong>Grafana Dashboards</strong>: Real-time metrics visualization</li>
  <li><strong>Custom React Dashboard</strong>: Integrated monitoring UI</li>
  <li><strong>Alert Manager</strong>: Alert routing and management</li>
  <li><strong>Jaeger UI</strong>: Distributed tracing visualization</li>
</ul>

<h2 id="api-reference">API Reference</h2>

<h3 id="rest-endpoints">REST Endpoints</h3>

<h4 id="health-check">Health Check</h4>
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET /health
Response: {
  "status": "healthy",
  "timestamp": "2024-01-19T10:00:00Z"
}
</span></code></pre></div></div>

<h4 id="get-all-services-status">Get All Services Status</h4>
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET /api/services
Response: {
  "auth": {
    "status": "healthy",
    "uptime": 3600,
    "metrics": {...}
  },
  ...
}
</span></code></pre></div></div>

<h4 id="get-system-metrics">Get System Metrics</h4>
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET /api/metrics
Response: {
  "services": {...},
  "system": {
    "cpu": { "usage": 45.2, "cores": 8 },
    "memory": { "used": 4294967296, "total": 8589934592 }
  },
  "docker": [...]
}
</span></code></pre></div></div>

<h4 id="get-incidents">Get Incidents</h4>
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET /api/incidents
Query Parameters:
  - status: open|resolved|all
  - severity: low|medium|high|critical
  - limit: number
  - offset: number
</span></code></pre></div></div>

<h4 id="create-incident">Create Incident</h4>
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST /api/incidents
Body: {
  "service": "auth",
  "description": "Service not responding",
  "severity": "high"
}
</span></code></pre></div></div>

<h4 id="get-predictions">Get Predictions</h4>
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET /api/predictions
Response: [{
  "service": "memory",
  "type": "memory_leak",
  "severity": "medium",
  "message": "Memory leak detected",
  "suggestion": "Restart service and investigate memory allocation"
}]
</span></code></pre></div></div>

<h4 id="restart-service">Restart Service</h4>
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST /api/services/:service/restart
Response: {
  "message": "Service restart initiated",
  "service": "auth"
}
</span></code></pre></div></div>

<h4 id="prometheus-metrics">Prometheus Metrics</h4>
<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET /metrics
Response: Prometheus formatted metrics
</span></code></pre></div></div>

<h2 id="websocket-events">WebSocket Events</h2>

<h3 id="client--server-events">Client â†’ Server Events</h3>

<h4 id="request-metrics-update">Request Metrics Update</h4>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">socket</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="dl">'</span><span class="s1">requestMetrics</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<h4 id="restart-service-1">Restart Service</h4>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">socket</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="dl">'</span><span class="s1">restartService</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">auth</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<h4 id="subscribe-to-events">Subscribe to Events</h4>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">socket</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="dl">'</span><span class="s1">subscribe</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">events</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">service.*</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">incident.created</span><span class="dl">'</span><span class="p">],</span>
  <span class="na">services</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">auth</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">memory</span><span class="dl">'</span><span class="p">]</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="server--client-events">Server â†’ Client Events</h3>

<h4 id="initial-state">Initial State</h4>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">initialState</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// data.services: Current service states</span>
  <span class="c1">// data.system: System metrics</span>
  <span class="c1">// data.incidents: Active incidents</span>
  <span class="c1">// data.predictions: AI predictions</span>
<span class="p">});</span>
</code></pre></div></div>

<h4 id="service-update">Service Update</h4>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">servicesUpdate</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">services</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Real-time service status updates</span>
<span class="p">});</span>
</code></pre></div></div>

<h4 id="system-metrics">System Metrics</h4>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">systemMetrics</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">metrics</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// CPU, memory, disk, network stats</span>
<span class="p">});</span>
</code></pre></div></div>

<h4 id="new-incident">New Incident</h4>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">incident</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">incident</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// New incident created</span>
<span class="p">});</span>
</code></pre></div></div>

<h4 id="ai-prediction">AI Prediction</h4>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">prediction</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">prediction</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// New AI prediction generated</span>
<span class="p">});</span>
</code></pre></div></div>

<h4 id="service-restarted">Service Restarted</h4>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">serviceRestarted</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">service</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Service restart completed</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="deployment">Deployment</h2>

<h3 id="docker-deployment">Docker Deployment</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Build the image</span>
docker build <span class="nt">-t</span> devmentor-monitoring ./services/monitoring-service

<span class="c"># Run standalone</span>
docker run <span class="nt">-p</span> 3006:3006 <span class="se">\</span>
  <span class="nt">-v</span> /var/run/docker.sock:/var/run/docker.sock <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">NODE_ENV</span><span class="o">=</span>production <span class="se">\</span>
  devmentor-monitoring

<span class="c"># Run with docker-compose</span>
docker-compose up <span class="nt">-d</span> monitoring-service
</code></pre></div></div>

<h3 id="kubernetes-deployment">Kubernetes Deployment</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">monitoring-service</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">devmentor</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="m">1</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">monitoring-service</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">monitoring-service</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">monitoring</span>
        <span class="na">image</span><span class="pi">:</span> <span class="s">devmentor-monitoring:latest</span>
        <span class="na">ports</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">containerPort</span><span class="pi">:</span> <span class="m">3006</span>
        <span class="na">env</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">NODE_ENV</span>
          <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">production"</span>
        <span class="na">volumeMounts</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">dockersock</span>
          <span class="na">mountPath</span><span class="pi">:</span> <span class="s">/var/run/docker.sock</span>
      <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">dockersock</span>
        <span class="na">hostPath</span><span class="pi">:</span>
          <span class="na">path</span><span class="pi">:</span> <span class="s">/var/run/docker.sock</span>
<span class="nn">---</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">monitoring-service</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">devmentor</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> <span class="s">monitoring-service</span>
  <span class="na">ports</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">port</span><span class="pi">:</span> <span class="m">3006</span>
    <span class="na">targetPort</span><span class="pi">:</span> <span class="m">3006</span>
</code></pre></div></div>

<h2 id="configuration">Configuration</h2>

<h3 id="environment-variables">Environment Variables</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Server Configuration</span>
<span class="nv">PORT</span><span class="o">=</span>3006
<span class="nv">NODE_ENV</span><span class="o">=</span>production

<span class="c"># Frontend URL for CORS</span>
<span class="nv">FRONTEND_URL</span><span class="o">=</span>http://localhost:3001

<span class="c"># Database Configuration</span>
<span class="nv">DATABASE_URL</span><span class="o">=</span>postgresql://user:pass@localhost:5432/monitoring
<span class="nv">REDIS_URL</span><span class="o">=</span>redis://localhost:6379

<span class="c"># Monitoring Intervals (ms)</span>
<span class="nv">HEALTH_CHECK_INTERVAL</span><span class="o">=</span>10000
<span class="nv">METRICS_COLLECTION_INTERVAL</span><span class="o">=</span>5000
<span class="nv">PREDICTIVE_MAINTENANCE_INTERVAL</span><span class="o">=</span>300000

<span class="c"># Alert Configuration</span>
<span class="nv">ALERT_EMAIL_ENABLED</span><span class="o">=</span><span class="nb">true
</span><span class="nv">ALERT_SLACK_ENABLED</span><span class="o">=</span><span class="nb">true
</span><span class="nv">SLACK_WEBHOOK_URL</span><span class="o">=</span>https://hooks.slack.com/services/...

<span class="c"># AI Configuration</span>
<span class="nv">ENABLE_PREDICTIONS</span><span class="o">=</span><span class="nb">true
</span><span class="nv">PREDICTION_THRESHOLD</span><span class="o">=</span>0.8

<span class="c"># Prometheus Configuration</span>
<span class="nv">PROMETHEUS_PORT</span><span class="o">=</span>9090
<span class="nv">PROMETHEUS_SCRAPE_INTERVAL</span><span class="o">=</span>15s
</code></pre></div></div>

<h3 id="service-configuration">Service Configuration</h3>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// config/services.js</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">services</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">auth</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">port</span><span class="p">:</span> <span class="mi">3002</span><span class="p">,</span>
      <span class="na">healthEndpoint</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/health</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">timeout</span><span class="p">:</span> <span class="mi">2000</span><span class="p">,</span>
      <span class="na">retryAttempts</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
      <span class="na">criticalService</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">},</span>
    <span class="c1">// ... other services</span>
  <span class="p">},</span>
  <span class="na">thresholds</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">cpu</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span>        <span class="c1">// Alert if CPU &gt; 80%</span>
    <span class="na">memory</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span>     <span class="c1">// Alert if memory &gt; 90%</span>
    <span class="na">errorRate</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span> <span class="c1">// Alert if error rate &gt; 5%</span>
    <span class="na">responseTime</span><span class="p">:</span> <span class="mi">2000</span> <span class="c1">// Alert if response time &gt; 2s</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="troubleshooting">Troubleshooting</h2>

<h3 id="common-issues">Common Issues</h3>

<h4 id="1-cannot-connect-to-docker-socket">1. Cannot connect to Docker socket</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Fix: Ensure Docker socket is accessible</span>
<span class="nb">sudo chmod </span>666 /var/run/docker.sock
<span class="c"># Or run container with proper permissions</span>
docker run <span class="nt">--privileged</span> ...
</code></pre></div></div>

<h4 id="2-websocket-connection-fails">2. WebSocket connection fails</h4>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Check CORS configuration</span>
<span class="kd">const</span> <span class="nx">io</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Server</span><span class="p">(</span><span class="nx">server</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">cors</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">origin</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">FRONTEND_URL</span><span class="p">,</span>
    <span class="na">methods</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<h4 id="3-high-memory-usage">3. High memory usage</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Increase Node.js memory limit</span>
<span class="nv">NODE_OPTIONS</span><span class="o">=</span><span class="s2">"--max-old-space-size=4096"</span> npm start
</code></pre></div></div>

<h4 id="4-metrics-not-updating">4. Metrics not updating</h4>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Check Prometheus is running</span>
curl http://localhost:3006/metrics

<span class="c"># Verify health endpoints</span>
curl http://localhost:3002/health
</code></pre></div></div>

<h3 id="debug-mode">Debug Mode</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Enable debug logging</span>
<span class="nv">DEBUG</span><span class="o">=</span>monitoring:<span class="k">*</span> npm run dev

<span class="c"># View detailed logs</span>
<span class="nb">tail</span> <span class="nt">-f</span> logs/combined.log
<span class="nb">tail</span> <span class="nt">-f</span> logs/error.log
</code></pre></div></div>

<h3 id="performance-tuning">Performance Tuning</h3>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Adjust monitoring intervals</span>
<span class="nx">HEALTH_CHECK_INTERVAL</span><span class="o">=</span><span class="mi">30000</span>  <span class="c1">// Less frequent checks</span>
<span class="nx">METRICS_COLLECTION_INTERVAL</span><span class="o">=</span><span class="mi">10000</span>  <span class="c1">// Less frequent metrics</span>

<span class="c1">// Limit log buffer size</span>
<span class="nx">maxLogBuffer</span><span class="p">:</span> <span class="mi">100</span>  <span class="c1">// Reduce memory usage</span>

<span class="c1">// Optimize WebSocket connections</span>
<span class="nx">io</span><span class="p">.</span><span class="nx">engine</span><span class="p">.</span><span class="nx">generateId</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">uuidv4</span><span class="p">();</span> <span class="c1">// Better ID generation</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="integration-with-devmentor-ecosystem">Integration with DevMentor Ecosystem</h2>

<h3 id="service-dependencies">Service Dependencies</h3>
<ul>
  <li><strong>Auth Service</strong>: User authentication for dashboard access</li>
  <li><strong>Memory Service</strong>: Stores monitoring history and patterns</li>
  <li><strong>AI Gateway</strong>: Powers predictive analytics</li>
  <li><strong>Project Service</strong>: Monitors project-specific metrics</li>
</ul>

<h3 id="event-integration">Event Integration</h3>
<p>The monitoring service integrates with the DevMentor event system to:</p>
<ul>
  <li>Receive service lifecycle events</li>
  <li>Emit monitoring alerts</li>
  <li>Trigger automated workflows</li>
  <li>Update system status in real-time</li>
</ul>

<h3 id="data-flow">Data Flow</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Services â†’ Health Checks â†’ Monitoring Service â†’ Metrics Store
    â†“                              â†“                    â†“
 Events                      Predictions           Dashboard
    â†“                              â†“                    â†“
WebSocket                    Incidents              Alerts
</code></pre></div></div>

<h2 id="future-enhancements">Future Enhancements</h2>

<h3 id="planned-features">Planned Features</h3>
<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Distributed tracing with OpenTelemetry</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Custom alert rules engine</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Machine learning model training</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Cost monitoring and optimization</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Chaos engineering integration</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Mobile application</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Grafana dashboard templates</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />SLA monitoring and reporting</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Capacity planning recommendations</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Security vulnerability scanning</li>
</ul>

<h3 id="api-extensions">API Extensions</h3>
<ul>
  <li>GraphQL endpoint for flexible queries</li>
  <li>Batch operations for bulk updates</li>
  <li>Streaming APIs for real-time data</li>
  <li>Webhook integrations</li>
  <li>Third-party service monitoring</li>
</ul>

<h2 id="related-documentation">Related Documentation</h2>

<p>This monitoring service is part of a larger observability ecosystem. See the following documentation:</p>

<h3 id="-complete-documentation-index">ğŸ“š Complete Documentation Index</h3>
<ul>
  <li><strong><a href="./INDEX.md">INDEX.md</a></strong> - Master index of all monitoring, events, operations, and scaling documentation</li>
</ul>

<h3 id="-event-system-1">ğŸ”” Event System</h3>
<ul>
  <li><strong><a href="./events/EMITTERS.md">events/EMITTERS.md</a></strong> - Event emitters and handlers</li>
  <li><strong><a href="./events/WEBSOCKET.md">events/WEBSOCKET.md</a></strong> - WebSocket real-time events</li>
  <li><strong><a href="./events/LEARNING.md">events/LEARNING.md</a></strong> - AI learning event patterns</li>
</ul>

<h3 id="ï¸-infrastructure">â˜¸ï¸ Infrastructure</h3>
<ul>
  <li><strong><a href="./cluster/KUBERNETES_K3S_DEV_SETUP.md">cluster/KUBERNETES_K3S_DEV_SETUP.md</a></strong> - Local Kubernetes setup</li>
  <li><strong><a href="./cluster/LOCAL_K8S_FIX.md">cluster/LOCAL_K8S_FIX.md</a></strong> - Kubernetes troubleshooting</li>
</ul>

<h3 id="-operations">ğŸ”§ Operations</h3>
<ul>
  <li><strong><a href="./operations/DEVMENTOR_OPERATIONS_GUIDE.md">operations/DEVMENTOR_OPERATIONS_GUIDE.md</a></strong> - Complete operations manual</li>
  <li><strong><a href="./operations/OPS_GETTING_STARTED_GUIDE.md">operations/OPS_GETTING_STARTED_GUIDE.md</a></strong> - Quick start for operators</li>
</ul>

<h3 id="-scaling">ğŸ“ˆ Scaling</h3>
<ul>
  <li><strong><a href="./scaling/DEVMENTOR_SCALING_TO_1M.md">scaling/DEVMENTOR_SCALING_TO_1M.md</a></strong> - Scaling to 1 million users</li>
  <li><strong><a href="./scaling/HORIZONTAL_SCALING_KUBERNETES.md">scaling/HORIZONTAL_SCALING_KUBERNETES.md</a></strong> - Kubernetes auto-scaling</li>
</ul>

<h3 id="-quick-references">ğŸ” Quick References</h3>
<ul>
  <li><strong><a href="./QUICK_REFERENCE.md">QUICK_REFERENCE.md</a></strong> - Quick commands and API reference</li>
  <li><strong><a href="./OBSERVABILITY_INTEGRATION.md">OBSERVABILITY_INTEGRATION.md</a></strong> - Integration details</li>
</ul>

<h2 id="contributing">Contributing</h2>

<p>See <a href="../../CONTRIBUTING.md">CONTRIBUTING.md</a> for guidelines on contributing to the monitoring service.</p>

<h2 id="license">License</h2>

<p>MIT License - See <a href="../../LICENSE">LICENSE</a> for details.</p>

<hr />

<p><strong>Last Updated</strong>: January 19, 2024
<strong>Version</strong>: 1.0.0
<strong>Status</strong>: Production Ready
<strong>Documentation Hub</strong>: See <a href="./INDEX.md">INDEX.md</a> for complete documentation structure</p>



<div style="margin-top: 3rem; padding: 1rem; background: #f6f8fa; border-radius: 5px;">
  <p style="margin: 0; color: #666; font-size: 0.9em;">
    ğŸ“ Source: DevMentor / infrastructure/services/monitoring-service/README.md
  </p>
</div>

  </main>

  <footer>
    <p>&copy; 2024 NatureQuest. Documentation Hub v1.0.0</p>
  </footer>

  <script>
    (function() {
      const html = document.documentElement;
      const buttons = [];
      function setActive(theme) {
        buttons.forEach(b => {
          const active = b.dataset.theme === theme;
          b.classList.toggle('active', active);
          b.setAttribute('aria-pressed', active ? 'true' : 'false');
        });
      }
      function applyTheme(theme) {
        if (theme === 'auto') {
          html.removeAttribute('data-theme');
          localStorage.removeItem('theme');
        } else {
          html.setAttribute('data-theme', theme);
          localStorage.setItem('theme', theme);
        }
        setActive(theme);
      }
      document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('.theme-btn').forEach(btn => {
          buttons.push(btn);
          btn.addEventListener('click', () => applyTheme(btn.dataset.theme));
        });
        const saved = localStorage.getItem('theme');
        if (saved === 'light' || saved === 'dark') {
          applyTheme(saved);
        } else {
          applyTheme('auto');
        }
      });
    })();
  </script>
</body>
</html>

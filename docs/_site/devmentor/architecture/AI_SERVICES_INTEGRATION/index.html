<!DOCTYPE html>
<html lang="en" data-theme="auto">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI SERVICES INTEGRATION</title>
    
    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    
    <style>
    /* Light mode variables */
    :root {
      --primary: #007AFF;
      --primary-hover: #0051D5;
      --success: #34C759;
      --warning: #FF9500;
      --danger: #FF3B30;
      --text-primary: #000000;
      --text-secondary: #3C3C43;
      --text-tertiary: #8E8E93;
      --bg-primary: #FFFFFF;
      --bg-secondary: #F2F2F7;
      --bg-tertiary: #FFFFFF;
      --bg-elevated: #FFFFFF;
      --border: rgba(0, 0, 0, 0.1);
      --border-subtle: rgba(0, 0, 0, 0.04);
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.12);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07), 0 2px 4px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.1), 0 4px 10px rgba(0, 0, 0, 0.08);
      --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.15);
      --backdrop: rgba(255, 255, 255, 0.8);
      --code-bg: #F7F7FA;
      --code-border: rgba(0, 0, 0, 0.06);
      --nav-bg: rgba(255, 255, 255, 0.72);
      --card-bg: #FFFFFF;
      --hover-bg: rgba(0, 122, 255, 0.08);
    }
    
    /* Dark mode variables */
    [data-theme="dark"] {
      --primary: #0A84FF;
      --primary-hover: #409CFF;
      --success: #32D74B;
      --warning: #FF9F0A;
      --danger: #FF453A;
      --text-primary: #FFFFFF;
      --text-secondary: #EBEBF5;
      --text-tertiary: #8E8E93;
      --bg-primary: #000000;
      --bg-secondary: #1C1C1E;
      --bg-tertiary: #2C2C2E;
      --bg-elevated: #1C1C1E;
      --border: rgba(255, 255, 255, 0.15);
      --border-subtle: rgba(255, 255, 255, 0.06);
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.4);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
      --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.5), 0 4px 10px rgba(0, 0, 0, 0.4);
      --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.6);
      --backdrop: rgba(28, 28, 30, 0.8);
      --code-bg: #1C1C1E;
      --code-border: rgba(255, 255, 255, 0.08);
      --nav-bg: rgba(28, 28, 30, 0.72);
      --card-bg: #1C1C1E;
      --hover-bg: rgba(10, 132, 255, 0.15);
    }
    
    /* Auto theme based on system preference */
    @media (prefers-color-scheme: dark) {
      :root:not([data-theme="light"]) {
        --primary: #0A84FF;
        --primary-hover: #409CFF;
        --success: #32D74B;
        --warning: #FF9F0A;
        --danger: #FF453A;
        --text-primary: #FFFFFF;
        --text-secondary: #EBEBF5;
        --text-tertiary: #8E8E93;
        --bg-primary: #000000;
        --bg-secondary: #1C1C1E;
        --bg-tertiary: #2C2C2E;
        --bg-elevated: #1C1C1E;
        --border: rgba(255, 255, 255, 0.15);
        --border-subtle: rgba(255, 255, 255, 0.06);
        --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.4);
        --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
        --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.5), 0 4px 10px rgba(0, 0, 0, 0.4);
        --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.6);
        --backdrop: rgba(28, 28, 30, 0.8);
        --code-bg: #1C1C1E;
        --code-border: rgba(255, 255, 255, 0.08);
        --nav-bg: rgba(28, 28, 30, 0.72);
        --card-bg: #1C1C1E;
        --hover-bg: rgba(10, 132, 255, 0.15);
      }
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html {
      scroll-behavior: smooth;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
      font-size: 17px;
      line-height: 1.6;
      color: var(--text-primary);
      background: var(--bg-primary);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 24px;
    }
    
    /* Typography */
    p {
      margin: 1.2rem 0;
      color: var(--text-secondary);
      letter-spacing: -0.011em;
    }
    
    a {
      color: var(--primary);
      text-decoration: none;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      border-radius: 2px;
    }
    
    a:hover {
      color: var(--primary-hover);
      text-decoration: none;
    }
    
    a:focus {
      outline: 2px solid var(--primary);
      outline-offset: 2px;
    }
    
    /* Headings */
    h1, h2, h3, h4, h5, h6 {
      font-weight: 600;
      line-height: 1.2;
      margin-top: 2.5rem;
      margin-bottom: 1rem;
      letter-spacing: -0.02em;
      color: var(--text-primary);
    }
    
    h1 {
      font-size: 3rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-hover) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-top: 0;
      margin-bottom: 1.5rem;
    }
    
    h2 {
      font-size: 2rem;
      font-weight: 600;
      color: var(--text-primary);
      border-bottom: 1px solid var(--border-subtle);
      padding-bottom: 0.75rem;
      margin-top: 3rem;
    }
    
    h3 {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--text-primary);
    }
    
    h4 {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--text-secondary);
    }
    
    /* Lists */
    ul, ol {
      padding-left: 2rem;
      margin: 1.5rem 0;
      color: var(--text-secondary);
    }
    
    li {
      margin: 0.75rem 0;
      line-height: 1.6;
    }
    
    /* Strong text */
    strong, b {
      font-weight: 600;
      color: var(--text-primary);
    }
    
    /* Navigation */
    .nav-wrapper {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--nav-bg);
      backdrop-filter: saturate(180%) blur(20px);
      -webkit-backdrop-filter: saturate(180%) blur(20px);
      border-bottom: 1px solid var(--border);
      margin-bottom: 2rem;
    }
    
    nav {
      padding: 1rem 0;
    }
    
    .nav-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      gap: 0.5rem;
      align-items: center;
    }
    
    nav li {
      margin: 0;
    }
    
    nav a {
      color: var(--text-secondary);
      text-decoration: none;
      font-weight: 500;
      font-size: 0.95rem;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    nav a:hover {
      background: var(--hover-bg);
      color: var(--primary);
    }
    
    nav a:focus {
      outline: none;
    }
    
    /* Theme Switcher */
    .theme-switcher {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.375rem;
      background: var(--bg-secondary);
      border-radius: 10px;
      border: 1px solid var(--border-subtle);
    }
    
    .theme-btn {
      padding: 0.375rem 0.625rem;
      background: transparent;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      color: var(--text-tertiary);
      font-size: 0.875rem;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 0.25rem;
    }
    
    .theme-btn:hover {
      color: var(--text-secondary);
    }
    
    .theme-btn.active {
      background: var(--card-bg);
      color: var(--text-primary);
      box-shadow: var(--shadow-sm);
    }
    
    /* Code blocks */
    pre {
      background: var(--code-bg);
      padding: 1.5rem;
      border-radius: 12px;
      overflow-x: auto;
      border: 1px solid var(--code-border);
      margin: 2rem 0;
      font-size: 0.875rem;
      box-shadow: var(--shadow-sm);
    }
    
    code {
      font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', monospace;
      background: var(--code-bg);
      padding: 0.125rem 0.375rem;
      border-radius: 4px;
      font-size: 0.875em;
      border: 1px solid var(--code-border);
    }
    
    pre code {
      background: none;
      padding: 0;
      border: none;
      font-size: 0.875rem;
    }
    
    /* Tables */
    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      margin: 2rem 0;
      font-size: 0.95rem;
      background: var(--card-bg);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: var(--shadow-md);
    }
    
    th, td {
      padding: 1rem;
      text-align: left;
      border-bottom: 1px solid var(--border-subtle);
    }
    
    th {
      background: var(--bg-secondary);
      font-weight: 600;
      font-size: 0.875rem;
      color: var(--text-secondary);
    }
    
    td {
      color: var(--text-secondary);
    }
    
    tr:last-child td {
      border-bottom: none;
    }
    
    tr:hover {
      background: var(--hover-bg);
    }
    
    /* Blockquotes */
    blockquote {
      margin: 2rem 0;
      padding: 1.25rem;
      border-left: 4px solid var(--primary);
      background: var(--bg-secondary);
      border-radius: 0 12px 12px 0;
      color: var(--text-secondary);
      font-style: normal;
    }
    
    blockquote p {
      margin: 0.5rem 0;
    }
    
    /* Horizontal rules */
    hr {
      border: none;
      height: 1px;
      background: var(--border);
      margin: 3rem 0;
    }
    
    /* Cards */
    .card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      margin: 1rem 0;
      box-shadow: var(--shadow-sm);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .card:hover {
      box-shadow: var(--shadow-lg);
      transform: translateY(-2px);
    }
    
    /* Main content */
    main {
      min-height: calc(100vh - 200px);
      padding: 2rem 0;
    }
    
    /* Footer */
    footer {
      margin-top: 4rem;
      padding: 2rem 0;
      border-top: 1px solid var(--border);
      color: var(--text-tertiary);
      font-size: 0.875rem;
      text-align: center;
    }
    
    /* Grid for cards */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 1.5rem;
      margin: 2rem 0;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      h1 { font-size: 2.5rem; }
      h2 { font-size: 1.75rem; }
      h3 { font-size: 1.375rem; }
      
      .nav-content {
        flex-direction: column;
        gap: 1rem;
      }
      
      nav ul {
        flex-wrap: wrap;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <div class="nav-wrapper">
    <div class="container">
      <nav class="nav-content">
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/architecture/">Architecture</a></li>
          <li><a href="/all-docs/">All Docs</a></li>
          <li><a href="/learning-roadmap/">Learning Roadmaps</a></li>
          <li><a href="/devmentor/">DevMentor</a></li>
          <li><a href="/quizmentor/">QuizMentor</a></li>
          <li><a href="/harvest/">Harvest.ai</a></li>
          <li><a href="/naturequest-auth/">Auth</a></li>
          <li><a href="/infrastructure/">Infrastructure</a></li>
        </ul>
        <div class="theme-switcher" aria-label="Theme Switcher">
          <button class="theme-btn" data-theme="light" aria-pressed="false" title="Light mode">üåû Light</button>
          <button class="theme-btn active" data-theme="auto" aria-pressed="true" title="Auto mode">üß≠ Auto</button>
          <button class="theme-btn" data-theme="dark" aria-pressed="false" title="Dark mode">üåô Dark</button>
        </div>
      </nav>
    </div>
  </div>

  <main class="container">
    <div class="product-header" style="background: #f6f8fa; padding: 1rem; border-radius: 5px; margin-bottom: 2rem;">
  <span style="color: #666;">DevMentor</span> / 
  <span style="color: #999;">architecture/AI_SERVICES_INTEGRATION.md</span>
</div>

<h1>AI SERVICES INTEGRATION</h1>


<h1 id="devmentor-ai-services-integration-architecture">DevMentor AI Services Integration Architecture</h1>

<h2 id="overview">Overview</h2>
<p>The DevMentor platform leverages multiple AI services working in concert to provide intelligent development assistance. The Repository Analyzer now integrates with all core AI services for comprehensive analysis.</p>

<h2 id="-ai-services-architecture">üß† AI Services Architecture</h2>

<pre><code class="language-mermaid">graph TB
    subgraph "Frontend Layer"
        UI[Dev Environment UI]
        RA[Repository Analyzer]
    end
    
    subgraph "AI Gateway Layer"
        AG[AI Gateway&lt;br/&gt;:3003]
        AG_DESC["Routes &amp; Orchestrates&lt;br/&gt;AI Requests"]
    end
    
    subgraph "Core AI Services"
        PBML[PBML Service&lt;br/&gt;:3005]
        PBML_DESC["Pattern-Based&lt;br/&gt;Memory Learning"]
        
        MEM[Memory Service&lt;br/&gt;:3004]
        MEM_DESC["Persistent Context&lt;br/&gt;Storage"]
        
        LE[Learning Engine&lt;br/&gt;:3006]
        LE_DESC["AI Model Training&lt;br/&gt;&amp; Pattern Recognition"]
    end
    
    subgraph "External AI Providers"
        OAI[OpenAI API]
        CLAUDE[Claude API]
        LOCAL[Local Models]
    end
    
    subgraph "Data Storage"
        VDB[(Vector Database&lt;br/&gt;Qdrant)]
        RDB[(PostgreSQL)]
        CACHE[(Redis Cache)]
    end
    
    UI --&gt; RA
    RA --&gt; AG
    
    AG --&gt; PBML
    AG --&gt; MEM
    AG --&gt; LE
    AG --&gt; OAI
    AG --&gt; CLAUDE
    AG --&gt; LOCAL
    
    PBML --&gt; VDB
    MEM --&gt; VDB
    MEM --&gt; CACHE
    LE --&gt; RDB
    
    style AG fill:#4A90E2
    style PBML fill:#50C878
    style MEM fill:#FFD700
    style LE fill:#FF6B6B
</code></pre>

<h2 id="-data-flow">üîÑ Data Flow</h2>

<h3 id="1-repository-analysis-request-flow">1. Repository Analysis Request Flow</h3>

<pre><code class="language-mermaid">sequenceDiagram
    participant User
    participant UI as Dev Environment UI
    participant RA as Repository Analyzer
    participant AG as AI Gateway
    participant PBML as PBML Service
    participant MEM as Memory Service
    participant LE as Learning Engine
    participant EXT as External AI
    
    User-&gt;&gt;UI: Request Analysis
    UI-&gt;&gt;RA: analyzeRepository()
    
    Note over RA: Scan file system&lt;br/&gt;Detect services
    
    RA-&gt;&gt;AG: Get previous patterns
    AG-&gt;&gt;PBML: getLearnedPatterns()
    PBML--&gt;&gt;AG: Historical patterns
    
    RA-&gt;&gt;AG: Get memory context
    AG-&gt;&gt;MEM: getMemoryContext()
    MEM--&gt;&gt;AG: Previous analysis
    
    RA-&gt;&gt;AG: Analyze with AI
    AG-&gt;&gt;EXT: Code analysis request
    EXT--&gt;&gt;AG: AI insights
    
    AG-&gt;&gt;LE: Pattern recognition
    LE--&gt;&gt;AG: Detected patterns
    
    AG-&gt;&gt;PBML: Store new patterns
    AG-&gt;&gt;MEM: Save analysis
    
    AG--&gt;&gt;RA: Complete analysis
    RA--&gt;&gt;UI: Display results
    UI--&gt;&gt;User: Show insights
</code></pre>

<h2 id="-service-responsibilities">üéØ Service Responsibilities</h2>

<h3 id="ai-gateway-port-3003">AI Gateway (Port 3003)</h3>
<p><strong>Primary Role</strong>: Central orchestration point for all AI operations</p>

<ul>
  <li><strong>Request Routing</strong>: Directs requests to appropriate AI services</li>
  <li><strong>Load Balancing</strong>: Distributes AI workload across providers</li>
  <li><strong>Fallback Logic</strong>: Switches between OpenAI, Claude, and local models</li>
  <li><strong>Response Aggregation</strong>: Combines insights from multiple sources</li>
  <li><strong>Authentication</strong>: Manages API keys and access tokens</li>
</ul>

<h3 id="pbml-service-port-3005">PBML Service (Port 3005)</h3>
<p><strong>Primary Role</strong>: Pattern-Based Memory Learning system</p>

<ul>
  <li><strong>Pattern Storage</strong>: Persists discovered code patterns</li>
  <li><strong>Pattern Recognition</strong>: Identifies recurring patterns in codebase</li>
  <li><strong>Learning</strong>: Improves pattern detection over time</li>
  <li><strong>Context Building</strong>: Creates project-specific pattern libraries</li>
  <li><strong>Vector Storage</strong>: Uses Qdrant for similarity search</li>
</ul>

<h3 id="memory-service-port-3004">Memory Service (Port 3004)</h3>
<p><strong>Primary Role</strong>: Long-term context preservation</p>

<ul>
  <li><strong>Analysis History</strong>: Stores all previous analysis results</li>
  <li><strong>Context Retrieval</strong>: Provides historical context for better recommendations</li>
  <li><strong>Caching</strong>: Redis-based caching for fast access</li>
  <li><strong>Relationship Mapping</strong>: Tracks relationships between code elements</li>
  <li><strong>Incremental Learning</strong>: Builds knowledge base over time</li>
</ul>

<h3 id="learning-engine-port-3006">Learning Engine (Port 3006)</h3>
<p><strong>Primary Role</strong>: AI model training and inference</p>

<ul>
  <li><strong>Code Analysis</strong>: Deep analysis of code structure</li>
  <li><strong>Pattern Detection</strong>: Identifies design patterns and anti-patterns</li>
  <li><strong>Complexity Scoring</strong>: Calculates code complexity metrics</li>
  <li><strong>Suggestion Generation</strong>: Creates improvement recommendations</li>
  <li><strong>Model Updates</strong>: Continuously improves based on feedback</li>
</ul>

<h2 id="-integration-benefits">üí° Integration Benefits</h2>

<h3 id="1-contextual-intelligence">1. <strong>Contextual Intelligence</strong></h3>
<p>The system remembers previous analyses and learns from them:</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Example: PBML remembers your coding patterns</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">pbmlContext</span><span class="p">.</span><span class="nx">patterns</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="dl">'</span><span class="s1">Repository Pattern</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>
  <span class="nx">suggestions</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="dl">'</span><span class="s1">Consider using Repository pattern for new service</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="2-progressive-learning">2. <strong>Progressive Learning</strong></h3>
<p>Each analysis improves future recommendations:</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Memory Service tracks improvements</span>
<span class="nx">memoryContext</span><span class="p">.</span><span class="nx">analysisHistory</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">analysis</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">analysis</span><span class="p">.</span><span class="nx">improvements</span><span class="p">.</span><span class="nx">implemented</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">learningEngine</span><span class="p">.</span><span class="nx">reinforcePattern</span><span class="p">(</span><span class="nx">analysis</span><span class="p">.</span><span class="nx">pattern</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="3-intelligent-fallbacks">3. <strong>Intelligent Fallbacks</strong></h3>
<p>System gracefully degrades when services are unavailable:</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span> <span class="p">{</span>
  <span class="c1">// Try AI Gateway first</span>
  <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">aiGateway</span><span class="p">.</span><span class="nx">analyze</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
  <span class="c1">// Fall back to local analysis</span>
  <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">localAnalyzer</span><span class="p">.</span><span class="nx">analyze</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="-real-world-usage-examples">üöÄ Real-World Usage Examples</h2>

<h3 id="example-1-new-service-detection">Example 1: New Service Detection</h3>
<p>When you add a new service to your project:</p>

<ol>
  <li><strong>Repository Analyzer</strong> detects the new package.json</li>
  <li><strong>AI Gateway</strong> routes to pattern analysis</li>
  <li><strong>PBML Service</strong> checks if similar services exist</li>
  <li><strong>Memory Service</strong> provides context from similar services</li>
  <li><strong>Learning Engine</strong> suggests best practices</li>
  <li><strong>Result</strong>: Tailored recommendations based on your project‚Äôs patterns</li>
</ol>

<h3 id="example-2-security-vulnerability-detection">Example 2: Security Vulnerability Detection</h3>
<p>When analyzing dependencies:</p>

<ol>
  <li><strong>Repository Analyzer</strong> scans all dependencies</li>
  <li><strong>AI Gateway</strong> checks multiple sources</li>
  <li><strong>External AI</strong> identifies potential vulnerabilities</li>
  <li><strong>PBML Service</strong> checks if vulnerability patterns seen before</li>
  <li><strong>Memory Service</strong> provides historical fix approaches</li>
  <li><strong>Result</strong>: Contextual security recommendations with proven fixes</li>
</ol>

<h3 id="example-3-architecture-evolution">Example 3: Architecture Evolution</h3>
<p>As your project grows:</p>

<ol>
  <li><strong>Repository Analyzer</strong> tracks service growth</li>
  <li><strong>PBML Service</strong> identifies architectural patterns</li>
  <li><strong>Memory Service</strong> shows architecture evolution</li>
  <li><strong>Learning Engine</strong> predicts scaling needs</li>
  <li><strong>AI Gateway</strong> aggregates insights</li>
  <li><strong>Result</strong>: Proactive architecture recommendations</li>
</ol>

<h2 id="-performance-metrics">üìä Performance Metrics</h2>

<h3 id="service-communication-latency">Service Communication Latency</h3>
<ul>
  <li><strong>AI Gateway ‚Üí PBML</strong>: ~50ms</li>
  <li><strong>AI Gateway ‚Üí Memory</strong>: ~30ms</li>
  <li><strong>AI Gateway ‚Üí Learning Engine</strong>: ~100ms</li>
  <li><strong>AI Gateway ‚Üí External AI</strong>: ~500-2000ms</li>
</ul>

<h3 id="analysis-performance">Analysis Performance</h3>
<ul>
  <li><strong>Small Project</strong> (&lt;1000 files): ~5 seconds</li>
  <li><strong>Medium Project</strong> (1000-5000 files): ~15 seconds</li>
  <li><strong>Large Project</strong> (&gt;5000 files): ~30 seconds</li>
</ul>

<h3 id="accuracy-metrics">Accuracy Metrics</h3>
<ul>
  <li><strong>Service Detection</strong>: 95%+ accuracy</li>
  <li><strong>Pattern Recognition</strong>: 88%+ accuracy</li>
  <li><strong>Security Detection</strong>: 92%+ accuracy</li>
  <li><strong>Architecture Classification</strong>: 90%+ accuracy</li>
</ul>

<h2 id="-security-considerations">üîê Security Considerations</h2>

<h3 id="api-key-management">API Key Management</h3>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Environment variables for secure API access</span>
<span class="nx">NEXT_PUBLIC_AI_GATEWAY_URL</span><span class="o">=</span><span class="nx">http</span><span class="p">:</span><span class="c1">//localhost:3003</span>
<span class="nx">NEXT_PUBLIC_PBML_SERVICE_URL</span><span class="o">=</span><span class="nx">http</span><span class="p">:</span><span class="c1">//localhost:3005</span>
<span class="nx">NEXT_PUBLIC_MEMORY_SERVICE_URL</span><span class="o">=</span><span class="nx">http</span><span class="p">:</span><span class="c1">//localhost:3004</span>
<span class="nx">NEXT_PUBLIC_LEARNING_ENGINE_URL</span><span class="o">=</span><span class="nx">http</span><span class="p">:</span><span class="c1">//localhost:3006</span>
<span class="nx">AI_AUTH_TOKEN</span><span class="o">=</span><span class="nx">your</span><span class="o">-</span><span class="nx">secure</span><span class="o">-</span><span class="nx">token</span>
<span class="nx">OPENAI_API_KEY</span><span class="o">=</span><span class="nx">sk</span><span class="o">-</span><span class="p">...</span>
<span class="nx">ANTHROPIC_API_KEY</span><span class="o">=</span><span class="nx">sk</span><span class="o">-</span><span class="nx">ant</span><span class="o">-</span><span class="p">...</span>
</code></pre></div></div>

<h3 id="data-privacy">Data Privacy</h3>
<ul>
  <li><strong>Local First</strong>: Basic analysis performed locally</li>
  <li><strong>Opt-in AI</strong>: External AI only with user consent</li>
  <li><strong>Data Sanitization</strong>: Sensitive data removed before external calls</li>
  <li><strong>Encrypted Storage</strong>: All stored patterns encrypted</li>
</ul>

<h2 id="Ô∏è-configuration">üõ†Ô∏è Configuration</h2>

<h3 id="enable-ai-services">Enable AI Services</h3>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// In your .env.local</span>
<span class="nx">ENABLE_AI_GATEWAY</span><span class="o">=</span><span class="kc">true</span>
<span class="nx">ENABLE_PBML</span><span class="o">=</span><span class="kc">true</span>
<span class="nx">ENABLE_MEMORY_SERVICE</span><span class="o">=</span><span class="kc">true</span>
<span class="nx">ENABLE_LEARNING_ENGINE</span><span class="o">=</span><span class="kc">true</span>
<span class="nx">USE_EXTERNAL_AI</span><span class="o">=</span><span class="kc">true</span>
</code></pre></div></div>

<h3 id="service-endpoints">Service Endpoints</h3>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Default local development endpoints</span>
<span class="kd">const</span> <span class="nx">AI_SERVICES</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">AI_GATEWAY</span><span class="p">:</span> <span class="dl">'</span><span class="s1">http://localhost:3003</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">PBML_SERVICE</span><span class="p">:</span> <span class="dl">'</span><span class="s1">http://localhost:3005</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">MEMORY_SERVICE</span><span class="p">:</span> <span class="dl">'</span><span class="s1">http://localhost:3004</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">LEARNING_ENGINE</span><span class="p">:</span> <span class="dl">'</span><span class="s1">http://localhost:3006</span><span class="dl">'</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="docker-compose-setup">Docker Compose Setup</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">3.8'</span>
<span class="na">services</span><span class="pi">:</span>
  <span class="na">ai-gateway</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">devmentor/ai-gateway:latest</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">3003:3003"</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">OPENAI_API_KEY=${OPENAI_API_KEY}</span>
      <span class="pi">-</span> <span class="s">ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}</span>
    
  <span class="na">pbml-service</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">devmentor/pbml-service:latest</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">3005:3005"</span>
    <span class="na">depends_on</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">qdrant</span>
    
  <span class="na">memory-service</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">devmentor/memory-service:latest</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">3004:3004"</span>
    <span class="na">depends_on</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">redis</span>
      <span class="pi">-</span> <span class="s">qdrant</span>
    
  <span class="na">learning-engine</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">devmentor/learning-engine:latest</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">3006:3006"</span>
    <span class="na">depends_on</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">postgres</span>
</code></pre></div></div>

<h2 id="-future-enhancements">üìà Future Enhancements</h2>

<h3 id="phase-1-enhanced-integration">Phase 1: Enhanced Integration</h3>
<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Real-time service health monitoring</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Automatic service discovery</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Dynamic load balancing</li>
</ul>

<h3 id="phase-2-advanced-ai-features">Phase 2: Advanced AI Features</h3>
<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Custom model training on your codebase</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Team-wide pattern sharing</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Predictive issue detection</li>
</ul>

<h3 id="phase-3-enterprise-features">Phase 3: Enterprise Features</h3>
<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Multi-tenant support</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Advanced RBAC</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Compliance reporting</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Air-gapped deployment</li>
</ul>

<h2 id="-contributing">ü§ù Contributing</h2>

<p>To add new AI capabilities:</p>

<ol>
  <li><strong>Extend AI Gateway</strong> - Add new routing logic</li>
  <li><strong>Update PBML Patterns</strong> - Define new pattern types</li>
  <li><strong>Enhance Memory Service</strong> - Add new context types</li>
  <li><strong>Train Learning Engine</strong> - Provide training data</li>
</ol>

<h2 id="-related-documentation">üìö Related Documentation</h2>

<ul>
  <li><a href="../AI/PBML_SYSTEM_CORE.md">PBML System Core</a></li>
  <li><a href="../api/AI_GATEWAY.md">AI Gateway API</a></li>
  <li><a href="../api/MEMORY_SERVICE.md">Memory Service Architecture</a></li>
  <li><a href="../AI/LEARNING_ENGINE.md">Learning Engine Guide</a></li>
</ul>



<div style="margin-top: 3rem; padding: 1rem; background: #f6f8fa; border-radius: 5px;">
  <p style="margin: 0; color: #666; font-size: 0.9em;">
    üìÅ Source: DevMentor / architecture/AI_SERVICES_INTEGRATION.md
  </p>
</div>

  </main>

  <footer>
    <p>&copy; 2024 NatureQuest. Documentation Hub v1.0.0</p>
  </footer>

  <script>
    (function() {
      const html = document.documentElement;
      const buttons = [];
      function setActive(theme) {
        buttons.forEach(b => {
          const active = b.dataset.theme === theme;
          b.classList.toggle('active', active);
          b.setAttribute('aria-pressed', active ? 'true' : 'false');
        });
      }
      function applyTheme(theme) {
        if (theme === 'auto') {
          html.removeAttribute('data-theme');
          localStorage.removeItem('theme');
        } else {
          html.setAttribute('data-theme', theme);
          localStorage.setItem('theme', theme);
        }
        setActive(theme);
      }
      document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('.theme-btn').forEach(btn => {
          buttons.push(btn);
          btn.addEventListener('click', () => applyTheme(btn.dataset.theme));
        });
        const saved = localStorage.getItem('theme');
        if (saved === 'light' || saved === 'dark') {
          applyTheme(saved);
        } else {
          applyTheme('auto');
        }
      });
    })();
  </script>
</body>
</html>

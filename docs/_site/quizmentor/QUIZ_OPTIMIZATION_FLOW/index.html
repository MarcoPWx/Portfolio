<!DOCTYPE html>
<html lang="en" data-theme="auto">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QUIZ OPTIMIZATION FLOW</title>
    
    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    
    <style>
    /* Light mode variables */
    :root {
      --primary: #007AFF;
      --primary-hover: #0051D5;
      --success: #34C759;
      --warning: #FF9500;
      --danger: #FF3B30;
      --text-primary: #000000;
      --text-secondary: #3C3C43;
      --text-tertiary: #8E8E93;
      --bg-primary: #FFFFFF;
      --bg-secondary: #F2F2F7;
      --bg-tertiary: #FFFFFF;
      --bg-elevated: #FFFFFF;
      --border: rgba(0, 0, 0, 0.1);
      --border-subtle: rgba(0, 0, 0, 0.04);
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.12);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07), 0 2px 4px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.1), 0 4px 10px rgba(0, 0, 0, 0.08);
      --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.15);
      --backdrop: rgba(255, 255, 255, 0.8);
      --code-bg: #F7F7FA;
      --code-border: rgba(0, 0, 0, 0.06);
      --nav-bg: rgba(255, 255, 255, 0.72);
      --card-bg: #FFFFFF;
      --hover-bg: rgba(0, 122, 255, 0.08);
    }
    
    /* Dark mode variables */
    [data-theme="dark"] {
      --primary: #0A84FF;
      --primary-hover: #409CFF;
      --success: #32D74B;
      --warning: #FF9F0A;
      --danger: #FF453A;
      --text-primary: #FFFFFF;
      --text-secondary: #EBEBF5;
      --text-tertiary: #8E8E93;
      --bg-primary: #000000;
      --bg-secondary: #1C1C1E;
      --bg-tertiary: #2C2C2E;
      --bg-elevated: #1C1C1E;
      --border: rgba(255, 255, 255, 0.15);
      --border-subtle: rgba(255, 255, 255, 0.06);
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.4);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
      --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.5), 0 4px 10px rgba(0, 0, 0, 0.4);
      --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.6);
      --backdrop: rgba(28, 28, 30, 0.8);
      --code-bg: #1C1C1E;
      --code-border: rgba(255, 255, 255, 0.08);
      --nav-bg: rgba(28, 28, 30, 0.72);
      --card-bg: #1C1C1E;
      --hover-bg: rgba(10, 132, 255, 0.15);
    }
    
    /* Auto theme based on system preference */
    @media (prefers-color-scheme: dark) {
      :root:not([data-theme="light"]) {
        --primary: #0A84FF;
        --primary-hover: #409CFF;
        --success: #32D74B;
        --warning: #FF9F0A;
        --danger: #FF453A;
        --text-primary: #FFFFFF;
        --text-secondary: #EBEBF5;
        --text-tertiary: #8E8E93;
        --bg-primary: #000000;
        --bg-secondary: #1C1C1E;
        --bg-tertiary: #2C2C2E;
        --bg-elevated: #1C1C1E;
        --border: rgba(255, 255, 255, 0.15);
        --border-subtle: rgba(255, 255, 255, 0.06);
        --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.4);
        --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
        --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.5), 0 4px 10px rgba(0, 0, 0, 0.4);
        --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.6);
        --backdrop: rgba(28, 28, 30, 0.8);
        --code-bg: #1C1C1E;
        --code-border: rgba(255, 255, 255, 0.08);
        --nav-bg: rgba(28, 28, 30, 0.72);
        --card-bg: #1C1C1E;
        --hover-bg: rgba(10, 132, 255, 0.15);
      }
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html {
      scroll-behavior: smooth;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
      font-size: 17px;
      line-height: 1.6;
      color: var(--text-primary);
      background: var(--bg-primary);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 24px;
    }
    
    /* Typography */
    p {
      margin: 1.2rem 0;
      color: var(--text-secondary);
      letter-spacing: -0.011em;
    }
    
    a {
      color: var(--primary);
      text-decoration: none;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      border-radius: 2px;
    }
    
    a:hover {
      color: var(--primary-hover);
      text-decoration: none;
    }
    
    a:focus {
      outline: 2px solid var(--primary);
      outline-offset: 2px;
    }
    
    /* Headings */
    h1, h2, h3, h4, h5, h6 {
      font-weight: 600;
      line-height: 1.2;
      margin-top: 2.5rem;
      margin-bottom: 1rem;
      letter-spacing: -0.02em;
      color: var(--text-primary);
    }
    
    h1 {
      font-size: 3rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-hover) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-top: 0;
      margin-bottom: 1.5rem;
    }
    
    h2 {
      font-size: 2rem;
      font-weight: 600;
      color: var(--text-primary);
      border-bottom: 1px solid var(--border-subtle);
      padding-bottom: 0.75rem;
      margin-top: 3rem;
    }
    
    h3 {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--text-primary);
    }
    
    h4 {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--text-secondary);
    }
    
    /* Lists */
    ul, ol {
      padding-left: 2rem;
      margin: 1.5rem 0;
      color: var(--text-secondary);
    }
    
    li {
      margin: 0.75rem 0;
      line-height: 1.6;
    }
    
    /* Strong text */
    strong, b {
      font-weight: 600;
      color: var(--text-primary);
    }
    
    /* Navigation */
    .nav-wrapper {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--nav-bg);
      backdrop-filter: saturate(180%) blur(20px);
      -webkit-backdrop-filter: saturate(180%) blur(20px);
      border-bottom: 1px solid var(--border);
      margin-bottom: 2rem;
    }
    
    nav {
      padding: 1rem 0;
    }
    
    .nav-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      gap: 0.5rem;
      align-items: center;
    }
    
    nav li {
      margin: 0;
    }
    
    nav a {
      color: var(--text-secondary);
      text-decoration: none;
      font-weight: 500;
      font-size: 0.95rem;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    nav a:hover {
      background: var(--hover-bg);
      color: var(--primary);
    }
    
    nav a:focus {
      outline: none;
    }
    
    /* Theme Switcher */
    .theme-switcher {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.375rem;
      background: var(--bg-secondary);
      border-radius: 10px;
      border: 1px solid var(--border-subtle);
    }
    
    .theme-btn {
      padding: 0.375rem 0.625rem;
      background: transparent;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      color: var(--text-tertiary);
      font-size: 0.875rem;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 0.25rem;
    }
    
    .theme-btn:hover {
      color: var(--text-secondary);
    }
    
    .theme-btn.active {
      background: var(--card-bg);
      color: var(--text-primary);
      box-shadow: var(--shadow-sm);
    }
    
    /* Code blocks */
    pre {
      background: var(--code-bg);
      padding: 1.5rem;
      border-radius: 12px;
      overflow-x: auto;
      border: 1px solid var(--code-border);
      margin: 2rem 0;
      font-size: 0.875rem;
      box-shadow: var(--shadow-sm);
    }
    
    code {
      font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', monospace;
      background: var(--code-bg);
      padding: 0.125rem 0.375rem;
      border-radius: 4px;
      font-size: 0.875em;
      border: 1px solid var(--code-border);
    }
    
    pre code {
      background: none;
      padding: 0;
      border: none;
      font-size: 0.875rem;
    }
    
    /* Tables */
    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      margin: 2rem 0;
      font-size: 0.95rem;
      background: var(--card-bg);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: var(--shadow-md);
    }
    
    th, td {
      padding: 1rem;
      text-align: left;
      border-bottom: 1px solid var(--border-subtle);
    }
    
    th {
      background: var(--bg-secondary);
      font-weight: 600;
      font-size: 0.875rem;
      color: var(--text-secondary);
    }
    
    td {
      color: var(--text-secondary);
    }
    
    tr:last-child td {
      border-bottom: none;
    }
    
    tr:hover {
      background: var(--hover-bg);
    }
    
    /* Blockquotes */
    blockquote {
      margin: 2rem 0;
      padding: 1.25rem;
      border-left: 4px solid var(--primary);
      background: var(--bg-secondary);
      border-radius: 0 12px 12px 0;
      color: var(--text-secondary);
      font-style: normal;
    }
    
    blockquote p {
      margin: 0.5rem 0;
    }
    
    /* Horizontal rules */
    hr {
      border: none;
      height: 1px;
      background: var(--border);
      margin: 3rem 0;
    }
    
    /* Cards */
    .card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      margin: 1rem 0;
      box-shadow: var(--shadow-sm);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .card:hover {
      box-shadow: var(--shadow-lg);
      transform: translateY(-2px);
    }
    
    /* Main content */
    main {
      min-height: calc(100vh - 200px);
      padding: 2rem 0;
    }
    
    /* Footer */
    footer {
      margin-top: 4rem;
      padding: 2rem 0;
      border-top: 1px solid var(--border);
      color: var(--text-tertiary);
      font-size: 0.875rem;
      text-align: center;
    }
    
    /* Grid for cards */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 1.5rem;
      margin: 2rem 0;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      h1 { font-size: 2.5rem; }
      h2 { font-size: 1.75rem; }
      h3 { font-size: 1.375rem; }
      
      .nav-content {
        flex-direction: column;
        gap: 1rem;
      }
      
      nav ul {
        flex-wrap: wrap;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <div class="nav-wrapper">
    <div class="container">
      <nav class="nav-content">
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/architecture/">Architecture</a></li>
          <li><a href="/all-docs/">All Docs</a></li>
          <li><a href="/learning-roadmap/">Learning Roadmaps</a></li>
          <li><a href="/devmentor/">DevMentor</a></li>
          <li><a href="/quizmentor/">QuizMentor</a></li>
          <li><a href="/harvest/">Harvest.ai</a></li>
          <li><a href="/naturequest-auth/">Auth</a></li>
          <li><a href="/infrastructure/">Infrastructure</a></li>
        </ul>
        <div class="theme-switcher" aria-label="Theme Switcher">
          <button class="theme-btn" data-theme="light" aria-pressed="false" title="Light mode">🌞 Light</button>
          <button class="theme-btn active" data-theme="auto" aria-pressed="true" title="Auto mode">🧭 Auto</button>
          <button class="theme-btn" data-theme="dark" aria-pressed="false" title="Dark mode">🌙 Dark</button>
        </div>
      </nav>
    </div>
  </div>

  <main class="container">
    <div class="product-header" style="background: #f6f8fa; padding: 1rem; border-radius: 5px; margin-bottom: 2rem;">
  <span style="color: #666;">QuizMentor</span> / 
  <span style="color: #999;">QUIZ_OPTIMIZATION_FLOW.md</span>
</div>

<h1>QUIZ OPTIMIZATION FLOW</h1>


<h1 id="how-quiz-optimization-actually-works---simple-flow">How Quiz Optimization Actually Works - Simple Flow</h1>

<h2 id="the-big-picture">The Big Picture</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>User Starts Quiz → Check Their Level → Check Recent Performance → Select Smart Questions → Order Them Well → Track Results
</code></pre></div></div>

<h2 id="step-by-step-logic-flow">Step-by-Step Logic Flow</h2>

<h3 id="1️⃣-when-user-starts-a-quiz">1️⃣ When User Starts a Quiz</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>User selects:
- Category (e.g., "Science")
- Session Type:
  • Quick (5 questions, unlimited lives)
  • Normal (7 questions, 3 lives)
  • Challenge (10 questions, 1 life)
</code></pre></div></div>

<h3 id="2️⃣-system-checks-users-skill-level">2️⃣ System Checks User’s Skill Level</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Simple database query</span>
<span class="k">SELECT</span> <span class="n">total_questions</span><span class="p">,</span> <span class="n">correct_answers</span> 
<span class="k">FROM</span> <span class="n">user_progress</span> 
<span class="k">WHERE</span> <span class="n">user_id</span> <span class="o">=</span> <span class="o">?</span> <span class="k">AND</span> <span class="n">category_id</span> <span class="o">=</span> <span class="o">?</span>

<span class="c1">-- Then calculate:</span>
<span class="n">Accuracy</span> <span class="o">=</span> <span class="n">correct_answers</span> <span class="o">/</span> <span class="n">total_questions</span>

<span class="n">If</span> <span class="n">accuracy</span> <span class="o">&gt;=</span> <span class="mi">90</span><span class="o">%</span> <span class="err">→</span> <span class="k">Level</span> <span class="mi">5</span> <span class="p">(</span><span class="n">Expert</span><span class="p">)</span>
<span class="n">If</span> <span class="n">accuracy</span> <span class="o">&gt;=</span> <span class="mi">80</span><span class="o">%</span> <span class="err">→</span> <span class="k">Level</span> <span class="mi">4</span> <span class="p">(</span><span class="n">Advanced</span><span class="p">)</span>  
<span class="n">If</span> <span class="n">accuracy</span> <span class="o">&gt;=</span> <span class="mi">70</span><span class="o">%</span> <span class="err">→</span> <span class="k">Level</span> <span class="mi">3</span> <span class="p">(</span><span class="n">Intermediate</span><span class="p">)</span>
<span class="n">If</span> <span class="n">accuracy</span> <span class="o">&gt;=</span> <span class="mi">60</span><span class="o">%</span> <span class="err">→</span> <span class="k">Level</span> <span class="mi">2</span> <span class="p">(</span><span class="n">Improving</span><span class="p">)</span>
<span class="k">Else</span> <span class="err">→</span> <span class="k">Level</span> <span class="mi">1</span> <span class="p">(</span><span class="n">Beginner</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="3️⃣-check-recent-performance-last-10-questions">3️⃣ Check Recent Performance (Last 10 Questions)</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Look at last 10 answers:
✓ ✓ ✓ → User is on fire! (3+ correct in row)
✗ ✗ → User is struggling (2+ wrong in row)
✓ ✗ ✓ → User is normal
</code></pre></div></div>

<h3 id="4️⃣-smart-question-selection">4️⃣ Smart Question Selection</h3>

<p>The system picks questions based on user’s situation:</p>

<h4 id="if-user-is-struggling-2-wrong">If User is Struggling (2+ wrong):</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>40% EASIER questions (level - 1)
20% REVIEW questions (ones they got wrong before)
40% NORMAL questions (their level)
= Confidence building mix
</code></pre></div></div>

<h4 id="if-user-is-doing-great-3-correct">If User is Doing Great (3+ correct):</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>30% HARDER questions (level + 1)
20% REVIEW questions (reinforce learning)
50% NORMAL questions (maintain flow)
= Challenge without frustration
</code></pre></div></div>

<h4 id="if-user-is-normal">If User is Normal:</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>20% REVIEW questions (spaced repetition)
80% NORMAL questions (their level)
= Steady progress
</code></pre></div></div>

<h3 id="5️⃣-question-ordering-the-secret-sauce">5️⃣ Question Ordering (The Secret Sauce)</h3>

<p>Questions are ordered for psychological flow:</p>

<h4 id="for-5-question-quiz">For 5 Question Quiz:</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. Easy (warm up)
2. Medium (build confidence)
3. Medium (maintain flow)
4. Hard (peak challenge)
5. Medium (cool down)
</code></pre></div></div>

<h4 id="for-7-question-quiz">For 7 Question Quiz:</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. Easy
2. Easy (build confidence)
3. Medium
4. Medium (establish rhythm)
5. Hard
6. Hard (peak challenge)
7. Medium (satisfying end)
</code></pre></div></div>

<h4 id="for-10-question-quiz">For 10 Question Quiz:</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Gradual increase → Peak at 70% → Gradual decrease
</code></pre></div></div>

<h3 id="6️⃣-real-time-adjustments">6️⃣ Real-Time Adjustments</h3>

<p>After EACH answer, system tracks:</p>
<ul>
  <li>Was it correct?</li>
  <li>How long did it take?</li>
  <li>What difficulty was it?</li>
</ul>

<p>This affects the NEXT quiz session.</p>

<h2 id="real-example">Real Example</h2>

<h3 id="sarahs-quiz-experience">Sarah’s Quiz Experience:</h3>

<p><strong>Starting State:</strong></p>
<ul>
  <li>Level: 2 (Improving)</li>
  <li>Recent: Got 2 wrong in a row</li>
  <li>Selected: Normal mode (7 questions)</li>
</ul>

<p><strong>System Decides:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>She's struggling, so:
- 3 easier questions (40% of 7)
- 1 review question (20% of 7)  
- 3 normal questions (40% of 7)
</code></pre></div></div>

<p><strong>Question Order:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. Easy (warm up, build confidence)
2. Easy (continue building)
3. Review (familiar but needs practice)
4. Normal (test current level)
5. Normal (maintain flow)
6. Easy (prevent frustration)
7. Normal (end on success)
</code></pre></div></div>

<p><strong>Result:</strong> Sarah gets 5/7 correct, feels good, and continues playing!</p>

<h2 id="why-this-works">Why This Works</h2>

<h3 id="-psychology">🧠 Psychology:</h3>
<ul>
  <li><strong>Never too easy:</strong> Adjusts up when you’re doing well</li>
  <li><strong>Never too hard:</strong> Adjusts down when struggling</li>
  <li><strong>Always engaging:</strong> Mix of review + new content</li>
</ul>

<h3 id="-data-driven">📊 Data-Driven:</h3>
<ul>
  <li>Tracks everything</li>
  <li>Learns your patterns</li>
  <li>Improves over time</li>
</ul>

<h3 id="-gamification">🎮 Gamification:</h3>
<ul>
  <li>XP scales with difficulty</li>
  <li>Unlocks based on performance</li>
  <li>Encouragement when needed</li>
</ul>

<h2 id="the-database-tables-simple">The Database Tables (Simple!)</h2>

<h3 id="user_progress">user_progress</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">user_progress</span> <span class="p">(</span>
  <span class="n">user_id</span> <span class="n">UUID</span><span class="p">,</span>
  <span class="n">category_id</span> <span class="n">UUID</span><span class="p">,</span>
  <span class="n">total_questions</span> <span class="nb">INT</span><span class="p">,</span>
  <span class="n">correct_answers</span> <span class="nb">INT</span><span class="p">,</span>
  <span class="n">current_level</span> <span class="nb">INT</span><span class="p">,</span>
  <span class="n">unlocked_hints</span> <span class="nb">BOOLEAN</span><span class="p">,</span>
  <span class="n">unlocked_challenge</span> <span class="nb">BOOLEAN</span><span class="p">,</span>
  <span class="n">unlocked_multiplayer</span> <span class="nb">BOOLEAN</span>
<span class="p">);</span>
</code></pre></div></div>

<h3 id="question_history">question_history</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">question_history</span> <span class="p">(</span>
  <span class="n">user_id</span> <span class="n">UUID</span><span class="p">,</span>
  <span class="n">question_id</span> <span class="n">UUID</span><span class="p">,</span>
  <span class="n">category_id</span> <span class="n">UUID</span><span class="p">,</span>
  <span class="n">is_correct</span> <span class="nb">BOOLEAN</span><span class="p">,</span>
  <span class="n">difficulty</span> <span class="nb">INT</span><span class="p">,</span>
  <span class="n">time_spent</span> <span class="nb">INT</span><span class="p">,</span>
  <span class="n">answered_at</span> <span class="nb">TIMESTAMP</span>
<span class="p">);</span>
</code></pre></div></div>

<h3 id="questions">questions</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">questions</span> <span class="p">(</span>
  <span class="n">id</span> <span class="n">UUID</span><span class="p">,</span>
  <span class="n">category_id</span> <span class="n">UUID</span><span class="p">,</span>
  <span class="n">question</span> <span class="nb">TEXT</span><span class="p">,</span>
  <span class="k">options</span> <span class="n">JSON</span><span class="p">,</span>
  <span class="n">correct_answer</span> <span class="nb">INT</span><span class="p">,</span>
  <span class="n">difficulty</span> <span class="nb">INT</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="mi">5</span><span class="p">),</span>
  <span class="n">last_shown</span> <span class="nb">TIMESTAMP</span>
<span class="p">);</span>
</code></pre></div></div>

<h2 id="implementation-checklist">Implementation Checklist</h2>

<p>✅ <strong>Phase 1: Basic Logic</strong></p>
<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Create SimpleQuizOptimizer service</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Add to existing quiz flow</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Test with sample data</li>
</ul>

<p>✅ <strong>Phase 2: Database</strong></p>
<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Create tables</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Add RPC functions</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Set up indexes</li>
</ul>

<p>✅ <strong>Phase 3: UI Updates</strong></p>
<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Show difficulty indicators</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Display encouragement messages</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Add unlock notifications</li>
</ul>

<p>✅ <strong>Phase 4: Testing</strong></p>
<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Test struggling user flow</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Test expert user flow</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Test edge cases</li>
</ul>

<h2 id="the-bottom-line">The Bottom Line</h2>

<p><strong>Complex Result, Simple Logic:</strong></p>
<ul>
  <li>Check level → Check recent → Pick questions → Order them → Track results</li>
</ul>

<p><strong>No Over-Engineering:</strong></p>
<ul>
  <li>Just IF/THEN logic</li>
  <li>Simple database queries</li>
  <li>Clear patterns</li>
</ul>

<p><strong>User Experience:</strong></p>
<ul>
  <li>Feels personalized</li>
  <li>Never frustrating</li>
  <li>Always progressing</li>
</ul>

<p>This is production-ready and actually implementable!</p>



<div style="margin-top: 3rem; padding: 1rem; background: #f6f8fa; border-radius: 5px;">
  <p style="margin: 0; color: #666; font-size: 0.9em;">
    📁 Source: QuizMentor / QUIZ_OPTIMIZATION_FLOW.md
  </p>
</div>

  </main>

  <footer>
    <p>&copy; 2024 NatureQuest. Documentation Hub v1.0.0</p>
  </footer>

  <script>
    (function() {
      const html = document.documentElement;
      const buttons = [];
      function setActive(theme) {
        buttons.forEach(b => {
          const active = b.dataset.theme === theme;
          b.classList.toggle('active', active);
          b.setAttribute('aria-pressed', active ? 'true' : 'false');
        });
      }
      function applyTheme(theme) {
        if (theme === 'auto') {
          html.removeAttribute('data-theme');
          localStorage.removeItem('theme');
        } else {
          html.setAttribute('data-theme', theme);
          localStorage.setItem('theme', theme);
        }
        setActive(theme);
      }
      document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('.theme-btn').forEach(btn => {
          buttons.push(btn);
          btn.addEventListener('click', () => applyTheme(btn.dataset.theme));
        });
        const saved = localStorage.getItem('theme');
        if (saved === 'light' || saved === 'dark') {
          applyTheme(saved);
        } else {
          applyTheme('auto');
        }
      });
    })();
  </script>
</body>
</html>
